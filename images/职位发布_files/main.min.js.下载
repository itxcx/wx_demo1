/*! jQuery v2.1.4 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */

/*
 AngularJS v1.4.4
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/

/**
 * State-based routing for AngularJS
 * @version v0.2.15
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

/*
 AngularJS v1.4.3
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/

/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.12.1 - 2015-07-28T03:50:59.076Z
 * License: MIT
 */

//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors

//     Underscore may be freely distributed under the MIT license.

/*
 Highcharts JS v4.1.9 (2015-10-07)

 (c) 2009-2014 Torstein Honsi

 License: www.highcharts.com/license
*/

/**
 * highcharts-ng
 * @version v0.0.8 - 2015-02-25
 * @link https://github.com/pablojim/highcharts-ng
 * @author Barry Fitzgerald <>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

/*******************************************************************************
* KindEditor - WYSIWYG HTML Editor for Internet
* Copyright (C) 2006-2016 kindsoft.net
*
* @author Roddy <luolonghao@gmail.com>
* @website http://www.kindsoft.net/
* @licence http://www.kindsoft.net/license.php
* @version 4.1.11 (2016-03-31)
*******************************************************************************/

/*******************************************************************************
* KindEditor - WYSIWYG HTML Editor for Internet
* Copyright (C) 2006-2011 kindsoft.net
*
* @author Roddy <luolonghao@gmail.com>
* @site http://www.kindsoft.net/
* @licence http://www.kindsoft.net/license.php
*******************************************************************************/

!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=J.type(e);return"function"!==n&&!J.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function i(e,t,n){if(J.isFunction(t))return J.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return J.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return J.filter(t,e,n);t=J.filter(t,e)}return J.grep(e,function(e){return K.call(t,e)>=0!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=fe[e]={};return J.each(e.match(he)||[],function(e,n){t[n]=!0}),t}function a(){Z.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),J.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=J.expando+s.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(we,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:be.test(n)?J.parseJSON(n):n)}catch(e){}ye.set(e,t,n)}else n=void 0;return n}function c(){return!0}function u(){return!1}function d(){try{return Z.activeElement}catch(e){}}function p(e,t){return J.nodeName(e,"table")&&J.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function h(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=Le.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,i=e.length;i>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function g(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),a=ve.set(t,o),c=o.events)){delete a.handle,a.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)J.event.add(t,r,c[r][n])}ye.hasData(e)&&(s=ye.access(e),l=J.extend({},s),ye.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&J.nodeName(e,t)?J.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&_e.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var i,r=J(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:J.css(r[0],"display");return r.detach(),o}function w(e){var t=Z,n=Be[e];return n||(n=b(e,t),"none"!==n&&n||(Ue=(Ue||J("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ue[0].contentDocument,t.write(),t.close(),n=b(e,t),Ue.detach()),Be[e]=n),n}function x(e,t,n){var i,r,o,a,s=e.style;return n=n||We(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||J.contains(e.ownerDocument,e)||(a=J.style(e,t)),je.test(a)&&He.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function $(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Ye.length;r--;)if(t=Ye[r]+n,t in e)return t;return i}function _(e,t,n){var i=ze.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function C(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=J.css(e,n+$e[o],!0,r)),i?("content"===n&&(a-=J.css(e,"padding"+$e[o],!0,r)),"margin"!==n&&(a-=J.css(e,"border"+$e[o]+"Width",!0,r))):(a+=J.css(e,"padding"+$e[o],!0,r),"padding"!==n&&(a+=J.css(e,"border"+$e[o]+"Width",!0,r)));return a}function S(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=We(e),a="border-box"===J.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=x(e,t,o),(0>r||null==r)&&(r=e.style[t]),je.test(r))return r;i=a&&(X.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+C(e,t,n||(a?"border":"content"),i,o)+"px"}function T(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=ve.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&ke(i)&&(o[a]=ve.access(i,"olddisplay",w(i.nodeName)))):(r=ke(i),"none"===n&&r||ve.set(i,"olddisplay",r?n:J.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function E(e,t,n,i,r){return new E.prototype.init(e,t,n,i,r)}function A(){return setTimeout(function(){Xe=void 0}),Xe=J.now()}function D(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=$e[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var i,r=(nt[t]||[]).concat(nt["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function P(e,t,n){var i,r,o,a,s,l,c,u,d=this,p={},h=e.style,f=e.nodeType&&ke(e),m=ve.get(e,"fxshow");n.queue||(s=J._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,J.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=J.css(e,"display"),u="none"===c?ve.get(e,"olddisplay")||w(e.nodeName):c,"inline"===u&&"none"===J.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Qe.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}p[i]=m&&m[i]||J.style(e,i)}else c=void 0;if(J.isEmptyObject(p))"inline"===("none"===c?w(e.nodeName):c)&&(h.display=c);else{m?"hidden"in m&&(f=m.hidden):m=ve.access(e,"fxshow",{}),o&&(m.hidden=!f),f?J(e).show():d.done(function(){J(e).hide()}),d.done(function(){var t;ve.remove(e,"fxshow");for(t in p)J.style(e,t,p[t])});for(i in p)a=M(f?m[i]:0,i,d),i in m||(m[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function O(e,t){var n,i,r,o,a;for(n in e)if(i=J.camelCase(n),r=t[i],o=e[n],J.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=J.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function I(e,t,n){var i,r,o=0,a=tt.length,s=J.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Xe||A(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:J.extend({},t),opts:J.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xe||A(),duration:n.duration,tweens:[],createTween:function(t,n){var i=J.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(O(u,c.opts.specialEasing);a>o;o++)if(i=tt[o].call(c,e,u,c.opts))return i;return J.map(u,M,c),J.isFunction(c.opts.start)&&c.opts.start.call(e,c),J.fx.timer(J.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function N(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(he)||[];if(J.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function L(e,t,n,i){function r(s){var l;return o[s]=!0,J.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===bt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function F(e,t){var n,i,r=J.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&J.extend(!0,e,i),e}function R(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function U(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function B(e,t,n,i){var r;if(J.isArray(t))J.each(t,function(t,r){n||_t.test(e)?i(e,r):B(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==J.type(t))i(e,t);else for(r in t)B(e+"["+r+"]",t[r],n,i)}function H(e){return J.isWindow(e)?e:9===e.nodeType&&e.defaultView}var j=[],W=j.slice,q=j.concat,z=j.push,K=j.indexOf,V={},G=V.toString,Y=V.hasOwnProperty,X={},Z=e.document,Q="2.1.4",J=function(e,t){return new J.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,ie=function(e,t){return t.toUpperCase()};J.fn=J.prototype={jquery:Q,constructor:J,selector:"",length:0,toArray:function(){return W.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:W.call(this)},pushStack:function(e){var t=J.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return J.each(this,e,t)},map:function(e){return this.pushStack(J.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:z,sort:j.sort,splice:j.splice},J.extend=J.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||J.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(c&&i&&(J.isPlainObject(i)||(r=J.isArray(i)))?(r?(r=!1,o=n&&J.isArray(n)?n:[]):o=n&&J.isPlainObject(n)?n:{},a[t]=J.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},J.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===J.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!J.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===J.type(e)&&!e.nodeType&&!J.isWindow(e)&&!(e.constructor&&!Y.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[G.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=J.trim(e),e&&(1===e.indexOf("use strict")?(t=Z.createElement("script"),t.text=e,Z.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,ie)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,a=e.length,s=n(e);if(i){if(s)for(;a>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?J.merge(i,"string"==typeof e?[e]:e):z.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:K.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)r=t(e[o],o,i),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,i),null!=r&&l.push(r);return q.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),J.isFunction(e)?(i=W.call(arguments,2),r=function(){return e.apply(t||this,i.concat(W.call(arguments)))},r.guid=e.guid=e.guid||J.guid++,r):void 0},now:Date.now,support:X}),J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var re=function(e){function t(e,t,n,i){var r,o,a,s,l,c,d,h,f,m;if((t?t.ownerDocument||t:B)!==P&&M(t),t=t||P,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&I){if(11!==s&&(r=ye.exec(e)))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&R(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&x.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(x.qsa&&(!N||!N.test(e))){if(h=d=U,f=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=C(e),(d=t.getAttribute("id"))?h=d.replace(we,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+p(c[l]);f=be.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Q.apply(n,f.querySelectorAll(m)),n}catch(e){}finally{d||t.removeAttribute("id")}}}return T(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>$.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[U]=!0,e}function r(e){var t=P.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)$.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=j++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c=[H,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[U]||(t[U]={}),(s=l[i])&&s[0]===H&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function v(e,t,n,r,o,a){return r&&!r[U]&&(r=v(r)),o&&!o[U]&&(o=v(o,a)),i(function(i,a,s,l){var c,u,d,p=[],h=[],f=a.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:g(v,p,e,s,l),b=n?o||(i?e:f||r)?[]:a:y;if(n&&n(y,b,s,l),r)for(c=g(b,h),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[h[u]]=!(y[h[u]]=d));if(i){if(o||e){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?ee(i,d):p[u])>-1&&(i[c]=!(a[c]=d))}}else b=g(b===a?b.splice(f,b.length):b),o?o(null,a,b,l):Q.apply(a,b)})}function y(e){for(var t,n,i,r=e.length,o=$.relative[e[0].type],a=o||$.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),c=h(function(e){return ee(t,e)>-1},a,!0),u=[function(e,n,i){var r=!o&&(i||n!==E)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];r>s;s++)if(n=$.relative[e[s].type])u=[h(f(u),n)];else{if(n=$.filter[e[s].type].apply(null,e[s].matches),n[U]){for(i=++s;r>i&&!$.relative[e[i].type];i++);return v(s>1&&f(u),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&p(e))}u.push(n)}return f(u)}function b(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,c){var u,d,p,h=0,f="0",m=i&&[],v=[],y=E,b=i||o&&$.find.TAG("*",c),w=H+=null==y?1:Math.random()||.1,x=b.length;for(c&&(E=a!==P&&a);f!==x&&null!=(u=b[f]);f++){if(o&&u){for(d=0;p=e[d++];)if(p(u,a,s)){l.push(u);break}c&&(H=w)}r&&((u=!p&&u)&&h--,i&&m.push(u))}if(h+=f,r&&f!==h){for(d=0;p=n[d++];)p(m,v,a,s);if(i){if(h>0)for(;f--;)m[f]||v[f]||(v[f]=X.call(l));v=g(v)}Q.apply(l,v),c&&!i&&v.length>0&&h+n.length>1&&t.uniqueSort(l)}return c&&(H=w,E=y),m};return r?i(a):a}var w,x,$,k,_,C,S,T,E,A,D,M,P,O,I,N,L,F,R,U="sizzle"+1*new Date,B=e.document,H=0,j=0,W=n(),q=n(),z=n(),K=function(e,t){return e===t&&(D=!0),0},V=1<<31,G={}.hasOwnProperty,Y=[],X=Y.pop,Z=Y.push,Q=Y.push,J=Y.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(ae),he=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),$e=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ke=function(){M()};try{Q.apply(Y=J.call(B.childNodes),B.childNodes),Y[B.childNodes.length].nodeType}catch(e){Q={apply:Y.length?function(e,t){Z.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},_=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:B;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,O=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),I=!_(i),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(i.getElementsByClassName),x.getById=r(function(e){return O.appendChild(e).id=U,!i.getElementsByName||!i.getElementsByName(U).length}),x.getById?($.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},$.filter.ID=function(e){var t=e.replace(xe,$e);return function(e){return e.getAttribute("id")===t}}):(delete $.find.ID,$.filter.ID=function(e){var t=e.replace(xe,$e);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),$.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},$.find.CLASS=x.getElementsByClassName&&function(e,t){return I?t.getElementsByClassName(e):void 0},L=[],N=[],(x.qsa=ve.test(i.querySelectorAll))&&(r(function(e){O.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+U+"-]").length||N.push("~="),e.querySelectorAll(":checked").length||N.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||N.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(x.matchesSelector=ve.test(F=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){x.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),L.push("!=",ae)}),N=N.length&&new RegExp(N.join("|")),L=L.length&&new RegExp(L.join("|")),t=ve.test(O.compareDocumentPosition),R=t||ve.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},K=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===B&&R(B,e)?-1:t===i||t.ownerDocument===B&&R(B,t)?1:A?ee(A,e)-ee(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,r=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:A?ee(A,e)-ee(A,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===B?-1:c[r]===B?1:0},i):P},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==P&&M(e),n=n.replace(de,"='$1']"),!(!x.matchesSelector||!I||L&&L.test(n)||N&&N.test(n)))try{var i=F.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&M(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&M(e);var n=$.attrHandle[t.toLowerCase()],i=n&&G.call($.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==i?i:x.attributes||!I?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(D=!x.detectDuplicates,A=!x.sortStable&&e.slice(0),e.sort(K),D){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return A=null,e},k=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=k(t);return n},$=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,$e),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,$e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,$e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,h,f,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(u=g[U]||(g[U]={}),c=u[e]||[],h=c[0]===H&&c[1],p=c[0]===H&&c[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(p=h=0)||f.pop();)if(1===d.nodeType&&++p&&d===t){u[e]=[H,h,p];break}}else if(y&&(c=(t[U]||(t[U]={}))[e])&&c[0]===H)p=c[1];else for(;(d=++h&&d&&d[m]||(p=h=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(y&&((d[U]||(d[U]={}))[e]=[H,p]),d!==t)););return p-=r,p===i||p%i===0&&p/i>=0}}},PSEUDO:function(e,n){var r,o=$.pseudos[e]||$.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[U]?o(n):o.length>1?(r=[e,e,"",n],$.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=ee(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(le,"$1"));return r[U]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(xe,$e),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:i(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,$e).toLowerCase(),function(t){var n;do if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!$.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},$.pseudos.nth=$.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})$.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})$.pseudos[w]=l(w);return d.prototype=$.filters=$.pseudos,$.setFilters=new d,C=t.tokenize=function(e,n){var i,r,o,a,s,l,c,u=q[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=$.preFilter;s;){(!i||(r=ce.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ue.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(le," ")}),s=s.slice(i.length));for(a in $.filter)!(r=fe[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):q(e,l).slice(0)},S=t.compile=function(e,t){var n,i=[],r=[],o=z[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)o=y(t[n]),o[U]?i.push(o):r.push(o);o=z(e,b(r,i)),o.selector=e}return o},T=t.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,d=!i&&C(e=c.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===t.nodeType&&I&&$.relative[o[1].type]){if(t=($.find.ID(a.matches[0].replace(xe,$e),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!$.relative[s=a.type]);)if((l=$.find[s])&&(i=l(a.matches[0].replace(xe,$e),be.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&p(o),!e)return Q.apply(n,i),n;break}}return(c||S(e,d))(i,t,!I,n,be.test(e)&&u(t.parentNode)||t),n},x.sortStable=U.split("").sort(K).join("")===U,x.detectDuplicates=!!D,M(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);J.find=re,J.expr=re.selectors,J.expr[":"]=J.expr.pseudos,J.unique=re.uniqueSort,J.text=re.getText,J.isXMLDoc=re.isXML,J.contains=re.contains;var oe=J.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;J.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?J.find.matchesSelector(i,e)?[i]:[]:J.find.matches(e,J.grep(t,function(e){return 1===e.nodeType}))},J.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(J(e).filter(function(){
for(t=0;n>t;t++)if(J.contains(r[t],this))return!0}));for(t=0;n>t;t++)J.find(e,r[t],i);return i=this.pushStack(n>1?J.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&oe.test(e)?J(e):e||[],!1).length}});var le,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ue=J.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ce.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof J?t[0]:t,J.merge(this,J.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),ae.test(n[1])&&J.isPlainObject(t))for(n in t)J.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=Z.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):J.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(J):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),J.makeArray(e,this))};ue.prototype=J.fn,le=J(Z);var de=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};J.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&J(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),J.fn.extend({has:function(e){var t=J(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(J.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=oe.test(e)||"string"!=typeof e?J(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&J.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?J.unique(o):o)},index:function(e){return e?"string"==typeof e?K.call(J(e),this[0]):K.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(J.unique(J.merge(this.get(),J(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),J.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return J.dir(e,"parentNode")},parentsUntil:function(e,t,n){return J.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return J.dir(e,"nextSibling")},prevAll:function(e){return J.dir(e,"previousSibling")},nextUntil:function(e,t,n){return J.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return J.dir(e,"previousSibling",n)},siblings:function(e){return J.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return J.sibling(e.firstChild)},contents:function(e){return e.contentDocument||J.merge([],e.childNodes)}},function(e,t){J.fn[e]=function(n,i){var r=J.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=J.filter(i,r)),this.length>1&&(pe[e]||J.unique(r),de.test(e)&&r.reverse()),this.pushStack(r)}});var he=/\S+/g,fe={};J.Callbacks=function(e){e="string"==typeof e?fe[e]||o(e):J.extend({},e);var t,n,i,r,a,s,l=[],c=!e.once&&[],u=function(o){for(t=e.memory&&o,n=!0,s=r||0,r=0,a=l.length,i=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,l&&(c?c.length&&u(c.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function t(n){J.each(n,function(n,i){var r=J.type(i);"function"===r?e.unique&&d.has(i)||l.push(i):i&&i.length&&"string"!==r&&t(i)})}(arguments),i?a=l.length:t&&(r=n,u(t))}return this},remove:function(){return l&&J.each(arguments,function(e,t){for(var n;(n=J.inArray(t,l,n))>-1;)l.splice(n,1),i&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?J.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||n&&!c||(t=t||[],t=[e,t.slice?t.slice():t],i?c.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},J.extend({Deferred:function(e){var t=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return J.Deferred(function(n){J.each(t,function(t,o){var a=J.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&J.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?J.extend(e,i):i}},r={};return i.pipe=i.then,J.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=W.call(arguments),a=o.length,s=1!==a||e&&J.isFunction(e.promise)?a:0,l=1===s?e:J.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?W.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&J.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}});var me;J.fn.ready=function(e){return J.ready.promise().done(e),this},J.extend({isReady:!1,readyWait:1,holdReady:function(e){e?J.readyWait++:J.ready(!0)},ready:function(e){(e===!0?--J.readyWait:J.isReady)||(J.isReady=!0,e!==!0&&--J.readyWait>0||(me.resolveWith(Z,[J]),J.fn.triggerHandler&&(J(Z).triggerHandler("ready"),J(Z).off("ready"))))}}),J.ready.promise=function(t){return me||(me=J.Deferred(),"complete"===Z.readyState?setTimeout(J.ready):(Z.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),me.promise(t)},J.ready.promise();var ge=J.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===J.type(n)){r=!0;for(s in n)J.access(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,J.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(J(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o};J.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=J.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,J.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(J.isEmptyObject(o))J.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,J.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{J.isArray(t)?i=t.concat(t.map(J.camelCase)):(r=J.camelCase(t),t in a?i=[t,r]:(i=r,i=i in a?[i]:i.match(he)||[])),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(e){return!J.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,ye=new s,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;J.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),J.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=J.camelCase(i.slice(5)),l(o,i,r[i])));ve.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ye.set(this,e)}):ge(this,function(t){var n,i=J.camelCase(e);if(o&&void 0===t){if(n=ye.get(o,e),void 0!==n)return n;if(n=ye.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,i);ye.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),J.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ve.get(e,t),n&&(!i||J.isArray(n)?i=ve.access(e,t,J.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=J.queue(e,t),i=n.length,r=n.shift(),o=J._queueHooks(e,t),a=function(){J.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:J.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),J.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?J.queue(this[0],e):void 0===t?this:this.each(function(){var n=J.queue(this,e,t);J._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&J.dequeue(this,e)})},dequeue:function(e){return this.each(function(){J.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=J.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ve.get(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$e=["Top","Right","Bottom","Left"],ke=function(e,t){return e=t||e,"none"===J.css(e,"display")||!J.contains(e.ownerDocument,e)},_e=/^(?:checkbox|radio)$/i;!function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),X.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",X.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ce="undefined";X.focusinBubbles="onfocusin"in e;var Se=/^key/,Te=/^(?:mouse|pointer|contextmenu)|click/,Ee=/^(?:focusinfocus|focusoutblur)$/,Ae=/^([^.]*)(?:\.(.+)|)$/;J.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,u,d,p,h,f,m,g=ve.get(e);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=J.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return typeof J!==Ce&&J.event.triggered!==t.type?J.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(he)||[""],c=t.length;c--;)s=Ae.exec(t[c])||[],h=m=s[1],f=(s[2]||"").split(".").sort(),h&&(d=J.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,d=J.event.special[h]||{},u=J.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&J.expr.match.needsContext.test(r),namespace:f.join(".")},o),(p=l[h])||(p=l[h]=[],p.delegateCount=0,d.setup&&d.setup.call(e,i,f,a)!==!1||e.addEventListener&&e.addEventListener(h,a,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),J.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,p,h,f,m,g=ve.hasData(e)&&ve.get(e);if(g&&(l=g.events)){for(t=(t||"").match(he)||[""],c=t.length;c--;)if(s=Ae.exec(t[c])||[],h=m=s[1],f=(s[2]||"").split(".").sort(),h){for(d=J.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,p=l[h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)u=p[o],!r&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||J.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)J.event.remove(e,h+t[c],n,i,!0);J.isEmptyObject(l)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,n,i,r){var o,a,s,l,c,u,d,p=[i||Z],h=Y.call(t,"type")?t.type:t,f=Y.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||Z,3!==i.nodeType&&8!==i.nodeType&&!Ee.test(h+J.event.triggered)&&(h.indexOf(".")>=0&&(f=h.split("."),h=f.shift(),f.sort()),c=h.indexOf(":")<0&&"on"+h,t=t[J.expando]?t:new J.Event(h,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:J.makeArray(n,[t]),d=J.event.special[h]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!J.isWindow(i)){for(l=d.delegateType||h,Ee.test(l+h)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(i.ownerDocument||Z)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||h,u=(ve.get(a,"events")||{})[t.type]&&ve.get(a,"handle"),u&&u.apply(a,n),u=c&&a[c],u&&u.apply&&J.acceptData(a)&&(t.result=u.apply(a,n),t.result===!1&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!J.acceptData(i)||c&&J.isFunction(i[h])&&!J.isWindow(i)&&(s=i[c],s&&(i[c]=null),J.event.triggered=h,i[h](),J.event.triggered=void 0,s&&(i[c]=s)),t.result}},dispatch:function(e){e=J.event.fix(e);var t,n,i,r,o,a=[],s=W.call(arguments),l=(ve.get(this,"events")||{})[e.type]||[],c=J.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=J.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((J.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;s>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?J(r,this).index(l)>=0:J.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Z,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[J.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Te.test(r)?this.mouseHooks:Se.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new J.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=Z),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&J.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return J.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=J.extend(new J.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?J.event.trigger(r,null,t):J.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},J.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},J.Event=function(e,t){return this instanceof J.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:u):this.type=e,t&&J.extend(this,t),this.timeStamp=e&&e.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(e,t)},J.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},J.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){J.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!J.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),X.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){J.event.simulate(t,e.target,J.event.fix(e),!0)};J.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ve.access(i,t);r||i.addEventListener(e,n,!0),ve.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ve.access(i,t)-1;r?ve.access(i,t,r):(i.removeEventListener(e,n,!0),ve.remove(i,t))}}}),J.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=u;else if(!i)return this;return 1===r&&(o=i,i=function(e){return J().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=J.guid++)),this.each(function(){J.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,J(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=u),this.each(function(){J.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){J.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?J.event.trigger(e,t,n,!0):void 0}});var De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Me=/<([\w:]+)/,Pe=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^$|\/(?:java|ecma)script/i,Le=/^true\/(.*)/,Fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Re={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Re.optgroup=Re.option,Re.tbody=Re.tfoot=Re.colgroup=Re.caption=Re.thead,Re.th=Re.td,J.extend({clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=J.contains(e.ownerDocument,e);if(!(X.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||J.isXMLDoc(e)))for(a=v(s),o=v(e),i=0,r=o.length;r>i;i++)y(o[i],a[i]);if(t)if(n)for(o=o||v(e),a=a||v(s),i=0,r=o.length;r>i;i++)g(o[i],a[i]);else g(e,s);return a=v(s,"script"),a.length>0&&m(a,!l&&v(e,"script")),s},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,u=t.createDocumentFragment(),d=[],p=0,h=e.length;h>p;p++)if(r=e[p],r||0===r)if("object"===J.type(r))J.merge(d,r.nodeType?[r]:r);else if(Pe.test(r)){for(o=o||u.appendChild(t.createElement("div")),a=(Me.exec(r)||["",""])[1].toLowerCase(),s=Re[a]||Re._default,o.innerHTML=s[1]+r.replace(De,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;J.merge(d,o.childNodes),o=u.firstChild,o.textContent=""}else d.push(t.createTextNode(r));for(u.textContent="",p=0;r=d[p++];)if((!i||-1===J.inArray(r,i))&&(l=J.contains(r.ownerDocument,r),o=v(u.appendChild(r),"script"),l&&m(o),n))for(c=0;r=o[c++];)Ne.test(r.type||"")&&n.push(r);return u},cleanData:function(e){for(var t,n,i,r,o=J.event.special,a=0;void 0!==(n=e[a]);a++){if(J.acceptData(n)&&(r=n[ve.expando],r&&(t=ve.cache[r]))){if(t.events)for(i in t.events)o[i]?J.event.remove(n,i):J.removeEvent(n,i,t.handle);ve.cache[r]&&delete ve.cache[r]}delete ye.cache[n[ye.expando]]}}}),J.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?J.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?J.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||J.cleanData(v(n)),n.parentNode&&(t&&J.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(J.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return J.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!Re[(Me.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(De,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(J.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,J.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=q.apply([],e);var n,i,r,o,a,s,l=0,c=this.length,u=this,d=c-1,p=e[0],m=J.isFunction(p);if(m||c>1&&"string"==typeof p&&!X.checkClone&&Ie.test(p))return this.each(function(n){var i=u.eq(n);m&&(e[0]=p.call(this,n,i.html())),i.domManip(e,t)});if(c&&(n=J.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=J.map(v(n,"script"),h),o=r.length;c>l;l++)a=n,l!==d&&(a=J.clone(a,!0,!0),o&&J.merge(r,v(a,"script"))),t.call(this[l],a,l);if(o)for(s=r[r.length-1].ownerDocument,J.map(r,f),l=0;o>l;l++)a=r[l],Ne.test(a.type||"")&&!ve.access(a,"globalEval")&&J.contains(s,a)&&(a.src?J._evalUrl&&J._evalUrl(a.src):J.globalEval(a.textContent.replace(Fe,"")))}return this}}),J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){J.fn[e]=function(e){for(var n,i=[],r=J(e),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),J(r[a])[t](n),z.apply(i,n.get());return this.pushStack(i)}});var Ue,Be={},He=/^margin/,je=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),We=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",r.appendChild(o);var t=e.getComputedStyle(a,null);n="1%"!==t.top,i="4px"===t.width,r.removeChild(o)}var n,i,r=Z.documentElement,o=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",X.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&J.extend(X,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=a.appendChild(Z.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",r.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(o),a.removeChild(n),t}}))}(),J.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r};var qe=/^(none|table(?!-c[ea]).+)/,ze=new RegExp("^("+xe+")(.*)$","i"),Ke=new RegExp("^([+-])=("+xe+")","i"),Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","O","Moz","ms"];J.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=x(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=J.camelCase(t),l=e.style;return t=J.cssProps[s]||(J.cssProps[s]=k(l,s)),a=J.cssHooks[t]||J.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=Ke.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(J.css(e,t)),o="number"),void(null!=n&&n===n&&("number"!==o||J.cssNumber[s]||(n+="px"),X.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var r,o,a,s=J.camelCase(t);return t=J.cssProps[s]||(J.cssProps[s]=k(e.style,s)),a=J.cssHooks[t]||J.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=x(e,t,i)),"normal"===r&&t in Ge&&(r=Ge[t]),""===n||n?(o=parseFloat(r),n===!0||J.isNumeric(o)?o||0:r):r}}),J.each(["height","width"],function(e,t){J.cssHooks[t]={get:function(e,n,i){return n?qe.test(J.css(e,"display"))&&0===e.offsetWidth?J.swap(e,Ve,function(){return S(e,t,i)}):S(e,t,i):void 0},set:function(e,n,i){var r=i&&We(e);return _(e,n,i?C(e,t,i,"border-box"===J.css(e,"boxSizing",!1,r),r):0)}}}),J.cssHooks.marginRight=$(X.reliableMarginRight,function(e,t){return t?J.swap(e,{display:"inline-block"},x,[e,"marginRight"]):void 0}),J.each({margin:"",padding:"",border:"Width"},function(e,t){J.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+$e[i]+t]=o[i]||o[i-2]||o[0];return r}},He.test(e)||(J.cssHooks[e+t].set=_)}),J.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var i,r,o={},a=0;if(J.isArray(t)){for(i=We(e),r=t.length;r>a;a++)o[t[a]]=J.css(e,t[a],!1,i);return o}return void 0!==n?J.style(e,t,n):J.css(e,t)},e,t,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ke(this)?J(this).show():J(this).hide()})}}),J.Tween=E,E.prototype={constructor:E,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(J.cssNumber[n]?"":"px")},cur:function(){var e=E.propHooks[this.prop];return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){var t,n=E.propHooks[this.prop];return this.options.duration?this.pos=t=J.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=J.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){J.fx.step[e.prop]?J.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[J.cssProps[e.prop]]||J.cssHooks[e.prop])?J.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},J.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},J.fx=E.prototype.init,J.fx.step={};var Xe,Ze,Qe=/^(?:toggle|show|hide)$/,Je=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[P],nt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Je.exec(t),o=r&&r[3]||(J.cssNumber[e]?"":"px"),a=(J.cssNumber[e]||"px"!==o&&+i)&&Je.exec(J.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,J.style(n.elem,e,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};J.Animation=J.extend(I,{tweener:function(e,t){J.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),J.speed=function(e,t,n){var i=e&&"object"==typeof e?J.extend({},e):{complete:n||!n&&t||J.isFunction(e)&&e,duration:e,easing:n&&t||t&&!J.isFunction(t)&&t};return i.duration=J.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in J.fx.speeds?J.fx.speeds[i.duration]:J.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){J.isFunction(i.old)&&i.old.call(this),i.queue&&J.dequeue(this,i.queue)},i},J.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ke).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=J.isEmptyObject(e),o=J.speed(t,n,i),a=function(){var t=I(this,J.extend({},e),o);(r||ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=J.timers,a=ve.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&et.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&J.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=J.timers,a=i?i.length:0;for(n.finish=!0,J.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),
o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),J.each(["toggle","show","hide"],function(e,t){var n=J.fn[t];J.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(D(t,!0),e,i,r)}}),J.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){J.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),J.timers=[],J.fx.tick=function(){var e,t=0,n=J.timers;for(Xe=J.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||J.fx.stop(),Xe=void 0},J.fx.timer=function(e){J.timers.push(e),e()?J.fx.start():J.timers.pop()},J.fx.interval=13,J.fx.start=function(){Ze||(Ze=setInterval(J.fx.tick,J.fx.interval))},J.fx.stop=function(){clearInterval(Ze),Ze=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fn.delay=function(e,t){return e=J.fx?J.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),n=t.appendChild(Z.createElement("option"));e.type="checkbox",X.checkOn=""!==e.value,X.optSelected=n.selected,t.disabled=!0,X.optDisabled=!n.disabled,e=Z.createElement("input"),e.value="t",e.type="radio",X.radioValue="t"===e.value}();var it,rt,ot=J.expr.attrHandle;J.fn.extend({attr:function(e,t){return ge(this,J.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){J.removeAttr(this,e)})}}),J.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Ce?J.prop(e,t,n):(1===o&&J.isXMLDoc(e)||(t=t.toLowerCase(),i=J.attrHooks[t]||(J.expr.match.bool.test(t)?rt:it)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=J.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void J.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(he);if(o&&1===e.nodeType)for(;n=o[r++];)i=J.propFix[n]||n,J.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!X.radioValue&&"radio"===t&&J.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),rt={set:function(e,t,n){return t===!1?J.removeAttr(e,n):e.setAttribute(n,n),n}},J.each(J.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||J.find.attr;ot[t]=function(e,t,i){var r,o;return i||(o=ot[t],ot[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,ot[t]=o),r}});var at=/^(?:input|select|textarea|button)$/i;J.fn.extend({prop:function(e,t){return ge(this,J.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[J.propFix[e]||e]})}}),J.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!J.isXMLDoc(e),o&&(t=J.propFix[t]||t,r=J.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),X.optSelected||(J.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),J.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){J.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;J.fn.extend({addClass:function(e){var t,n,i,r,o,a,s="string"==typeof e&&e,l=0,c=this.length;if(J.isFunction(e))return this.each(function(t){J(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(he)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=J.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,r,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(J.isFunction(e))return this.each(function(t){J(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(he)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=e?J.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(J.isFunction(e)?function(n){J(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=J(this),o=e.match(he)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Ce||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;J.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=J.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,J(this).val()):e,null==r?r="":"number"==typeof r?r+="":J.isArray(r)&&(r=J.map(r,function(e){return null==e?"":e+""})),t=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=J.valHooks[r.type]||J.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(lt,""):null==n?"":n)):void 0}}),J.extend({valHooks:{option:{get:function(e){var t=J.find.attr(e,"value");return null!=t?t:J.trim(J.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(X.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&J.nodeName(n.parentNode,"optgroup"))){if(t=J(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=J.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=J.inArray(i.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]={set:function(e,t){return J.isArray(t)?e.checked=J.inArray(J(e).val(),t)>=0:void 0}},X.checkOn||(J.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){J.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),J.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ct=J.now(),ut=/\?/;J.parseJSON=function(e){return JSON.parse(e+"")},J.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+e),t};var dt=/#.*$/,pt=/([?&])_=[^&]*/,ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},bt={},wt="*/".concat("*"),xt=e.location.href,$t=vt.exec(xt.toLowerCase())||[];J.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt,type:"GET",isLocal:ft.test($t[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?F(F(e,J.ajaxSettings),t):F(J.ajaxSettings,e)},ajaxPrefilter:N(yt),ajaxTransport:N(bt),ajax:function(e,t){function n(e,t,n,a){var l,u,v,y,w,$=t;2!==b&&(b=2,s&&clearTimeout(s),i=void 0,o=a||"",x.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(y=R(d,x,n)),y=U(d,y,x,l),l?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(J.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(J.etag[r]=w)),204===e||"HEAD"===d.type?$="nocontent":304===e?$="notmodified":($=y.state,u=y.data,v=y.error,l=!v)):(v=$,(e||!$)&&($="error",0>e&&(e=0))),x.status=e,x.statusText=(t||$)+"",l?f.resolveWith(p,[u,$,x]):f.rejectWith(p,[x,$,v]),x.statusCode(g),g=void 0,c&&h.trigger(l?"ajaxSuccess":"ajaxError",[x,d,l?u:v]),m.fireWith(p,[x,$]),c&&(h.trigger("ajaxComplete",[x,d]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,s,l,c,u,d=J.ajaxSetup({},t),p=d.context||d,h=d.context&&(p.nodeType||p.jquery)?J(p):J.event,f=J.Deferred(),m=J.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=ht.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),n(0,t),this}};if(f.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,d.url=((e||d.url||xt)+"").replace(dt,"").replace(gt,$t[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=J.trim(d.dataType||"*").toLowerCase().match(he)||[""],null==d.crossDomain&&(l=vt.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===$t[1]&&l[2]===$t[2]&&(l[3]||("http:"===l[1]?"80":"443"))===($t[3]||("http:"===$t[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=J.param(d.data,d.traditional)),L(yt,d,t,x),2===b)return x;c=J.event&&d.global,c&&0===J.active++&&J.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!mt.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(ut.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=pt.test(r)?r.replace(pt,"$1_="+ct++):r+(ut.test(r)?"&":"?")+"_="+ct++)),d.ifModified&&(J.lastModified[r]&&x.setRequestHeader("If-Modified-Since",J.lastModified[r]),J.etag[r]&&x.setRequestHeader("If-None-Match",J.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+wt+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)x.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(p,x,d)===!1||2===b))return x.abort();w="abort";for(u in{success:1,error:1,complete:1})x[u](d[u]);if(i=L(bt,d,t,x)){x.readyState=1,c&&h.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},d.timeout));try{b=1,i.send(v,n)}catch(e){if(!(2>b))throw e;n(-1,e)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return J.get(e,t,n,"json")},getScript:function(e,t){return J.get(e,void 0,t,"script")}}),J.each(["get","post"],function(e,t){J[t]=function(e,n,i,r){return J.isFunction(n)&&(r=r||i,i=n,n=void 0),J.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),J._evalUrl=function(e){return J.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},J.fn.extend({wrapAll:function(e){var t;return J.isFunction(e)?this.each(function(t){J(this).wrapAll(e.call(this,t))}):(this[0]&&(t=J(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(J.isFunction(e)?function(t){J(this).wrapInner(e.call(this,t))}:function(){var t=J(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=J.isFunction(e);return this.each(function(n){J(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()}}),J.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},J.expr.filters.visible=function(e){return!J.expr.filters.hidden(e)};var kt=/%20/g,_t=/\[\]$/,Ct=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;J.param=function(e,t){var n,i=[],r=function(e,t){t=J.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(e)||e.jquery&&!J.isPlainObject(e))J.each(e,function(){r(this.name,this.value)});else for(n in e)B(n,e[n],t,r);return i.join("&").replace(kt,"+")},J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=J.prop(this,"elements");return e?J.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!J(this).is(":disabled")&&Tt.test(this.nodeName)&&!St.test(e)&&(this.checked||!_e.test(e))}).map(function(e,t){var n=J(this).val();return null==n?null:J.isArray(n)?J.map(n,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:n.replace(Ct,"\r\n")}}).get()}}),J.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Et=0,At={},Dt={0:200,1223:204},Mt=J.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in At)At[e]()}),X.cors=!!Mt&&"withCredentials"in Mt,X.ajax=Mt=!!Mt,J.ajaxTransport(function(e){var t;return X.cors||Mt&&!e.crossDomain?{send:function(n,i){var r,o=e.xhr(),a=++Et;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete At[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?i(o.status,o.statusText):i(Dt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=At[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}:void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return J.globalEval(e),e}}}),J.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),J.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=J("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Pt=[],Ot=/(=)\?(?=&|$)|\?\?/;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Pt.pop()||J.expando+"_"+ct++;return this[e]=!0,e}}),J.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(Ot.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=J.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ot,"$1"+r):t.jsonp!==!1&&(t.url+=(ut.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||J.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Pt.push(r)),a&&J.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),J.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Z;var i=ae.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=J.buildFragment([e],t,r),r&&r.length&&J(r).remove(),J.merge([],i.childNodes))};var It=J.fn.load;J.fn.load=function(e,t,n){if("string"!=typeof e&&It)return It.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>=0&&(i=J.trim(e.slice(s)),e=e.slice(0,s)),J.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&J.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?J("<div>").append(J.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},J.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){J.fn[t]=function(e){return this.on(t,e)}}),J.expr.filters.animated=function(e){return J.grep(J.timers,function(t){return e===t.elem}).length};var Nt=e.document.documentElement;J.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c,u=J.css(e,"position"),d=J(e),p={};"static"===u&&(e.style.position="relative"),s=d.offset(),o=J.css(e,"top"),l=J.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),J.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+r),"using"in t?t.using.call(e,p):d.css(p)}},J.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){J.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,J.contains(t,i)?(typeof i.getBoundingClientRect!==Ce&&(r=i.getBoundingClientRect()),n=H(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===J.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),J.nodeName(e[0],"html")||(i=e.offset()),i.top+=J.css(e[0],"borderTopWidth",!0),i.left+=J.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-J.css(n,"marginTop",!0),left:t.left-i.left-J.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Nt;e&&!J.nodeName(e,"html")&&"static"===J.css(e,"position");)e=e.offsetParent;return e||Nt})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;J.fn[t]=function(r){return ge(this,function(t,r,o){var a=H(t);return void 0===o?a?a[n]:t[r]:void(a?a.scrollTo(i?e.pageXOffset:o,i?o:e.pageYOffset):t[r]=o)},t,r,arguments.length,null)}}),J.each(["top","left"],function(e,t){J.cssHooks[t]=$(X.pixelPosition,function(e,n){return n?(n=x(e,t),je.test(n)?J(e).position()[t]+"px":n):void 0})}),J.each({Height:"height",Width:"width"},function(e,t){J.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){J.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return ge(this,function(t,n,i){var r;return J.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?J.css(t,n,a):J.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),J.fn.size=function(){return this.length},J.fn.andSelf=J.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return J});var Lt=e.jQuery,Ft=e.$;return J.noConflict=function(t){return e.$===J&&(e.$=Ft),t&&e.jQuery===J&&(e.jQuery=Lt),J},typeof t===Ce&&(e.jQuery=e.$=J),J}),function(e,t,n){"use strict";function i(e){return function(){var t,n=arguments[0];for(t="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.4.4/"+(e?e+"/":"")+n,n=1;n<arguments.length;n++){t=t+(1==n?"?":"&")+"p"+(n-1)+"=";var i,r=encodeURIComponent;i=arguments[n],i="function"==typeof i?i.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof i?"undefined":"string"!=typeof i?JSON.stringify(i):i,t+=r(i)}return Error(t)}}function r(e){if(null==e||E(e))return!1;var t="length"in Object(e)&&e.length;return!(e.nodeType!==li||!t)||(k(e)||Jn(e)||0===t||"number"==typeof t&&0<t&&t-1 in e)}function o(e,t,n){var i,a;if(e)if(S(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(Jn(e)||r(e)){var s="object"!=typeof e;for(i=0,a=e.length;i<a;i++)(s||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if($(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)jn.call(e,i)&&t.call(n,e[i],i,e);return e}function a(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function s(e){return function(t,n){e(n,t)}}function l(){return++Zn}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function u(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if(x(a)||S(a))for(var s=Object.keys(a),l=0,d=s.length;l<d;l++){var p=s[l],h=a[p];n&&x(h)?C(h)?e[p]=new Date(h.valueOf()):T(h)?e[p]=new RegExp(h):(x(e[p])||(e[p]=Jn(h)?[]:{}),u(e[p],[h],!0)):e[p]=h}}return c(e,i),e}function d(e){return u(e,qn.call(arguments,1),!1)}function p(e){return u(e,qn.call(arguments,1),!0)}function h(e){return parseInt(e,10)}function f(e,t){return d(Object.create(e),t)}function m(){}function g(e){return e}function v(e){return function(){return e}}function y(e){return S(e.toString)&&e.toString!==Object.prototype.toString}function b(e){return"undefined"==typeof e}function w(e){return"undefined"!=typeof e}function x(e){return null!==e&&"object"==typeof e}function $(e){return null!==e&&"object"==typeof e&&!Gn(e)}function k(e){return"string"==typeof e}function _(e){return"number"==typeof e}function C(e){return"[object Date]"===Vn.call(e)}function S(e){return"function"==typeof e}function T(e){return"[object RegExp]"===Vn.call(e)}function E(e){return e&&e.window===e}function A(e){return e&&e.$evalAsync&&e.$watch}function D(e){return"boolean"==typeof e}function M(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function P(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function O(e){return Hn(e.nodeName||e[0]&&e[0].nodeName)}function I(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),n}function N(e,t,n,i){if(E(e)||A(e))throw Yn("cpws");if(ei.test(Vn.call(t)))throw Yn("cpta");if(t){if(e===t)throw Yn("cpi");n=n||[],i=i||[],x(e)&&(n.push(e),i.push(t));var r;if(Jn(e))for(r=t.length=0;r<e.length;r++)t.push(N(e[r],null,n,i));else{var a=t.$$hashKey;if(Jn(t)?t.length=0:o(t,function(e,n){delete t[n]}),$(e))for(r in e)t[r]=N(e[r],null,n,i);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=N(e[r],null,n,i));else for(r in e)jn.call(e,r)&&(t[r]=N(e[r],null,n,i));c(t,a)}}else if(t=e,x(e)){if(n&&-1!==(a=n.indexOf(e)))return i[a];if(Jn(e))return N(e,[],n,i);if(ei.test(Vn.call(e)))t=new e.constructor(e);else if(C(e))t=new Date(e.getTime());else{if(!T(e))return r=Object.create(Gn(e)),N(e,r,n,i);t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex}i&&(n.push(e),i.push(t))}return t}function L(e,t){if(Jn(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(x(e))for(n in t=t||{},e)"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t||e}function F(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,r=typeof e;if(r==typeof t&&"object"==r){if(!Jn(e)){if(C(e))return!!C(t)&&F(e.getTime(),t.getTime());if(T(e))return!!T(t)&&e.toString()==t.toString();if(A(e)||A(t)||E(e)||E(t)||Jn(t)||C(t)||T(t))return!1;r=ce();for(i in e)if("$"!==i.charAt(0)&&!S(e[i])){if(!F(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r||"$"===i.charAt(0)||t[i]===n||S(t[i])))return!1;return!0}if(!Jn(t))return!1;if((r=e.length)==t.length){for(i=0;i<r;i++)if(!F(e[i],t[i]))return!1;return!0}}return!1}function R(e,t,n){return e.concat(qn.call(t,n))}function U(e,t){var n=2<arguments.length?qn.call(arguments,2):[];return!S(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,R(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function B(e,i){var r=i;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=n:E(i)?r="$WINDOW":i&&t===i?r="$DOCUMENT":A(i)&&(r="$SCOPE"),r}function H(e,t){return"undefined"==typeof e?n:(_(t)||(t=t?2:null),JSON.stringify(e,B,t))}function j(e){return k(e)?JSON.parse(e):e}function W(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function q(e,t,n){n=n?-1:1;var i=W(t,e.getTimezoneOffset());return t=e,e=n*(i-e.getTimezoneOffset()),t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function z(e){e=Fn(e).clone();try{e.empty()}catch(e){}var t=Fn("<div>").append(e).html();try{return e[0].nodeType===ci?Hn(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Hn(t)})}catch(e){return Hn(t)}}function K(e){try{return decodeURIComponent(e)}catch(e){}}function V(e){var t={};return o((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(i=e.substring(0,n),r=e.substring(n+1)),i=K(i),w(i)&&(r=!w(r)||K(r),jn.call(t,i)?Jn(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function G(e){var t=[];return o(e,function(e,n){Jn(e)?o(e,function(e){t.push(X(n,!0)+(!0===e?"":"="+X(e,!0)))}):t.push(X(n,!0)+(!0===e?"":"="+X(e,!0)))}),t.length?t.join("&"):""}function Y(e){return X(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function X(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function Z(e,t){var n,i,r=oi.length;for(i=0;i<r;++i)if(n=oi[i]+t,k(n=e.getAttribute(n)))return n;return null}function Q(e,t){var n,i,r={};o(oi,function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(n=e,i=e.getAttribute(t))}),o(oi,function(t){t+="app";var r;!n&&(r=e.querySelector("["+t.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(t))}),n&&(r.strictDi=null!==Z(n,"strict-di"),t(n,i?[i]:[],r))}function J(n,i,r){x(r)||(r={}),r=d({strictDi:!1},r);var a=function(){if(n=Fn(n),n.injector()){var e=n[0]===t?"document":z(n);throw Yn("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng"),e=Re(i,r.strictDi),e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),e},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?a():(e.name=e.name.replace(l,""),Xn.resumeBootstrap=function(e){return o(e,function(e){i.push(e)}),a()},void(S(Xn.resumeDeferredBootstrap)&&Xn.resumeDeferredBootstrap()))}function ee(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function te(e){if(e=Xn.element(e).injector(),!e)throw Yn("test");return e.get("$$testability")}function ne(e,t){return t=t||"_",e.replace(ai,function(e,n){return(n?t:"")+e.toLowerCase()})}function ie(){var t;if(!si){var i=ri();Rn=e.jQuery,w(i)&&(Rn=null===i?n:e[i]),Rn&&Rn.fn.on?(Fn=Rn,d(Rn.fn,{scope:$i.scope,isolateScope:$i.isolateScope,controller:$i.controller,injector:$i.injector,inheritedData:$i.inheritedData}),t=Rn.cleanData,Rn.cleanData=function(e){var n;if(Qn)Qn=!1;else for(var i,r=0;null!=(i=e[r]);r++)(n=Rn._data(i,"events"))&&n.$destroy&&Rn(i).triggerHandler("$destroy");t(e)}):Fn=me,Xn.element=Fn,si=!0}}function re(e,t,n){if(!e)throw Yn("areq",t||"?",n||"required");return e}function oe(e,t,n){return n&&Jn(e)&&(e=e[e.length-1]),re(S(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ae(e,t){if("hasOwnProperty"===e)throw Yn("badname",t)}function se(e,t,n){if(!t)return e;t=t.split(".");for(var i,r=e,o=t.length,a=0;a<o;a++)i=t[a],e&&(e=(r=e)[i]);return!n&&S(e)?U(r,e):e}function le(e){var t=e[0];e=e[e.length-1];var n=[t];do{if(t=t.nextSibling,!t)break;n.push(t)}while(t!==e);return Fn(n)}function ce(){return Object.create(null)}function ue(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||i,t(e,"module",function(){var e={};return function(i,o,a){if("hasOwnProperty"===i)throw r("badname","module");return o&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,t,n,i){return i||(i=r),function(){return i[n||"push"]([e,t,arguments]),u}}function t(e,t){return function(n,o){return o&&S(o)&&(o.$$moduleName=i),r.push([e,t,arguments]),u}}if(!o)throw n("nomod",i);var r=[],s=[],l=[],c=e("$injector","invoke","push",s),u={_invokeQueue:r,_configBlocks:s,_runBlocks:l,requires:o,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:c,run:function(e){return l.push(e),this}};return a&&c(a),u})}})}function de(t){d(t,{bootstrap:J,copy:N,extend:d,merge:p,equals:F,element:Fn,forEach:o,injector:Re,noop:m,bind:U,toJson:H,fromJson:j,identity:g,isUndefined:b,isDefined:w,isString:k,isFunction:S,isObject:x,isNumber:_,isElement:M,isArray:Jn,version:ui,isDate:C,lowercase:Hn,uppercase:Wn,callbacks:{counter:0},getTestability:te,$$minErr:i,$$csp:ii,reloadWithDebugInfo:ee}),(Un=ue(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Kt}),e.provider("$compile",Ve).directive({a:wr,input:Lr,textarea:Lr,form:_r,script:Co,select:Eo,style:Do,option:Ao,ngBind:Ur,ngBindHtml:Hr,ngBindTemplate:Br,ngClass:Wr,ngClassEven:zr,ngClassOdd:qr,ngCloak:Kr,ngController:Vr,ngForm:Cr,ngHide:bo,ngIf:Xr,ngInclude:Zr,ngInit:Jr,ngNonBindable:po,ngPluralize:go,ngRepeat:vo,ngShow:yo,ngStyle:wo,ngSwitch:xo,ngSwitchWhen:$o,ngSwitchDefault:ko,ngOptions:mo,ngTransclude:_o,ngModel:lo,ngList:eo,ngChange:jr,pattern:Po,ngPattern:Po,required:Mo,ngRequired:Mo,minlength:Io,ngMinlength:Io,maxlength:Oo,ngMaxlength:Oo,ngValue:Rr,ngModelOptions:uo}).directive({ngInclude:Qr}).directive(xr).directive(Gr),e.provider({$anchorScroll:Ue,$animate:Ni,$animateCss:Li,$$animateQueue:Ii,$$AnimateRunner:Oi,$browser:qe,$cacheFactory:ze,$controller:Ze,$document:Qe,$exceptionHandler:Je,$filter:sn,$$forceReflow:Hi,$interpolate:dt,$interval:pt,$http:st,$httpParamSerializer:tt,$httpParamSerializerJQLike:nt,$httpBackend:ct,$location:_t,$log:Ct,$parse:Bt,$rootScope:zt,$q:Ht,$$q:jt,$sce:Xt,$sceDelegate:Yt,$sniffer:Zt,$templateCache:Ke,$templateRequest:Qt,$$testability:Jt,$timeout:en,$window:rn,$$rAF:qt,$$jqLite:Ie,$$HashMap:Si,$$cookieReader:an})}])}function pe(e){return e.replace(hi,function(e,t,n,i){return i?n.toUpperCase():n}).replace(fi,"Moz$1")}function he(e){return e=e.nodeType,e===li||!e||9===e}function fe(e,t){var n,i,r=t.createDocumentFragment(),a=[];if(yi.test(e)){for(n=n||r.appendChild(t.createElement("div")),i=(bi.exec(e)||["",""])[1].toLowerCase(),i=xi[i]||xi._default,n.innerHTML=i[1]+e.replace(wi,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;a=R(a,n.childNodes),n=r.firstChild,n.textContent=""}else a.push(t.createTextNode(e));return r.textContent="",
r.innerHTML="",o(a,function(e){r.appendChild(e)}),r}function me(e){if(e instanceof me)return e;var n;if(k(e)&&(e=ti(e),n=!0),!(this instanceof me)){if(n&&"<"!=e.charAt(0))throw gi("nosel");return new me(e)}if(n){n=t;var i;e=(i=vi.exec(e))?[n.createElement(i[1])]:(i=fe(e,n))?i.childNodes:[]}Ce(this,e)}function ge(e){return e.cloneNode(!0)}function ve(e,t){if(t||be(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;i<r;i++)be(n[i])}function ye(e,t,n,i){if(w(i))throw gi("offargs");var r=(i=we(e))&&i.events,a=i&&i.handle;if(a)if(t)o(t.split(" "),function(t){if(w(n)){var i=r[t];if(I(i||[],n),i&&0<i.length)return}e.removeEventListener(t,a,!1),delete r[t]});else for(t in r)"$destroy"!==t&&e.removeEventListener(t,a,!1),delete r[t]}function be(e,t){var i=e.ng339,r=i&&di[i];r&&(t?delete r.data[t]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),ye(e)),delete di[i],e.ng339=n))}function we(e,t){var i=e.ng339,i=i&&di[i];return t&&!i&&(e.ng339=i=++pi,i=di[i]={events:{},data:{},handle:n}),i}function xe(e,t,n){if(he(e)){var i=w(n),r=!i&&t&&!x(t),o=!t;if(e=(e=we(e,!r))&&e.data,i)e[t]=n;else{if(o)return e;if(r)return e&&e[t];d(e,t)}}}function $e(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function ke(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",ti((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ti(t)+" "," ")))})}function _e(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=ti(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",ti(n))}}function Ce(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function Se(e,t){return Te(e,"$"+(t||"ngController")+"Controller")}function Te(e,t,i){for(9==e.nodeType&&(e=e.documentElement),t=Jn(t)?t:[t];e;){for(var r=0,o=t.length;r<o;r++)if((i=Fn.data(e,t[r]))!==n)return i;e=e.parentNode||11===e.nodeType&&e.host}}function Ee(e){for(ve(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ae(e,t){t||ve(e);var n=e.parentNode;n&&n.removeChild(e)}function De(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Fn(n).on("load",t)}function Me(e,t){var n=ki[t.toLowerCase()];return n&&_i[O(e)]&&n}function Pe(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&Ci[t]}function Oe(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped},1<o&&(r=L(r));for(var s=0;s<o;s++)n.isImmediatePropagationStopped()||r[s].call(e,n)}};return n.elem=e,n}function Ie(){this.$get=function(){return d(me,{hasClass:function(e,t){return e.attr&&(e=e[0]),$e(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),_e(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),ke(e,t)}})}}function Ne(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||l)():n+":"+e)}function Le(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function Fe(e){return(e=e.toString().replace(Di,"").match(Ti))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Re(e,t){function i(e){return function(t,n){return x(t)?void o(t,s(e)):e(t,n)}}function r(e,t){if(ae(e,"service"),(S(t)||Jn(t))&&(t=m.instantiate(t)),!t.$get)throw Mi("pget",e);return f[e+"Provider"]=t}function a(e,t){return function(){var n=y.invoke(t,this);if(b(n))throw Mi("undef",e);return n}}function l(e,t,n){return r(e,{$get:!1!==n?a(e,t):t})}function c(e){re(b(e)||Jn(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=m.get(i[0]);r[i[1]].apply(r,i[2])}}if(!h.get(e)){h.put(e,!0);try{k(e)?(t=Un(e),n=n.concat(c(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):S(e)?n.push(m.invoke(e)):Jn(e)?n.push(m.invoke(e)):oe(e,"module")}catch(t){throw Jn(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Mi("modulerr",e,t.stack||t.message||t)}}}),n}function u(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===d)throw Mi("cdep",t+" <- "+p.join(" <- "));return e[t]}try{return p.unshift(t),e[t]=d,e[t]=n(t,i)}catch(n){throw e[t]===d&&delete e[t],n}finally{p.shift()}}function r(e,n,r,o){"string"==typeof r&&(o=r,r=null);var a,s,l,c=[],u=Re.$$annotate(e,t,o);for(s=0,a=u.length;s<a;s++){if(l=u[s],"string"!=typeof l)throw Mi("itkn",l);c.push(r&&r.hasOwnProperty(l)?r[l]:i(l,o))}return Jn(e)&&(e=e[a]),e.apply(n,c)}return{invoke:r,instantiate:function(e,t,n){var i=Object.create((Jn(e)?e[e.length-1]:e).prototype||null);return e=r(e,i,t,n),x(e)||S(e)?e:i},get:i,annotate:Re.$$annotate,has:function(t){return f.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var d={},p=[],h=new Le([],!0),f={$provide:{provider:i(r),factory:i(l),service:i(function(e,t){return l(e,["$injector",function(e){return e.instantiate(t)}])}),value:i(function(e,t){return l(e,v(t),!1)}),constant:i(function(e,t){ae(e,"constant"),f[e]=t,g[e]=t}),decorator:function(e,t){var n=m.get(e+"Provider"),i=n.$get;n.$get=function(){var e=y.invoke(i,n);return y.invoke(t,null,{$delegate:e})}}}},m=f.$injector=u(f,function(e,t){throw Xn.isString(t)&&p.push(t),Mi("unpr",p.join(" <- "))}),g={},y=g.$injector=u(g,function(e,t){var i=m.get(e+"Provider",t);return y.invoke(i.$get,i,n,e)});return o(c(e),function(e){e&&y.invoke(e)}),y}function Ue(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===O(e))return t=e,!0}),t}function o(e){if(e){e.scrollIntoView();var n;n=a.yOffset,S(n)?n=n():M(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):_(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function a(e){e=k(e)?e:n.hash();var t;e?(t=s.getElementById(e))?o(t):(t=r(s.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var s=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||De(function(){i.$evalAsync(a)})}),a}]}function Be(e,t){return e||t?e?t?(Jn(e)&&(e=e.join(" ")),Jn(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function He(e){k(e)&&(e=e.split(" "));var t=ce();return o(e,function(e){e.length&&(t[e]=!0)}),t}function je(e){return x(e)?e:{}}function We(e,t,n,i){function r(e){try{e.apply(null,qn.call(arguments,1))}finally{if(g--,0===g)for(;v.length;)try{v.pop()()}catch(e){n.error(e)}}}function a(){s(),l()}function s(){e:{try{y=d.state;break e}catch(e){}y=void 0}y=b(y)?null:y,F(y,S)&&(y=S),S=y}function l(){x===c.url()&&w===y||(x=c.url(),w=y,o(_,function(e){e(c.url(),y)}))}var c=this,u=e.location,d=e.history,p=e.setTimeout,h=e.clearTimeout,f={};c.isMock=!1;var g=0,v=[];c.$$completeOutstandingRequest=r,c.$$incOutstandingRequestCount=function(){g++},c.notifyWhenNoOutstandingRequests=function(e){0===g?e():v.push(e)};var y,w,x=u.href,$=t.find("base"),k=null;s(),w=y,c.url=function(t,n,r){if(b(r)&&(r=null),u!==e.location&&(u=e.location),d!==e.history&&(d=e.history),t){var o=w===r;if(x===t&&(!i.history||o))return c;var a=x&&vt(x)===vt(t);return x=t,w=r,!i.history||a&&o?(a&&!k||(k=t),n?u.replace(t):a?(n=u,r=t.indexOf("#"),t=-1===r?"":t.substr(r),n.hash=t):u.href=t):(d[n?"replaceState":"pushState"](r,"",t),s(),w=y),c}return k||u.href.replace(/%27/g,"'")},c.state=function(){return y};var _=[],C=!1,S=null;c.onUrlChange=function(t){return C||(i.history&&Fn(e).on("popstate",a),Fn(e).on("hashchange",a),C=!0),_.push(t),t},c.$$applicationDestroyed=function(){Fn(e).off("hashchange popstate",a)},c.$$checkUrlChange=l,c.baseHref=function(){var e=$.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return g++,n=p(function(){delete f[n],r(e)},t||0),f[n]=!0,n},c.defer.cancel=function(e){return!!f[e]&&(delete f[e],h(e),r(m),!0)}}function qe(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new We(e,i,t,n)}]}function ze(){this.$get=function(){function e(e,n){function r(e){e!=p&&(h?h==e&&(h=e.n):h=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid",e);var a=0,s=d({},n,{id:e}),l={},c=n&&n.capacity||Number.MAX_VALUE,u={},p=null,h=null;return t[e]={put:function(e,t){if(!b(t)){if(c<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});r(n)}return e in l||a++,l[e]=t,a>c&&this.remove(h.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;t==p&&(p=t.p),t==h&&(h=t.n),o(t.n,t.p),delete u[e]}delete l[e],a--},removeAll:function(){l={},a=0,u={},p=h=null},destroy:function(){u=s=l=null,delete t[e]},info:function(){return d({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Ke(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ve(e,i){function r(e,t,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return o(e,function(e,o){var a=e.match(i);if(!a)throw Fi("iscp",t,o,e,n?"controller bindings definition":"isolate scope definition");r[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o}}),r}function a(e){var t=e.charAt(0);if(!t||t!==Hn(t))throw Fi("baddir",e);if(e!==e.trim())throw Fi("baddir",e)}var l={},c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,p=P("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,y=/^(on[a-z]+|formaction)$/;this.directive=function t(n,i){return ae(n,"directive"),k(n)?(a(n),re(i,"directiveFactory"),l.hasOwnProperty(n)||(l[n]=[],e.factory(n+"Directive",["$injector","$exceptionHandler",function(e,t){var i=[];return o(l[n],function(o,a){try{var s=e.invoke(o);S(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||n,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var l=s,c=s,u=s.name,d={isolateScope:null,bindToController:null};if(x(c.scope)&&(!0===c.bindToController?(d.bindToController=r(c.scope,u,!0),d.isolateScope={}):d.isolateScope=r(c.scope,u,!1)),x(c.bindToController)&&(d.bindToController=r(c.bindToController,u,!0)),x(d.bindToController)){var p=c.controller,h=c.controllerAs;if(!p)throw Fi("noctrl",u);var f;e:if(h&&k(h))f=h;else{if(k(p)){var m=Bi.exec(p);if(m){f=m[3];break e}}f=void 0}if(!f)throw Fi("noident",u)}var g=l.$$bindings=d;x(g.isolateScope)&&(s.$$isolateBindings=g.isolateScope),s.$$moduleName=o.$$moduleName,i.push(s)}catch(e){t(e)}}),i}])),l[n].push(i)):o(n,s(t)),this},this.aHrefSanitizationWhitelist=function(e){return w(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()};var $=!0;this.debugInfoEnabled=function(e){return w(e)?($=e,this):$},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,i,r,a,s,v,w,_,C,T,E){function D(e,t){try{e.addClass(t)}catch(e){}}function M(e,t,n,i,r){e instanceof Fn||(e=Fn(e)),o(e,function(t,n){t.nodeType==ci&&t.nodeValue.match(/\S+/)&&(e[n]=Fn(t).wrap("<span></span>").parent()[0])});var a=P(e,t,e,n,i,r);M.$$addScopeClass(e);var s=null;return function(t,n,i){re(t,"scope"),i=i||{};var r=i.parentBoundTranscludeFn,o=i.transcludeControllers;if(i=i.futureParentElement,r&&r.$$boundTransclude&&(r=r.$$boundTransclude),s||(s=(i=i&&i[0])&&"foreignobject"!==O(i)&&i.toString().match(/SVG/)?"svg":"html"),i="html"!==s?Fn(X(s,Fn("<div>").append(e).html())):n?$i.clone.call(e):e,o)for(var l in o)i.data("$"+l+"Controller",o[l].instance);return M.$$addScopeInfo(i,t),n&&n(i,t),a&&a(t,i,i,r),i}}function P(e,t,i,r,o,a){function s(e,i,r,o){var a,s,l,c,u,d,f;if(p)for(f=Array(i.length),c=0;c<h.length;c+=3)a=h[c],f[a]=i[a];else f=i;for(c=0,u=h.length;c<u;)s=f[h[c++]],i=h[c++],a=h[c++],i?(i.scope?(l=e.$new(),M.$$addScopeInfo(Fn(s),l),(d=i.$$destroyBindings)&&(i.$$destroyBindings=null,l.$on("$destroyed",d))):l=e,d=i.transcludeOnThisElement?N(e,i.transclude,o):!i.templateOnThisElement&&o?o:!o&&t?N(e,t):null,i(a,l,s,r,d,i)):a&&a(e,s.childNodes,n,o)}for(var l,c,u,d,p,h=[],f=0;f<e.length;f++)l=new oe,c=L(e[f],[],l,0===f?r:n,o),(a=c.length?B(c,e[f],l,t,i,null,[],[],a):null)&&a.scope&&M.$$addScopeClass(l.$$element),l=a&&a.terminal||!(u=e[f].childNodes)||!u.length?null:P(u,a?(a.transcludeOnThisElement||!a.templateOnThisElement)&&a.transclude:t),(a||l)&&(h.push(f,a,l),d=!0,p=p||a),a=null;return d?s:null}function N(e,t,n){return function(i,r,o,a,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}}function L(e,t,n,i,r){var o,a=n.$attr;switch(e.nodeType){case li:j(t,Ge(O(e)),"E",i,r);for(var s,l,d,p=e.attributes,h=0,f=p&&p.length;h<f;h++){var m=!1,g=!1;s=p[h],o=s.name,l=ti(s.value),s=Ge(o),(d=ue.test(s))&&(o=o.replace(Ri,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var v=s.replace(/(Start|End)$/,"");W(v)&&s===v+"Start"&&(m=o,g=o.substr(0,o.length-5)+"end",o=o.substr(0,o.length-6)),s=Ge(o.toLowerCase()),a[s]=o,!d&&n.hasOwnProperty(s)||(n[s]=l,Me(e,s)&&(n[s]=!0)),Q(e,t,l,s,d),j(t,s,"A",i,r,m,g)}if(e=e.className,x(e)&&(e=e.animVal),k(e)&&""!==e)for(;o=u.exec(e);)s=Ge(o[2]),j(t,s,"C",i,r)&&(n[s]=ti(o[3])),e=e.substr(o.index+o[0].length);break;case ci:if(11===Ln)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===ci;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);Y(t,e.nodeValue);break;case 8:try{(o=c.exec(e.nodeValue))&&(s=Ge(o[1]),j(t,s,"M",i,r)&&(n[s]=ti(o[2])))}catch(e){}}return t.sort(V),t}function R(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Fi("uterdir",t,n);e.nodeType==li&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(0<r)}else i.push(e);return Fn(i)}function U(e,t,n){return function(i,r,o,a,s){return r=R(r[0],t,n),e(i,r,o,a,s)}}function B(e,i,o,a,s,l,c,u,d){function p(e,t,n,i){e&&(n&&(e=U(e,n,i)),e.require=y.require,e.directiveName=b,(E===y||y.$$isolateScope)&&(e=ee(e,{isolateScope:!0})),c.push(e)),t&&(n&&(t=U(t,n,i)),t.require=y.require,t.directiveName=b,(E===y||y.$$isolateScope)&&(t=ee(t,{isolateScope:!0})),u.push(t))}function f(e,t,n,i){var r;if(k(t)){var o=t.match(h);t=t.substring(o[0].length);var a=o[1]||o[3],o="?"===o[2];if("^^"===a?n=n.parent():r=(r=i&&i[t])&&r.instance,r||(i="$"+t+"Controller",r=a?n.inheritedData(i):n.data(i)),!r&&!o)throw Fi("ctreq",t,e)}else if(Jn(t))for(r=[],a=0,o=t.length;a<o;a++)r[a]=f(e,t[a],n,i);return r||null}function m(e,t,n,i,r,o){var a,s=ce();for(a in i){var l=i[a],c={$scope:l===E||l.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},u=l.controller;"@"==u&&(u=t[l.name]),c=v(u,c,!0,l.controllerAs),s[l.name]=c,N||e.data("$"+l.name+"Controller",c.instance)}return s}function g(e,t,r,a,s,l){function d(e,t,i){var r;return A(e)||(i=t,t=e,e=n),N&&(r=y),i||(i=N?w.parent():w),s(e,t,r,i,_)}var p,h,g,v,y,b,w;if(i===r?(a=o,w=o.$$element):(w=Fn(r),a=new oe(w,o)),E&&(v=t.$new(!0)),s&&(b=d,b.$$boundTransclude=s),T&&(y=m(w,a,b,T,v,t)),E&&(M.$$addScopeInfo(w,v,!0,!(D&&(D===E||D===E.$$originalDirective))),M.$$addScopeClass(w,!0),v.$$isolateBindings=E.$$isolateBindings,ie(t,a,v,v.$$isolateBindings,E,v)),y){var x,$=E||C;$&&y[$.name]&&(h=$.$$bindings.bindToController,(g=y[$.name])&&g.identifier&&h&&(x=g,l.$$destroyBindings=ie(t,a,g.instance,h,$)));for(p in y){g=y[p];var k=g();k!==g.instance&&(g.instance=k,w.data("$"+p+"Controller",k),g===x&&(l.$$destroyBindings(),l.$$destroyBindings=ie(t,a,k,h,$)))}}for(p=0,l=c.length;p<l;p++)h=c[p],te(h,h.isolateScope?v:t,w,a,h.require&&f(h.directiveName,h.require,w,y),b);var _=t;for(E&&(E.template||null===E.templateUrl)&&(_=v),e&&e(_,r.childNodes,n,s),p=u.length-1;0<=p;p--)h=u[p],te(h,h.isolateScope?v:t,w,a,h.require&&f(h.directiveName,h.require,w,y),b)}d=d||{};for(var y,b,w,$,_=-Number.MAX_VALUE,C=d.newScopeDirective,T=d.controllerDirectives,E=d.newIsolateScopeDirective,D=d.templateDirective,P=d.nonTlbTranscludeDirective,O=!1,I=!1,N=d.hasElementTranscludeDirective,F=o.$$element=Fn(i),B=a,j=0,W=e.length;j<W;j++){y=e[j];var V=y.$$start,Y=y.$$end;if(V&&(F=R(i,V,Y)),w=n,_>y.priority)break;if((w=y.scope)&&(y.templateUrl||(x(w)?(G("new/isolated scope",E||C,y,F),E=y):G("new/isolated scope",E,y,F)),C=C||y),b=y.name,!y.templateUrl&&y.controller&&(w=y.controller,T=T||ce(),G("'"+b+"' controller",T[b],y,F),T[b]=y),(w=y.transclude)&&(O=!0,y.$$tlb||(G("transclusion",P,y,F),P=y),"element"==w?(N=!0,_=y.priority,w=F,F=o.$$element=Fn(t.createComment(" "+b+": "+o[b]+" ")),i=F[0],J(s,qn.call(w,0),i),B=M(w,a,_,l&&l.name,{nonTlbTranscludeDirective:P})):(w=Fn(ge(i)).contents(),F.empty(),B=M(w,a))),y.template)if(I=!0,G("template",D,y,F),D=y,w=S(y.template)?y.template(F,o):y.template,w=le(w),y.replace){if(l=y,w=yi.test(w)?Xe(X(y.templateNamespace,ti(w))):[],i=w[0],1!=w.length||i.nodeType!==li)throw Fi("tplrt",b,"");J(s,F,i),W={$attr:{}},w=L(i,[],W);var Z=e.splice(j+1,e.length-(j+1));E&&H(w),e=e.concat(w).concat(Z),q(o,W),W=e.length}else F.html(w);if(y.templateUrl)I=!0,G("template",D,y,F),D=y,y.replace&&(l=y),g=K(e.splice(j,e.length-j),F,o,s,O&&B,c,u,{controllerDirectives:T,newScopeDirective:C!==y&&C,newIsolateScopeDirective:E,templateDirective:D,nonTlbTranscludeDirective:P}),W=e.length;else if(y.compile)try{$=y.compile(F,o,B),S($)?p(null,$,V,Y):$&&p($.pre,$.post,V,Y)}catch(e){r(e,z(F))}y.terminal&&(g.terminal=!0,_=Math.max(_,y.priority))}return g.scope=C&&!0===C.scope,g.transcludeOnThisElement=O,g.templateOnThisElement=I,g.transclude=B,d.hasElementTranscludeDirective=N,g}function H(e){for(var t=0,n=e.length;t<n;t++)e[t]=f(e[t],{$$isolateScope:!0})}function j(t,i,o,a,s,c,u){if(i===s)return null;if(s=null,l.hasOwnProperty(i)){var d;i=e.get(i+"Directive");for(var p=0,h=i.length;p<h;p++)try{d=i[p],(a===n||a>d.priority)&&-1!=d.restrict.indexOf(o)&&(c&&(d=f(d,{$$start:c,$$end:u})),t.push(d),s=d)}catch(e){r(e)}}return s}function W(t){if(l.hasOwnProperty(t))for(var n=e.get(t+"Directive"),i=0,r=n.length;i<r;i++)if(t=n[i],t.multiElement)return!0;return!1}function q(e,t){var n=t.$attr,i=e.$attr,r=e.$$element;o(e,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),o(t,function(t,o){"class"==o?(D(r,t),e.class=(e.class?e.class+" ":"")+t):"style"==o?(r.attr("style",r.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,i[o]=n[o])})}function K(e,t,n,i,r,s,l,c){var u,d,p=[],h=t[0],m=e.shift(),g=f(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=S(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,y=m.templateNamespace;return t.empty(),a(v).then(function(a){var f,b;if(a=le(a),m.replace){if(a=yi.test(a)?Xe(X(y,ti(a))):[],f=a[0],1!=a.length||f.nodeType!==li)throw Fi("tplrt",m.name,v);a={$attr:{}},J(i,t,f);var w=L(f,[],a);x(m.scope)&&H(w),e=w.concat(e),q(n,a)}else f=h,t.html(a);for(e.unshift(g),u=B(e,f,n,r,t,m,s,l,c),o(i,function(e,n){e==f&&(i[n]=t[0])}),d=P(t[0].childNodes,r);p.length;){a=p.shift(),b=p.shift();var $=p.shift(),k=p.shift(),w=t[0];if(!a.$$destroyed){if(b!==h){var _=b.className;c.hasElementTranscludeDirective&&m.replace||(w=ge(f)),J($,Fn(b),w),D(Fn(w),_)}b=u.transcludeOnThisElement?N(a,u.transclude,k):k,u(d,a,w,i,b,u)}}p=null}),function(e,t,n,i,r){e=r,t.$$destroyed||(p?p.push(t,n,i,e):(u.transcludeOnThisElement&&(e=N(t,u.transclude,r)),u(d,t,n,i,e,u)))}}function V(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function G(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw Fi("multidir",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,z(i))}function Y(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&M.$$addBindingClass(e),function(e,i){var r=i.parent();t||M.$$addBindingClass(r),M.$$addBindingInfo(r,n.expressions),e.$watch(n,function(e){i[0].nodeValue=e})}}})}function X(e,n){switch(e=Hn(e||"html")){case"svg":case"math":var i=t.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function Z(e,t){if("srcdoc"==t)return C.HTML;var n=O(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?C.RESOURCE_URL:void 0}function Q(e,t,n,r,o){var a=Z(e,r);o=p[r]||o;var s=i(n,!0,a,o);if(s){if("multiple"===r&&"select"===O(e))throw Fi("selmulti",z(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){if(t=l.$$observers||(l.$$observers={}),y.test(r))throw Fi("nodomevents");var c=l[r];c!==n&&(s=c&&i(c,!0,a,o),n=c),s&&(l[r]=s(e),(t[r]||(t[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||e).$watch(s,function(e,t){"class"===r&&e!=t?l.$updateClass(e,t):l.$set(r,e)}))}}}})}}function J(e,n,i){var r,o,a=n[0],s=n.length,l=a.parentNode;if(e)for(r=0,o=e.length;r<o;r++)if(e[r]==a){e[r++]=i,o=r+s-1;for(var c=e.length;r<c;r++,o++)o<c?e[r]=e[o]:delete e[r];e.length-=s-1,e.context===a&&(e.context=i);break}for(l&&l.replaceChild(i,a),e=t.createDocumentFragment(),e.appendChild(a),Fn.hasData(a)&&(Fn(i).data(Fn(a).data()),Rn?(Qn=!0,Rn.cleanData([a])):delete Fn.cache[a[Fn.expando]]),a=1,s=n.length;a<s;a++)l=n[a],Fn(l).remove(),e.appendChild(l),delete n[a];n[0]=i,n.length=1}function ee(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function te(e,t,n,i,o,a){try{e(t,n,i,o,a)}catch(e){r(e,z(n))}}function ie(e,t,n,r,a,l){var c;return o(r,function(r,o){var l,u,d,p,h=r.attrName,f=r.optional;switch(r.mode){case"@":f||jn.call(t,h)||(n[o]=t[h]=void 0),t.$observe(h,function(e){k(e)&&(n[o]=e)}),t.$$observers[h].$$scope=e,k(t[h])&&(n[o]=i(t[h])(e));break;case"=":if(!jn.call(t,h)){if(f)break;t[h]=void 0}if(f&&!t[h])break;u=s(t[h]),p=u.literal?F:function(e,t){return e===t||e!==e&&t!==t},d=u.assign||function(){throw l=n[o]=u(e),Fi("nonassign",t[h],a.name)},l=n[o]=u(e),f=function(t){return p(t,n[o])||(p(t,l)?d(e,t=n[o]):n[o]=t),l=t},f.$stateful=!0,f=r.collection?e.$watchCollection(t[h],f):e.$watch(s(t[h],f),null,u.literal),c=c||[],c.push(f);break;case"&":if(u=t.hasOwnProperty(h)?s(t[h]):m,u===m&&f)break;n[o]=function(t){return u(e,t)}}}),r=c?function(){for(var e=0,t=c.length;e<t;++e)c[e]()}:m,l&&r!==m?(l.$on("$destroy",r),m):r}var oe=function(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;n<i;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e};oe.prototype={$normalize:Ge,$addClass:function(e){e&&0<e.length&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ye(e,t);n&&n.length&&T.addClass(this.$$element,n),(n=Ye(t,e))&&n.length&&T.removeClass(this.$$element,n)},$set:function(e,t,i,a){var s=this.$$element[0],l=Me(s,e),c=Pe(s,e),s=e;if(l?(this.$$element.prop(e,t),a=l):c&&(this[c]=t,s=c),this[e]=t,a?this.$attr[e]=a:(a=this.$attr[e])||(this.$attr[e]=a=ne(e,"-")),l=O(this.$$element),"a"===l&&"href"===e||"img"===l&&"src"===e)this[e]=t=E(t,"src"===e);else if("img"===l&&"srcset"===e){for(var l="",c=ti(t),u=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=/\s/.test(c)?u:/(,)/,c=c.split(u),u=Math.floor(c.length/2),d=0;d<u;d++)var p=2*d,l=l+E(ti(c[p]),!0),l=l+(" "+ti(c[p+1]));c=ti(c[2*d]).split(/\s/),l+=E(ti(c[0]),!0),2===c.length&&(l+=" "+ti(c[1])),this[e]=t=l}!1!==i&&(null===t||t===n?this.$$element.removeAttr(a):this.$$element.attr(a,t)),(e=this.$$observers)&&o(e[s],function(e){try{e(t)}catch(e){r(e)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=ce()),r=i[e]||(i[e]=[]);return r.push(t),w.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])}),function(){I(r,t)}}};var ae=i.startSymbol(),se=i.endSymbol(),le="{{"==ae||"}}"==se?g:function(e){return e.replace(/\{\{/g,ae).replace(/}}/g,se)},ue=/^ngAttr[A-Z]/;return M.$$addBindingInfo=$?function(e,t){var n=e.data("$binding")||[];Jn(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:m,M.$$addBindingClass=$?function(e){D(e,"ng-binding")}:m,M.$$addScopeInfo=$?function(e,t,n,i){e.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:m,M.$$addScopeClass=$?function(e,t){D(e,t?"ng-isolate-scope":"ng-scope")}:m,M}]}function Ge(e){return pe(e.replace(Ri,""))}function Ye(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/),o=0;e:for(;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue e;n+=(0<n.length?" ":"")+a}return n}function Xe(e){e=Fn(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&zn.call(e,t,1);return e}function Ze(){var e={},t=!1;this.register=function(t,n){ae(t,"controller"),x(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(r,o){function a(e,t,n,r){if(!e||!x(e.$scope))throw i("$controller")("noscp",r,t);e.$scope[t]=n}return function(i,s,l,c){var u,p,h;if(l=!0===l,c&&k(c)&&(h=c),k(i)){if(c=i.match(Bi),!c)throw Ui("ctrlfmt",i);p=c[1],h=h||c[3],i=e.hasOwnProperty(p)?e[p]:se(s.$scope,p,!0)||(t?se(o,p,!0):n),oe(i,p,!0)}return l?(l=(Jn(i)?i[i.length-1]:i).prototype,u=Object.create(l||null),h&&a(s,h,u,p||i.name),d(function(){var e=r.invoke(i,u,s,p);return e!==u&&(x(e)||S(e))&&(u=e,h&&a(s,h,u,p||i.name)),u},{instance:u,identifier:h})):(u=r.instantiate(i,s,p),h&&a(s,h,u,p||i.name),u)}}]}function Qe(){this.$get=["$window",function(e){return Fn(e.document)}]}function Je(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function et(e){return x(e)?C(e)?e.toISOString():H(e):e}function tt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||b(e)||(Jn(e)?o(e,function(e,i){t.push(X(n)+"="+X(et(e)))}):t.push(X(n)+"="+X(et(e))))}),t.join("&")}}}function nt(){this.$get=function(){return function(e){function t(e,i,r){null===e||b(e)||(Jn(e)?o(e,function(e,n){t(e,i+"["+(x(e)?n:"")+"]")}):x(e)&&!C(e)?a(e,function(e,n){t(e,i+(r?"":"[")+n+(r?"":"]"))}):n.push(X(i)+"="+X(et(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function it(e,t){if(k(e)){var n=e.replace(Ki,"").trim();if(n){var i=t("Content-Type");(i=i&&0===i.indexOf(ji))||(i=(i=n.match(qi))&&zi[i[0]].test(n)),i&&(e=j(n))}}return e}function rt(e){var t,n=ce();return k(e)?o(e.split("\n"),function(e){t=e.indexOf(":");var i=Hn(ti(e.substr(0,t)));e=ti(e.substr(t+1)),i&&(n[i]=n[i]?n[i]+", "+e:e)}):x(e)&&o(e,function(e,t){var i=Hn(t),r=ti(e);i&&(n[i]=n[i]?n[i]+", "+r:r)}),n}function ot(e){var t;return function(n){return t||(t=rt(e)),n?(n=t[Hn(n)],void 0===n&&(n=null),n):t}}function at(e,t,n,i){return S(i)?i(e,t,n):(o(i,function(i){e=i(e,t,n)}),e)}function st(){var e=this.defaults={transformResponse:[it],transformRequest:[function(e){return x(e)&&"[object File]"!==Vn.call(e)&&"[object Blob]"!==Vn.call(e)&&"[object FormData]"!==Vn.call(e)?H(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L(Wi),put:L(Wi),patch:L(Wi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return w(e)?(t=!!e,this):t};var r=!0;this.useLegacyPromiseExtensions=function(e){return w(e)?(r=!!e,this):r};var a=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,l,c,u,p,h){function f(t){function a(e){var t=d({},e);return t.data=e.data?at(e.data,e.headers,e.status,l.transformResponse):e.data,e=e.status,200<=e&&300>e?t:p.reject(t)}function s(e,t){var n,i={};return o(e,function(e,r){S(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}if(!Xn.isObject(t))throw i("$http")("badreq",t);var l=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);l.headers=function(t){var n,i,r,o=e.headers,a=d({},t.headers),o=d({},o.common,o[Hn(t.method)]);e:for(n in o){i=Hn(n);for(r in a)if(Hn(r)===i)continue e;a[n]=o[n]}return s(a,L(t))}(t),l.method=Wn(l.method),l.paramSerializer=k(l.paramSerializer)?h.get(l.paramSerializer):l.paramSerializer;var c=[function(t){var i=t.headers,r=at(t.data,ot(i),n,t.transformRequest);return b(r)&&o(i,function(e,t){"content-type"===Hn(t)&&delete i[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),m(t,r).then(a,a)},n],u=p.when(l);for(o(y,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&c.push(e.response,e.responseError)});c.length;){t=c.shift();var f=c.shift(),u=u.then(t,f)}return r?(u.success=function(e){return oe(e,"fn"),u.then(function(t){e(t.data,t.status,t.headers,l)}),u},u.error=function(e){return oe(e,"fn"),u.then(null,function(t){e(t.data,t.status,t.headers,l)}),u}):(u.success=Gi("success"),u.error=Gi("error")),u}function m(i,r){function o(e,n,i,r){function o(){a(n,e,i,r)}h&&(200<=e&&300>e?h.put(_,[e,n,rt(i),r]):h.remove(_)),t?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function a(e,t,n,r){t=Math.max(t,0),(200<=t&&300>t?y.resolve:y.reject)({data:e,status:t,headers:ot(n),config:i,statusText:r})}function c(e){a(e.data,e.status,L(e.headers()),e.statusText)}function d(){var e=f.pendingRequests.indexOf(i);-1!==e&&f.pendingRequests.splice(e,1)}var h,m,y=p.defer(),$=y.promise,k=i.headers,_=g(i.url,i.paramSerializer(i.params));return f.pendingRequests.push(i),$.then(d,d),!i.cache&&!e.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(h=x(i.cache)?i.cache:x(e.cache)?e.cache:v),h&&(m=h.get(_),w(m)?m&&S(m.then)?m.then(c,c):Jn(m)?a(m[1],m[0],L(m[2]),m[3]):a(m,200,{},"OK"):h.put(_,$)),b(m)&&((m=nn(i.url)?l()[i.xsrfCookieName||e.xsrfCookieName]:n)&&(k[i.xsrfHeaderName||e.xsrfHeaderName]=m),s(i.method,_,r,o,k,i.timeout,i.withCredentials,i.responseType)),$}function g(e,t){return 0<t.length&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var v=c("$http");e.paramSerializer=k(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var y=[];return o(a,function(e){y.unshift(k(e)?h.get(e):h.invoke(e))}),f.pendingRequests=[],function(e){o(arguments,function(e){f[e]=function(t,n){return f(d({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){o(arguments,function(e){f[e]=function(t,n,i){return f(d({},i||{},{method:e,url:t,data:n}))}})}("post","put","patch"),f.defaults=e,f}]}function lt(){return new e.XMLHttpRequest}function ct(){this.$get=["$browser","$window","$document",function(e,t,n){return ut(e,lt,e.defer,t.angular.callbacks,n[0])}]}function ut(e,t,i,r,a){function s(e,t,n){var i=a.createElement("script"),o=null;return i.type="text/javascript",i.src=e,i.async=!0,o=function(e){i.removeEventListener("load",o,!1),i.removeEventListener("error",o,!1),a.body.removeChild(i),i=null;var s=-1,l="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},i.addEventListener("load",o,!1),i.addEventListener("error",o,!1),a.body.appendChild(i),o}return function(a,l,c,u,d,p,h,f){function g(){b&&b(),x&&x.abort()}function v(t,r,o,a,s){$!==n&&i.cancel($),b=x=null,t(r,o,a,s),e.$$completeOutstandingRequest(m)}if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==Hn(a)){var y="_"+(r.counter++).toString(36);r[y]=function(e){r[y].data=e,r[y].called=!0};var b=s(l.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(e,t){v(u,e,r[y].data,"",t),r[y]=m})}else{var x=t();if(x.open(a,l,!0),o(d,function(e,t){w(e)&&x.setRequestHeader(t,e)}),x.onload=function(){var e=x.statusText||"",t="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;
0===n&&(n=t?200:"file"==tn(l).protocol?404:0),v(u,n,t,x.getAllResponseHeaders(),e)},a=function(){v(u,-1,null,null,"")},x.onerror=a,x.onabort=a,h&&(x.withCredentials=!0),f)try{x.responseType=f}catch(e){if("json"!==f)throw e}x.send(c)}if(0<p)var $=i(g,p);else p&&S(p.then)&&p.then(g)}}function dt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(e){return"\\\\\\"+e}function a(n){return n.replace(u,e).replace(p,t)}function s(o,s,u,p){function h(e){try{var t=e;e=u?r.getTrusted(u,t):r.valueOf(t);var n;if(p&&!w(e))n=e;else if(null==e)n="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=H(e)}n=e}return n}catch(e){i(Yi.interr(o,e))}}p=!!p;for(var f,m,g=0,v=[],y=[],x=o.length,$=[],k=[];g<x;){if(-1==(f=o.indexOf(e,g))||-1==(m=o.indexOf(t,f+l))){g!==x&&$.push(a(o.substring(g)));break}g!==f&&$.push(a(o.substring(g,f))),g=o.substring(f+l,m),v.push(g),y.push(n(g,h)),g=m+c,k.push($.length),$.push("")}if(u&&1<$.length&&Yi.throwNoconcat(o),!s||v.length){var _=function(e){for(var t=0,n=v.length;t<n;t++){if(p&&b(e[t]))return;$[k[t]]=e[t]}return $.join("")};return d(function(e){var t=0,n=v.length,r=Array(n);try{for(;t<n;t++)r[t]=y[t](e);return _(r)}catch(e){i(Yi.interr(o,e))}},{exp:o,expressions:v,$$watchDelegate:function(e,t){var n;return e.$watchGroup(y,function(i,r){var o=_(i);S(t)&&t.call(this,o,i!==r?n:o,e),n=o})}})}}var l=e.length,c=t.length,u=new RegExp(e.replace(/./g,o),"g"),p=new RegExp(t.replace(/./g,o),"g");return s.startSymbol=function(){return e},s.endSymbol=function(){return t},s}]}function pt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,i){function r(r,a,s,l){var c=4<arguments.length,u=c?qn.call(arguments,4):[],d=t.setInterval,p=t.clearInterval,h=0,f=w(l)&&!l,m=(f?i:n).defer(),g=m.promise;return s=w(s)?s:0,g.then(null,null,c?function(){r.apply(null,u)}:r),g.$$intervalId=d(function(){m.notify(h++),0<s&&h>=s&&(m.resolve(h),p(g.$$intervalId),delete o[g.$$intervalId]),f||e.$apply()},a),o[g.$$intervalId]=m,g}var o={};return r.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},r}]}function ht(e){e=e.split("/");for(var t=e.length;t--;)e[t]=Y(e[t]);return e.join("/")}function ft(e,t){var n=tn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=h(n.port)||Zi[n.protocol]||null}function mt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=tn(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=V(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function gt(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function vt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function yt(e){return e.replace(/(#.+)|#$/,"$1")}function bt(e,t,i){this.$$html5=!0,i=i||"",ft(e,this),this.$$parse=function(e){var n=gt(t,e);if(!k(n))throw Qi("ipthprfx",e,t);mt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=G(this.$$search),n=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=ht(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s;return(a=gt(e,r))!==n?(s=a,s=(a=gt(i,a))!==n?t+(gt("/",a)||a):e+s):(a=gt(t,r))!==n?s=t+a:t==r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function wt(e,t,n){ft(e,this),this.$$parse=function(i){var r,o=gt(e,i)||gt(t,i);b(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",b(o)&&(e=i,this.replace())):(r=gt(n,o),b(r)&&(r=o)),mt(r,this),i=this.$$path;var o=e,a=/^\/[A-Z]:(\/.*)/;0===r.indexOf(o)&&(r=r.replace(o,"")),a.exec(r)||(i=(r=a.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var t=G(this.$$search),i=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=ht(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return vt(e)==vt(t)&&(this.$$parse(t),!0)}}function xt(e,t,n){this.$$html5=!0,wt.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return e==vt(i)?o=i:(a=gt(t,i))?o=e+n+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=G(this.$$search),i=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=ht(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url}}function $t(e){return function(){return this[e]}}function kt(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function _t(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return w(t)?(e=t,this):e},this.html5Mode=function(e){return D(e)?(t.enabled=e,this):x(e)?(D(e.enabled)&&(t.enabled=e.enabled),D(e.requireBase)&&(t.requireBase=e.requireBase),D(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(e,t,n){var r=c.url(),o=c.$$state;try{i.url(e,t,n),c.$$state=i.state()}catch(e){throw c.url(r),c.$$state=o,e}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u;u=i.baseHref();var d,p=i.url();if(t.enabled){if(!u&&t.requireBase)throw Qi("nobase");d=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(u||"/"),u=r.history?bt:xt}else d=vt(p),u=wt;var h=d.substr(0,vt(d).lastIndexOf("/")+1);c=new u(d,h,"#"+e),c.$$parseLinkUrl(p,p),c.$$state=i.state();var f=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var r=Fn(e.target);"a"!==O(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var s=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");x(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=tn(s.animVal).href),f.test(s)||!s||r.attr("target")||e.isDefaultPrevented()||!c.$$parseLinkUrl(s,l)||(e.preventDefault(),c.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),yt(c.absUrl())!=yt(p)&&i.url(c.absUrl(),!0);var m=!0;return i.onUrlChange(function(e,t){b(gt(h,e))?a.location.href=e:(n.$evalAsync(function(){var i,r=c.absUrl(),o=c.$$state;c.$$parse(e),c.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,c.absUrl()===e&&(i?(c.$$parse(r),c.$$state=o,s(r,!1,o)):(m=!1,l(r,o)))}),n.$$phase||n.$digest())}),n.$watch(function(){var e=yt(i.url()),t=yt(c.absUrl()),o=i.state(),a=c.$$replace,u=e!==t||c.$$html5&&r.history&&o!==c.$$state;(m||u)&&(m=!1,n.$evalAsync(function(){var t=c.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,c.$$state,o).defaultPrevented;c.absUrl()===t&&(i?(c.$$parse(e),c.$$state=o):(u&&s(t,a,o===c.$$state?null:c.$$state),l(e,o)))})),c.$$replace=!1}),c}]}function Ct(){var e=!0,t=this;this.debugEnabled=function(t){return w(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||m;e=!1;try{e=!!r.apply}catch(e){}return e?function(){var e=[];return o(arguments,function(t){e.push(i(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function St(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw er("isecfld",t);return e}function Tt(e,t){if(e){if(e.constructor===e)throw er("isecfn",t);if(e.window===e)throw er("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw er("isecdom",t);if(e===Object)throw er("isecobj",t)}return e}function Et(e,t){if(e){if(e.constructor===e)throw er("isecfn",t);if(e===tr||e===nr||e===ir)throw er("isecff",t)}}function At(e,t){return"undefined"!=typeof e?e:t}function Dt(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Mt(e,t){var n,i;switch(e.type){case sr.Program:n=!0,o(e.body,function(e){Mt(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case sr.Literal:e.constant=!0,e.toWatch=[];break;case sr.UnaryExpression:Mt(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case sr.BinaryExpression:Mt(e.left,t),Mt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case sr.LogicalExpression:Mt(e.left,t),Mt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case sr.ConditionalExpression:Mt(e.test,t),Mt(e.alternate,t),Mt(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case sr.Identifier:e.constant=!1,e.toWatch=[e];break;case sr.MemberExpression:Mt(e.object,t),e.computed&&Mt(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case sr.CallExpression:n=!!e.filter&&!t(e.callee.name).$stateful,i=[],o(e.arguments,function(e){Mt(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&!t(e.callee.name).$stateful?i:[e];break;case sr.AssignmentExpression:Mt(e.left,t),Mt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case sr.ArrayExpression:n=!0,i=[],o(e.elements,function(e){Mt(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case sr.ObjectExpression:n=!0,i=[],o(e.properties,function(e){Mt(e.value,t),n=n&&e.value.constant,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case sr.ThisExpression:e.constant=!1,e.toWatch=[]}}function Pt(e){if(1==e.length){e=e[0].expression;var t=e.toWatch;return 1!==t.length?t:t[0]!==e?t:n}}function Ot(e){return e.type===sr.Identifier||e.type===sr.MemberExpression}function It(e){if(1===e.body.length&&Ot(e.body[0].expression))return{type:sr.AssignmentExpression,left:e.body[0].expression,right:{type:sr.NGValueParameter},operator:"="}}function Nt(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===sr.Literal||e.body[0].expression.type===sr.ArrayExpression||e.body[0].expression.type===sr.ObjectExpression)}function Lt(e,t){this.astBuilder=e,this.$filter=t}function Ft(e,t){this.astBuilder=e,this.$filter=t}function Rt(e){return"constructor"==e}function Ut(e){return S(e.valueOf)?e.valueOf():cr.call(e)}function Bt(){var e=ce(),t=ce();this.$get=["$filter",function(i){function r(e,t){return null==e||null==t?e===t:("object"!=typeof e||(e=Ut(e),"object"!=typeof e))&&(e===t||e!==e&&t!==t)}function a(e,t,i,o,a){var s,l=o.inputs;if(1===l.length){var c=r,l=l[0];return e.$watch(function(e){var t=l(e);return r(t,c)||(s=o(e,n,n,[t]),c=t&&Ut(t)),s},t,i,a)}for(var u=[],d=[],p=0,h=l.length;p<h;p++)u[p]=r,d[p]=null;return e.$watch(function(e){for(var t=!1,i=0,a=l.length;i<a;i++){var c=l[i](e);(t||(t=!r(c,u[i])))&&(d[i]=c,u[i]=c&&Ut(c))}return t&&(s=o(e,n,n,d)),s},t,i,a)}function s(e,t,n,i){var r,o;return r=e.$watch(function(e){return i(e)},function(e,n,i){o=e,S(t)&&t.apply(this,arguments),w(e)&&i.$$postDigest(function(){w(o)&&r()})},n)}function l(e,t,n,i){function r(e){var t=!0;return o(e,function(e){w(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return i(e)},function(e,n,i){s=e,S(t)&&t.call(this,e,n,i),r(e)&&i.$$postDigest(function(){r(s)&&a()})},n)}function c(e,t,n,i){var r;return r=e.$watch(function(e){return i(e)},function(e,n,i){S(t)&&t.apply(this,arguments),r()},n)}function u(e,t){if(!t)return e;var n=e.$$watchDelegate,n=n!==l&&n!==s?function(n,i,r,o){return r=e(n,i,r,o),t(r,n,i)}:function(n,i,r,o){return r=e(n,i,r,o),n=t(r,n,i),w(r)?n:r};return e.$$watchDelegate&&e.$$watchDelegate!==a?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=a,n.inputs=e.inputs?e.inputs:[e]),n}var d=ii().noUnsafeEval,p={csp:d,expensiveChecks:!1},h={csp:d,expensiveChecks:!0};return function(n,r,o){var d,f,g;switch(typeof n){case"string":g=n=n.trim();var v=o?t:e;return d=v[g],d||(":"===n.charAt(0)&&":"===n.charAt(1)&&(f=!0,n=n.substring(2)),o=o?h:p,d=new ar(o),d=new lr(d,i,o).parse(n),d.constant?d.$$watchDelegate=c:f?d.$$watchDelegate=d.literal?l:s:d.inputs&&(d.$$watchDelegate=a),v[g]=d),u(d,r);case"function":return u(n,r);default:return m}}}]}function Ht(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Wt(function(t){e.$evalAsync(t)},t)}]}function jt(){this.$get=["$browser","$exceptionHandler",function(e,t){return Wt(function(t){e.defer(t)},t)}]}function Wt(e,t){function r(e,t,n){function i(t){return function(n){r||(r=!0,t.call(e,n))}}var r=!1;return[i(t),i(n)]}function a(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function l(i){!i.processScheduled&&i.pending&&(i.processScheduled=!0,e(function(){var e,r,o;o=i.pending,i.processScheduled=!1,i.pending=n;for(var a=0,s=o.length;a<s;++a){r=o[a][0],e=o[a][i.status];try{S(e)?r.resolve(e(i.value)):1===i.status?r.resolve(i.value):r.reject(i.value)}catch(e){r.reject(e),t(e)}}}))}function c(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}var u=i("$q",TypeError);d(a.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var i=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),0<this.$$state.status&&l(this.$$state),i.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return h(t,!0,e)},function(t){return h(t,!1,e)},t)}}),d(c.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(u("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(x(e)||S(e))&&(n=e&&e.then),S(n)?(this.promise.$$state.status=-1,n.call(e,i[0],i[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(e){i[1](e),t(e)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;0>=this.promise.$$state.status&&i&&i.length&&e(function(){for(var e,r,o=0,a=i.length;o<a;o++){r=i[o][0],e=i[o][3];try{r.notify(S(e)?e(n):n)}catch(e){t(e)}}})}});var p=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},h=function(e,t,n){var i=null;try{S(n)&&(i=n())}catch(e){return p(e,!1)}return i&&S(i.then)?i.then(function(){return p(e,t)},function(e){return p(e,!1)}):p(e,t)},f=function(e,t,n,i){var r=new c;return r.resolve(e),r.promise.then(t,n,i)},m=function e(t){if(!S(t))throw u("norslvr",t);if(!(this instanceof e))return new e(t);var n=new c;return t(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise};return m.defer=function(){return new c},m.reject=function(e){var t=new c;return t.reject(e),t.promise},m.when=f,m.resolve=f,m.all=function(e){var t=new c,n=0,i=Jn(e)?[]:{};return o(e,function(e,r){n++,f(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise},m}function qt(){this.$get=["$window","$timeout",function(e,t){function n(){for(var e=0;e<u.length;e++){var t=u[e];t&&(u[e]=null,t())}c=u.length=0}function i(e){var t=u.length;return c++,u.push(e),0===t&&(l=s(n)),function(){0<=t&&(t=u[t]=null,0===--c&&l&&(l(),l=null,u.length=0))}}var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame,o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,a=!!r,s=a?function(e){var t=r(e);return function(){o(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};i.supported=a;var l,c=0,u=[];return i}]}function zt(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++Zn,this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=i("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,l,c,u){function d(e){e.currentScope.$$destroyed=!0}function p(){this.$id=++Zn,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function h(e){if($.$$phase)throw n("inprog",$.$$phase);$.$$phase=e}function f(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function g(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function v(){}function y(){for(;C.length;)try{C.shift()()}catch(e){l(e)}s=null}function w(){null===s&&(s=u.defer(function(){$.$apply(y)}))}p.prototype={constructor:p,$new:function(t,n){var i;return n=n||this,t?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!=this)&&i.$on("$destroy",d),i},$watch:function(e,t,n,i){var r=c(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var o=this,s=o.$$watchers,l={fn:t,last:v,get:r,exp:i||e,eq:!!n};return a=null,S(t)||(l.fn=m),s||(s=o.$$watchers=[]),s.unshift(l),f(this,1),function(){0<=I(s,l)&&f(o,-1),a=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(r,r,s)):t(r,i,s)}var i=Array(e.length),r=Array(e.length),a=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(r,r,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){r[0]=e,i[0]=n,t(r,e===n?r:i,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){r[t]=e,i[t]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){i=e;var t,n,a,s;if(!b(i)){if(x(i))if(r(i))for(o!==p&&(o=p,m=o.length=0,u++),e=i.length,m!==e&&(u++,o.length=m=e),t=0;t<e;t++)s=o[t],a=i[t],n=s!==s&&a!==a,n||s===a||(u++,o[t]=a);else{o!==h&&(o=h={},m=0,u++),e=0;for(t in i)i.hasOwnProperty(t)&&(e++,a=i[t],s=o[t],t in o?(n=s!==s&&a!==a,n||s===a||(u++,o[t]=a)):(m++,o[t]=a,u++));if(m>e)for(t in u++,o)i.hasOwnProperty(t)||(m--,delete o[t])}else o!==i&&(o=i,u++);return u}}n.$stateful=!0;var i,o,a,s=this,l=1<t.length,u=0,d=c(e,n),p=[],h={},f=!0,m=0;return this.$watch(d,function(){if(f?(f=!1,t(i,i,s)):t(i,a,s),l)if(x(i))if(r(i)){a=Array(i.length);for(var e=0;e<i.length;e++)a[e]=i[e]}else for(e in a={},i)jn.call(i,e)&&(a[e]=i[e]);else a=i})},$digest:function(){var e,i,r,o,c,d,p,f,m,g=t,b=[];h("$digest"),u.$$checkUrlChange(),this===$&&null!==s&&(u.defer.cancel(s),y()),a=null;do{for(d=!1,p=this;k.length;){try{m=k.shift(),m.scope.$eval(m.expression,m.locals)}catch(e){l(e)}a=null}e:do{if(o=p.$$watchers)for(c=o.length;c--;)try{if(e=o[c])if((i=e.get(p))===(r=e.last)||(e.eq?F(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))){if(e===a){d=!1;break e}}else d=!0,a=e,e.last=e.eq?N(i,null):i,e.fn(i,r===v?i:r,p),5>g&&(f=4-g,b[f]||(b[f]=[]),b[f].push({msg:S(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:i,oldVal:r}))}catch(e){l(e)}if(!(o=p.$$watchersCount&&p.$$childHead||p!==this&&p.$$nextSibling))for(;p!==this&&!(o=p.$$nextSibling);)p=p.$parent}while(p=o);if((d||k.length)&&!g--)throw $.$$phase=null,n("infdig",t,b)}while(d||k.length);for($.$$phase=null;_.length;)try{_.shift()()}catch(e){l(e)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===$&&u.$$applicationDestroyed(),f(this,-this.$$watchersCount);for(var t in this.$$listenerCount)g(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){$.$$phase||k.length||u.defer(function(){k.length&&$.$digest()}),k.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){_.push(e)},$apply:function(e){try{h("$apply");try{return this.$eval(e)}finally{$.$$phase=null}}catch(e){l(e)}finally{try{$.$digest()}catch(e){throw l(e),e}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&C.push(t),w()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,g(r,1,e))}},$emit:function(e,t){var n,i,r,o=[],a=this,s=!1,c={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=R([c],arguments,1);do{for(n=a.$$listeners[e]||o,c.currentScope=a,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,u)}catch(e){l(e)}else n.splice(i,1),i--,r--;if(s)return c.currentScope=null,c;a=a.$parent}while(a);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,i=this,r={name:e,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return r;for(var o,a,s=R([r],arguments,1);n=i;){for(r.currentScope=n,i=n.$$listeners[e]||[],o=0,a=i.length;o<a;o++)if(i[o])try{i[o].apply(null,s)}catch(e){l(e)}else i.splice(o,1),o--,a--;if(!(i=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var $=new p,k=$.$$asyncQueue=[],_=$.$$postDigestQueue=[],C=$.$$applyAsyncQueue=[];return $}]}function Kt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return r=tn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Vt(e){if("self"===e)return e;if(k(e)){if(-1<e.indexOf("***"))throw ur("iwcard",e);return e=ni(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(T(e))return new RegExp("^"+e.source+"$");throw ur("imatcher")}function Gt(e){var t=[];return w(e)&&o(e,function(e){t.push(Vt(e))}),t}function Yt(){this.SCE_CONTEXTS=dr;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Gt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Gt(e)),t},this.$get=["$injector",function(i){function r(e,t){return"self"===e?nn(t):!!e.exec(t.href)}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var a=function(e){throw ur("unsafe")};i.has("$sanitize")&&(a=i.get("$sanitize"));var s=o(),l={};return l[dr.HTML]=o(s),l[dr.CSS]=o(s),l[dr.URL]=o(s),l[dr.JS]=o(s),l[dr.RESOURCE_URL]=o(l[dr.URL]),{trustAs:function(e,t){var i=l.hasOwnProperty(e)?l[e]:null;if(!i)throw ur("icontext",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw ur("itype",e);return new i(t)},getTrusted:function(i,o){if(null===o||o===n||""===o)return o;var s=l.hasOwnProperty(i)?l[i]:null;if(s&&o instanceof s)return o.$$unwrapTrustedValue();if(i===dr.RESOURCE_URL){var c,u,s=tn(o.toString()),d=!1;for(c=0,u=e.length;c<u;c++)if(r(e[c],s)){d=!0;break}if(d)for(c=0,u=t.length;c<u;c++)if(r(t[c],s)){d=!1;break}if(d)return o;throw ur("insecurl",o.toString())}if(i===dr.HTML)return a(o);throw ur("unsafe")},valueOf:function(e){return e instanceof s?e.$$unwrapTrustedValue():e}}}]}function Xt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Ln)throw ur("iequirks");var i=L(dr);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=g),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var r=i.parseAs,a=i.getTrusted,s=i.trustAs;return o(dr,function(e,t){var n=Hn(t);i[pe("parse_as_"+n)]=function(t){return r(e,t)},i[pe("get_trusted_"+n)]=function(t){return a(e,t)},i[pe("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function Zt(){this.$get=["$window","$document",function(e,t){var n,i={},r=h((/android (\d+)/.exec(Hn((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},s=/^(Moz|webkit|ms)(?=[A-Z])/,l=a.body&&a.body.style,c=!1,u=!1;if(l){for(var d in l)if(c=s.exec(d)){n=c[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),u=!!("animation"in l||n+"Animation"in l),!r||c&&u||(c=k(l.webkitTransition),u=k(l.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>r||o),hasEvent:function(e){if("input"===e&&11>=Ln)return!1;if(b(i[e])){var t=a.createElement("div");i[e]="on"+e in t}return i[e]},csp:ii(),vendorPrefix:n,transitions:c,animations:u,android:r}}]}function Qt(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,i){function r(o,a){r.totalPendingRequests++,k(o)&&e.get(o)||(o=i.getTrustedResourceUrl(o));var s=t.defaults&&t.defaults.transformResponse;return Jn(s)?s=s.filter(function(e){return e!==it}):s===it&&(s=null),t.get(o,{cache:e,transformResponse:s}).finally(function(){r.totalPendingRequests--}).then(function(t){return e.put(o,t.data),t.data},function(e){if(!a)throw Fi("tpload",o,e.status,e.statusText);return n.reject(e)})}return r.totalPendingRequests=0,r}]}function Jt(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var i=[];return o(e,function(e){var r=Xn.element(e).data("$binding");r&&o(r,function(r){n?new RegExp("(^|\\s)"+ni(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!=r.indexOf(t)&&i.push(e)})}),i},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=e.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function en(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function o(o,s,l){S(o)||(l=s,s=o,o=m);var c,u=qn.call(arguments,3),d=w(l)&&!l,p=(d?i:n).defer(),h=p.promise;return c=t.defer(function(){try{p.resolve(o.apply(null,u))}catch(e){p.reject(e),r(e)}finally{delete a[h.$$timeoutId]}d||e.$apply()},s),h.$$timeoutId=c,a[c]=p,h}var a={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in a)&&(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function tn(e){return Ln&&(pr.setAttribute("href",e),e=pr.href),pr.setAttribute("href",e),{href:pr.href,protocol:pr.protocol?pr.protocol.replace(/:$/,""):"",host:pr.host,search:pr.search?pr.search.replace(/^\?/,""):"",hash:pr.hash?pr.hash.replace(/^#/,""):"",hostname:pr.hostname,port:pr.port,pathname:"/"===pr.pathname.charAt(0)?pr.pathname:"/"+pr.pathname}}function nn(e){return e=k(e)?tn(e):e,e.protocol===hr.protocol&&e.host===hr.host}function rn(){this.$get=v(e)}function on(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var i=e[0]||{},r={},o="";return function(){var e,a,s,l,c;if(e=i.cookie||"",e!==o)for(o=e,e=o.split("; "),r={},s=0;s<e.length;s++)a=e[s],l=a.indexOf("="),0<l&&(c=t(a.substring(0,l)),r[c]===n&&(r[c]=t(a.substring(l+1))));return r}}function an(){this.$get=on}function sn(e){function t(n,i){if(x(n)){var r={};return o(n,function(e,n){r[n]=t(n,e)}),r}return e.factory(n+"Filter",i)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",pn),t("date",xn),t("filter",ln),t("json",$n),t("limitTo",kn),t("lowercase",yr),t("number",hn),t("orderBy",_n),t("uppercase",br)}function ln(){return function(e,t,n){if(!r(e)){if(null==e)return e;throw i("filter")("notarray",e)}var o;switch(dn(t)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":t=cn(t,n,o);break;default:return e}return Array.prototype.filter.call(e,t)}}function cn(e,t,n){var i=x(e)&&"$"in e;return!0===t?t=F:S(t)||(t=function(e,t){return!b(e)&&(null===e||null===t?e===t:!(x(t)||x(e)&&!y(e))&&(e=Hn(""+e),t=Hn(""+t),-1!==e.indexOf(t)))}),function(r){return i&&!x(r)?un(r,e.$,t,!1):un(r,e,t,n)}}function un(e,t,n,i,r){var o=dn(e),a=dn(t);if("string"===a&&"!"===t.charAt(0))return!un(e,t.substring(1),n,i);if(Jn(e))return e.some(function(e){return un(e,t,n,i)});switch(o){case"object":var s;if(i){for(s in e)if("$"!==s.charAt(0)&&un(e[s],t,n,!0))return!0;return!r&&un(e,t,n,!1)}if("object"===a){for(s in t)if(r=t[s],!S(r)&&!b(r)&&(o="$"===s,!un(o?e:e[s],r,n,o,o)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function dn(e){return null===e?"null":typeof e}function pn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return b(n)&&(n=t.CURRENCY_SYM),b(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:fn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function hn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:fn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function fn(e,t,n,i,r){if(x(e))return"";var o=0>e;e=Math.abs(e);var a=1/0===e;if(!a&&!isFinite(e))return"";var s=e+"",l="",c=!1,u=[];if(a&&(l="∞"),!a&&-1!==s.indexOf("e")){var d=s.match(/([\d\.]+)e(-?)(\d+)/);d&&"-"==d[2]&&d[3]>r+1?e=0:(l=s,c=!0)}if(a||c)0<r&&1>e&&(l=e.toFixed(r),e=parseFloat(l));else{a=(s.split(fr)[1]||"").length,b(r)&&(r=Math.min(Math.max(t.minFrac,a),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+r)).toString()+"e"+-r);var a=(""+e).split(fr),s=a[0],a=a[1]||"",d=0,p=t.lgSize,h=t.gSize;if(s.length>=p+h)for(d=s.length-p,c=0;c<d;c++)0===(d-c)%h&&0!==c&&(l+=n),l+=s.charAt(c);for(c=d;c<s.length;c++)0===(s.length-c)%p&&0!==c&&(l+=n),l+=s.charAt(c);for(;a.length<r;)a+="0";r&&"0"!==r&&(l+=i+a.substr(0,r))}return 0===e&&(o=!1),u.push(o?t.negPre:t.posPre,l,o?t.negSuf:t.posSuf),u.join("")}function mn(e,t,n){var i="";for(0>e&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function gn(e,t,n,i){return n=n||0,function(r){return r=r["get"+e](),(0<n||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),mn(r,t,i)}}function vn(e,t){return function(n,i){var r=n["get"+e](),o=Wn(t?"SHORT"+e:e);return i[o][r]}}function yn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function bn(e){return function(t){var n=yn(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),mn(t,e)}}function wn(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function xn(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var i=0,r=0,o=t[8]?e.setUTCFullYear:e.setFullYear,a=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=h(t[9]+t[10]),r=h(t[9]+t[11])),o.call(e,h(t[1]),h(t[2])-1,h(t[3])),i=h(t[4]||0)-i,r=h(t[5]||0)-r,o=h(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),a.call(e,i,r,o,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var a,s,l="",c=[];
if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,k(n)&&(n=vr.test(n)?h(n):t(n)),_(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;i;)(s=gr.exec(i))?(c=R(c,s,1),i=c.pop()):(c.push(i),i=null);var u=n.getTimezoneOffset();return r&&(u=W(r,n.getTimezoneOffset()),n=q(n,r,!0)),o(c,function(t){a=mr[t],l+=a?a(n,e.DATETIME_FORMATS,u):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function $n(){return function(e,t){return b(t)&&(t=2),H(e,t)}}function kn(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):h(t),isNaN(t)?e:(_(e)&&(e=e.toString()),Jn(e)||k(e)?(n=!n||isNaN(n)?0:h(n),n=0>n&&n>=-e.length?e.length+n:n,0<=t?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function _n(e){function t(t,n){return n=n?-1:1,t.map(function(t){var i=1,r=g;if(S(t))r=t;else if(k(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(i="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant)))var o=r(),r=function(e){return e[o]};return{get:r,descending:i*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}return function(e,i,o){if(!r(e))return e;Jn(i)||(i=[i]),0===i.length&&(i=["+"]);var a=t(i,o);return a.push({get:function(){return{}},descending:o?-1:1}),e=Array.prototype.map.call(e,function(e,t){return{value:e,predicateValues:a.map(function(i){var r=i.get(e);return i=typeof r,null===r?(i="string",r="null"):"string"===i?r=r.toLowerCase():"object"===i&&("function"==typeof r.valueOf&&(r=r.valueOf(),n(r))||y(r)&&(r=r.toString(),n(r))||(r=t)),{value:r,type:i}})}}),e.sort(function(e,t){for(var n=0,i=0,r=a.length;i<r;++i){var n=e.predicateValues[i],o=t.predicateValues[i],s=0;if(n.type===o.type?n.value!==o.value&&(s=n.value<o.value?-1:1):s=n.type<o.type?-1:1,n=s*a[i].descending)break}return n}),e=e.map(function(e){return e.value})}}function Cn(e){return S(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function Sn(e,t,i,r,a){var s=this,l=[],c=s.$$parentForm=e.parent().controller("form")||$r;s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(i),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,c.$addControl(s),s.$rollbackViewValue=function(){o(l,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){o(l,function(e){e.$commitViewValue()})},s.$addControl=function(e){ae(e.$name,"input"),l.push(e),e.$name&&(s[e.$name]=e)},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],o(s.$pending,function(t,n){s.$setValidity(n,null,e)}),o(s.$error,function(t,n){s.$setValidity(n,null,e)}),o(s.$$success,function(t,n){s.$setValidity(n,null,e)}),I(l,e)},In({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(I(i,n),0===i.length&&delete e[t])},parentForm:c,$animate:r}),s.$setDirty=function(){r.removeClass(e,io),r.addClass(e,ro),s.$dirty=!0,s.$pristine=!1,c.$setDirty()},s.$setPristine=function(){r.setClass(e,io,ro+" ng-submitted"),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(l,function(e){e.$setPristine()})},s.$setUntouched=function(){o(l,function(e){e.$setUntouched()})},s.$setSubmitted=function(){r.addClass(e,"ng-submitted"),s.$submitted=!0,c.$setSubmitted()}}function Tn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function En(e,t,n,i,r,o){var a=Hn(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,l()})}var l=function(e){if(c&&(o.defer.cancel(c),c=null),!s){var r=t.val();e=e&&e.type,"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=ti(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,e)}};if(r.hasEvent("input"))t.on("input",l);else{var c,u=function(e,t,n){c||(c=o.defer(function(){c=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||u(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",l),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function An(e,t){return function(n,i){var r,a;if(C(n))return n;if(k(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Sr.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Dn(e,t,i,r){return function(o,a,s,l,c,u,d){function p(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return w(e)?C(e)?e:i(e):n}Mn(o,a,s,l),En(o,a,s,l,c,u);var f,m=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){return l.$isEmpty(e)?null:t.test(e)?(e=i(e,f),m&&(e=q(e,m)),e):n}),l.$formatters.push(function(e){if(e&&!C(e))throw ao("datefmt",e);return p(e)?((f=e)&&m&&(f=q(f,m,!0)),d("date")(e,r,m)):(f=null,"")}),w(s.min)||s.ngMin){var g;l.$validators.min=function(e){return!p(e)||b(g)||i(e)>=g},s.$observe("min",function(e){g=h(e),l.$validate()})}if(w(s.max)||s.ngMax){var v;l.$validators.max=function(e){return!p(e)||b(v)||i(e)<=v},s.$observe("max",function(e){v=h(e),l.$validate()})}}}function Mn(e,t,i,r){(r.$$hasNativeValidators=x(t[0].validity))&&r.$parsers.push(function(e){var i=t.prop("validity")||{};return i.badInput&&!i.typeMismatch?n:e})}function Pn(e,t,n,i,r){if(w(i)){if(e=e(i),!e.constant)throw ao("constexpr",n,i);return e(t)}return r}function On(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[],i=0;e:for(;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r==t[o])continue e;n.push(r)}return n}function r(e){var t=[];return Jn(e)?(o(e,function(e){t=t.concat(r(e))}),t):k(e)?e.split(" "):x(e)?(o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,l){function c(e,t){var n=s.data("$classCounts")||ce(),i=[];return o(e,function(e){(0<t||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(0<t)&&i.push(e))}),s.data("$classCounts",n),i.join(" ")}function u(e){if(!0===t||a.$index%2===t){var o=r(e||[]);if(d){if(!F(e,d)){var u=r(d),p=i(o,u),o=i(u,o),p=c(p,1),o=c(o,-1);p&&p.length&&n.addClass(s,p),o&&o.length&&n.removeClass(s,o)}}else{var p=c(o,1);l.$addClass(p)}}d=L(e)}var d;a.$watch(l[e],u,!0),l.$observe("class",function(t){u(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var s=r(a.$eval(l[e]));o===t?(o=c(s,1),l.$addClass(o)):(o=c(s,-1),l.$removeClass(o))}})}}}]}function In(e){function t(e,t){t&&!a[e]?(u.addClass(o,e),a[e]=!0):!t&&a[e]&&(u.removeClass(o,e),a[e]=!1)}function i(e,n){e=e?"-"+ne(e,"-"):"",t(to+e,!0===n),t(no+e,!1===n)}var r=e.ctrl,o=e.$element,a={},s=e.set,l=e.unset,c=e.parentForm,u=e.$animate;a[no]=!(a[to]=o.hasClass(to)),r.$setValidity=function(e,o,a){o===n?(r.$pending||(r.$pending={}),s(r.$pending,e,a)):(r.$pending&&l(r.$pending,e,a),Nn(r.$pending)&&(r.$pending=n)),D(o)?o?(l(r.$error,e,a),s(r.$$success,e,a)):(s(r.$error,e,a),l(r.$$success,e,a)):(l(r.$error,e,a),l(r.$$success,e,a)),r.$pending?(t(oo,!0),r.$valid=r.$invalid=n,i("",null)):(t(oo,!1),r.$valid=Nn(r.$error),r.$invalid=!r.$valid,i("",r.$valid)),o=r.$pending&&r.$pending[e]?n:!r.$error[e]&&(!!r.$$success[e]||null),i(e,o),c.$setValidity(e,o,r)}}function Nn(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Ln,Fn,Rn,Un,Bn=/^\/(.+)\/([a-z]*)$/,Hn=function(e){return k(e)?e.toLowerCase():e},jn=Object.prototype.hasOwnProperty,Wn=function(e){return k(e)?e.toUpperCase():e},qn=[].slice,zn=[].splice,Kn=[].push,Vn=Object.prototype.toString,Gn=Object.getPrototypeOf,Yn=i("ng"),Xn=e.angular||(e.angular={}),Zn=0;Ln=t.documentMode,m.$inject=[],g.$inject=[];var Qn,Jn=Array.isArray,ei=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,ti=function(e){return k(e)?e.trim():e},ni=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ii=function(){if(!w(ii.rules)){var e=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");ii.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{e=ii;try{new Function(""),n=!1}catch(e){n=!0}e.rules={noUnsafeEval:n,noInlineStyle:!1}}}return ii.rules},ri=function(){if(w(ri.name_))return ri.name_;var e,n,i,r,o=oi.length;for(n=0;n<o;++n)if(i=oi[n],e=t.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return ri.name_=r},oi=["ng-","data-ng-","ng:","x-ng-"],ai=/[A-Z]/g,si=!1,li=1,ci=3,ui={full:"1.4.4",major:1,minor:4,dot:4,codeName:"pylon-requirement"};me.expando="ng339";var di=me.cache={},pi=1;me._data=function(e){return this.cache[e[this.expando]]||{}};var hi=/([\:\-\_]+(.))/g,fi=/^moz([A-Z])/,mi={mouseleave:"mouseout",mouseenter:"mouseover"},gi=i("jqLite"),vi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,yi=/<|&#?\w+;/,bi=/<([\w:]+)/,wi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,xi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};xi.optgroup=xi.option,xi.tbody=xi.tfoot=xi.colgroup=xi.caption=xi.thead,xi.th=xi.td;var $i=me.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),me(e).on("load",i))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Fn(0<=e?this[e]:this[this.length+e])},length:0,push:Kn,sort:[].sort,splice:[].splice},ki={};o("multiple selected checked disabled readOnly required open".split(" "),function(e){ki[Hn(e)]=e});var _i={};o("input select option textarea button form details".split(" "),function(e){_i[e]=!0});var Ci={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:xe,removeData:be,hasData:function(e){for(var t in di[e.ng339])return!0;return!1}},function(e,t){me[t]=e}),o({data:xe,inheritedData:Te,scope:function(e){return Fn.data(e,"$scope")||Te(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Fn.data(e,"$isolateScope")||Fn.data(e,"$isolateScopeNoTemplate")},controller:Se,injector:function(e){return Te(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:$e,css:function(e,t,n){return t=pe(t),w(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,i){var r=e.nodeType;if(r!==ci&&2!==r&&8!==r)if(r=Hn(t),ki[r]){if(!w(i))return e[t]||(e.attributes.getNamedItem(t)||m).specified?r:n;i?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(w(i))e.setAttribute(t,i);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?n:e},prop:function(e,t,n){return w(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return n===li||n===ci?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===O(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return b(t)?e.innerHTML:(ve(e,!0),void(e.innerHTML=t))},empty:Ee},function(e,t){me.prototype[t]=function(t,i){var r,o,a=this.length;if(e!==Ee&&(2==e.length&&e!==$e&&e!==Se?t:i)===n){if(x(t)){for(r=0;r<a;r++)if(e===xe)e(this[r],t);else for(o in t)e(this[r],o,t[o]);return this}for(r=e.$dv,a=r===n?Math.min(a,1):a,o=0;o<a;o++){var s=e(this[o],t,i);r=r?r+s:s}return r}for(r=0;r<a;r++)e(this[r],t,i);return this}}),o({removeData:be,on:function e(t,n,i,r){if(w(r))throw gi("onargs");if(he(t)){var o=we(t,!0);r=o.events;var a=o.handle;a||(a=o.handle=Oe(t,r));for(var o=0<=n.indexOf(" ")?n.split(" "):[n],s=o.length;s--;){n=o[s];var l=r[n];l||(r[n]=[],"mouseenter"===n||"mouseleave"===n?e(t,mi[n],function(e){var t=e.relatedTarget;t&&(t===this||this.contains(t))||a(e,n)}):"$destroy"!==n&&t.addEventListener(n,a,!1),l=r[n]),l.push(i)}}},off:ye,one:function(e,t,n){e=Fn(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;ve(e),o(new me(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===li&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===li||11===n){t=new me(t);for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])}},prepend:function(e,t){if(e.nodeType===li){var n=e.firstChild;o(new me(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Fn(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Ae,detach:function(e){Ae(e,!0)},after:function(e,t){var n=e,i=e.parentNode;t=new me(t);for(var r=0,o=t.length;r<o;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:_e,removeClass:ke,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var i=n;b(i)&&(i=!$e(e,t)),(i?_e:ke)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ge,triggerHandler:function(e,t,n){var i,r,a=t.type||t,s=we(e);(s=(s=s&&s.events)&&s[a])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:m,type:a,target:e},t.type&&(i=d(i,t)),t=L(s),r=n?[i].concat(n):[i],o(t,function(t){i.isImmediatePropagationStopped()||t.apply(e,r)}))}},function(e,t){me.prototype[t]=function(t,n,i){for(var r,o=0,a=this.length;o<a;o++)b(r)?(r=e(this[o],t,n,i),w(r)&&(r=Fn(r))):Ce(r,e(this[o],t,n,i));return w(r)?r:this},me.prototype.bind=me.prototype.on,me.prototype.unbind=me.prototype.off}),Le.prototype={put:function(e,t){this[Ne(e,this.nextUid)]=t},get:function(e){return this[Ne(e,this.nextUid)]},remove:function(e){var t=this[e=Ne(e,this.nextUid)];return delete this[e],t}};var Si=[function(){this.$get=[function(){return Le}]}],Ti=/^[^\(]*\(\s*([^\)]*)\)/m,Ei=/,/,Ai=/^\s*(_?)(\S+?)\1\s*$/,Di=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Mi=i("$injector");Re.$$annotate=function(e,t,n){var i;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw k(n)&&n||(n=e.name||Fe(e)),Mi("strictdi",n);t=e.toString().replace(Di,""),t=t.match(Ti),o(t[1].split(Ei),function(e){e.replace(Ai,function(e,t,n){i.push(n)})})}e.$inject=i}}else Jn(e)?(t=e.length-1,oe(e[t],"fn"),i=e.slice(0,t)):oe(e,"fn",!0);return i};var Pi=i("$animate"),Oi=function(){this.$get=["$q","$$rAF",function(e,t){function n(){}return n.all=m,n.chain=m,n.prototype={end:m,cancel:m,resume:m,pause:m,complete:m,then:function(n,i){return e(function(e){t(function(){e()})}).then(n,i)}},n}]},Ii=function(){var e=new Le,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(n,r,a){var s=e.get(n);s||(e.put(n,s={}),t.push(n)),n=function(e,t){var n=!1;return e&&(e=k(e)?e.split(" "):Jn(e)?e:[],o(e,function(e){e&&(n=!0,s[e]=t)})),n},r=n(r,!0),a=n(a,!1),!r&&!a||1<t.length||i.$$postDigest(function(){o(t,function(t){var n=e.get(t);if(n){var i=He(t.attr("class")),r="",a="";o(n,function(e,t){e!==!!i[t]&&(e?r+=(r.length?" ":"")+t:a+=(a.length?" ":"")+t)}),o(t,function(e){r&&_e(e,r),a&&ke(e,a)}),e.remove(t)}}),t.length=0})}return{enabled:m,on:m,off:m,pin:m,push:function(e,t,i,o){return o&&o(),i=i||{},i.from&&e.css(i.from),i.to&&e.css(i.to),(i.addClass||i.removeClass)&&r(e,i.addClass,i.removeClass),new n}}}]},Ni=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Pi("notcsel",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Pi("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i;e:{for(i=0;i<n.length;i++){var r=n[i];if(1===r.nodeType){i=r;break e}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,r,o){return i=i&&Fn(i),r=r&&Fn(r),i=i||r.parent(),t(n,i,r),e.push(n,"enter",je(o))},move:function(n,i,r,o){return i=i&&Fn(i),r=r&&Fn(r),i=i||r.parent(),t(n,i,r),e.push(n,"move",je(o))},leave:function(t,n){return e.push(t,"leave",je(n),function(){t.remove()})},addClass:function(t,n,i){return i=je(i),i.addClass=Be(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=je(i),i.removeClass=Be(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=je(r),r.addClass=Be(r.addClass,n),r.removeClass=Be(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return o=je(o),o.from=o.from?d(o.from,n):n,o.to=o.to?d(o.to,i):i,o.tempClasses=Be(o.tempClasses,r||"ng-inline-animate"),e.push(t,"animate",o)}}}]}],Li=function(){this.$get=["$$rAF","$q",function(e,t){var n=function(){};return n.prototype={done:function(e){this.defer&&this.defer[!0===e?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=t.defer()),this.defer.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)}},function(t,i){function r(){return e(function(){i.addClass&&(t.addClass(i.addClass),i.addClass=null),i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null),i.to&&(t.css(i.to),i.to=null),o||a.done(),o=!0}),a}i.from&&(t.css(i.from),i.from=null);var o,a=new n;return{start:r,end:r}}}]},Fi=i("$compile");Ve.$inject=["$provide","$$sanitizeUriProvider"];var Ri=/^((?:x|data)[\:\-_])/i,Ui=i("$controller"),Bi=/^(\S+)(\s+as\s+(\w+))?$/,Hi=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Fn&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},ji="application/json",Wi={"Content-Type":ji+";charset=utf-8"},qi=/^\[|^\{(?!\{)/,zi={"[":/]$/,"{":/}$/},Ki=/^\)\]\}',?\n/,Vi=i("$http"),Gi=function(e){return function(){throw Vi("legacy",e)}},Yi=Xn.$interpolateMinErr=i("$interpolate");Yi.throwNoconcat=function(e){throw Yi("noconcat",e)},Yi.interr=function(e,t){return Yi("interr",e,t.toString())};var Xi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Zi={http:80,https:443,ftp:21},Qi=i("$location"),Ji={$$html5:!1,$$replace:!1,absUrl:$t("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=Xi.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:$t("$$protocol"),host:$t("$$host"),port:$t("$$port"),path:kt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(k(e)||_(e))e=e.toString(),this.$$search=V(e);else{if(!x(e))throw Qi("isrcharg");e=N(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:kt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([xt,wt,bt],function(e){e.prototype=Object.create(Ji),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==bt||!this.$$html5)throw Qi("nostate");return this.$$state=b(t)?null:t,this}});var er=i("$parse"),tr=Function.prototype.call,nr=Function.prototype.apply,ir=Function.prototype.bind,rr=ce();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){rr[e]=!0});var or={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ar=function(e){this.options=e};ar.prototype={constructor:ar,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),i=rr[t],r=rr[n];rr[e]||i||r?(e=r?n:i?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdent:function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=w(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,er("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Hn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),i=i+o;if(r)"u"===o?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=or[o]||o,r=!1;else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var sr=function(e,t){this.lexer=e,this.options=t};sr.Program="Program",sr.ExpressionStatement="ExpressionStatement",sr.AssignmentExpression="AssignmentExpression",sr.ConditionalExpression="ConditionalExpression",sr.LogicalExpression="LogicalExpression",sr.BinaryExpression="BinaryExpression",sr.UnaryExpression="UnaryExpression",sr.CallExpression="CallExpression",sr.MemberExpression="MemberExpression",sr.Identifier="Identifier",sr.Literal="Literal",sr.ArrayExpression="ArrayExpression",sr.Property="Property",sr.ObjectExpression="ObjectExpression",sr.ThisExpression="ThisExpression",sr.NGValueParameter="NGValueParameter",sr.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:sr.Program,body:e}},expressionStatement:function(){return{type:sr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:sr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:sr.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:sr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:sr.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:sr.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:sr.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:sr.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:sr.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:sr.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=N(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:sr.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:sr.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:sr.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:sr.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:sr.Identifier,name:e.text}},constant:function(){return{type:sr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:sr.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:sr.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:sr.ObjectExpression,properties:t}},throwError:function(e,t){throw er("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw er("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw er("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){e=this.tokens[e];var o=e.text;if(o===t||o===n||o===i||o===r||!(t||n||i||r))return e}return!1},expect:function(e,t,n,i){return!!(e=this.peek(e,t,n,i))&&(this.tokens.shift(),e)},constants:{true:{type:sr.Literal,value:!0},false:{type:sr.Literal,value:!1},null:{type:sr.Literal,value:null},undefined:{type:sr.Literal,value:n},this:{type:sr.ThisExpression}}},Lt.prototype={compile:function(e,t){var i=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Mt(r,i.$filter);var a,s="";return this.stage="assign",(a=It(r))&&(this.state.computing="assign",s=this.nextId(),this.recurse(a,s),s="fn.assign="+this.generateFunction("assign","s,v,l")),a=Pt(r.body),i.stage="inputs",o(a,function(e,t){var n="fn"+t;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(e,r),i.return_(r),i.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(r),s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",s=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",s)(this.$filter,St,Tt,Et,At,Dt,e),this.state=this.stage=n,s.literal=Nt(r),s.constant=r.constant,s},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,i,r,a,s){var l,c,u,d,p=this;if(r=r||m,!s&&w(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,i,r,a,!0));else switch(e.type){case sr.Program:o(e.body,function(t,i){p.recurse(t.expression,n,n,function(e){c=e}),i!==e.body.length-1?p.current().body.push(c,";"):p.return_(c)});break;case sr.Literal:d=this.escape(e.value),this.assign(t,d),r(d);break;case sr.UnaryExpression:this.recurse(e.argument,n,n,function(e){c=e}),d=e.operator+"("+this.ifDefined(c,0)+")",this.assign(t,d),r(d);break;case sr.BinaryExpression:this.recurse(e.left,n,n,function(e){l=e}),this.recurse(e.right,n,n,function(e){c=e}),d="+"===e.operator?this.plus(l,c):"-"===e.operator?this.ifDefined(l,0)+e.operator+this.ifDefined(c,0):"("+l+")"+e.operator+"("+c+")",this.assign(t,d),r(d);break;case sr.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),r(t);break;case sr.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),r(t);break;case sr.Identifier:t=t||this.nextId(),i&&(i.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),i.computed=!1,i.name=e.name),St(e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){a&&1!==a&&p.if_(p.not(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),(p.state.expensiveChecks||Rt(e.name))&&p.addEnsureSafeObject(t),r(t);break;case sr.MemberExpression:l=i&&(i.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,l,n,function(){p.if_(p.notNull(l),function(){e.computed?(c=p.nextId(),p.recurse(e.property,c),p.addEnsureSafeMemberName(c),a&&1!==a&&p.if_(p.not(p.computedMember(l,c)),p.lazyAssign(p.computedMember(l,c),"{}")),d=p.ensureSafeObject(p.computedMember(l,c)),p.assign(t,d),
i&&(i.computed=!0,i.name=c)):(St(e.property.name),a&&1!==a&&p.if_(p.not(p.nonComputedMember(l,e.property.name)),p.lazyAssign(p.nonComputedMember(l,e.property.name),"{}")),d=p.nonComputedMember(l,e.property.name),(p.state.expensiveChecks||Rt(e.property.name))&&(d=p.ensureSafeObject(d)),p.assign(t,d),i&&(i.computed=!1,i.name=e.property.name))},function(){p.assign(t,"undefined")}),r(t)},!!a);break;case sr.CallExpression:t=t||this.nextId(),e.filter?(c=p.filter(e.callee.name),u=[],o(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),u.push(t)}),d=c+"("+u.join(",")+")",p.assign(t,d),r(t)):(c=p.nextId(),l={},u=[],p.recurse(e.callee,c,l,function(){p.if_(p.notNull(c),function(){p.addEnsureSafeFunction(c),o(e.arguments,function(e){p.recurse(e,p.nextId(),n,function(e){u.push(p.ensureSafeObject(e))})}),l.name?(p.state.expensiveChecks||p.addEnsureSafeObject(l.context),d=p.member(l.context,l.name,l.computed)+"("+u.join(",")+")"):d=c+"("+u.join(",")+")",d=p.ensureSafeObject(d),p.assign(t,d)},function(){p.assign(t,"undefined")}),r(t)}));break;case sr.AssignmentExpression:if(c=this.nextId(),l={},!Ot(e.left))throw er("lval");this.recurse(e.left,n,l,function(){p.if_(p.notNull(l.context),function(){p.recurse(e.right,c),p.addEnsureSafeObject(p.member(l.context,l.name,l.computed)),d=p.member(l.context,l.name,l.computed)+e.operator+c,p.assign(t,d),r(t||d)})},1);break;case sr.ArrayExpression:u=[],o(e.elements,function(e){p.recurse(e,p.nextId(),n,function(e){u.push(e)})}),d="["+u.join(",")+"]",this.assign(t,d),r(d);break;case sr.ObjectExpression:u=[],o(e.properties,function(e){p.recurse(e.value,p.nextId(),n,function(t){u.push(p.escape(e.key.type===sr.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+u.join(",")+"}",this.assign(t,d),r(d);break;case sr.ThisExpression:this.assign(t,"s"),r("s");break;case sr.NGValueParameter:this.assign(t,"v"),r("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(k(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(_(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw er("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Ft.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,Mt(i,n.$filter);var r,a;(r=It(i))&&(a=this.recurse(r)),r=Pt(i.body);var s;r&&(s=[],o(r,function(e,t){var i=n.recurse(e);e.input=i,s.push(i),e.watchId=t}));var l=[];return o(i.body,function(e){l.push(n.recurse(e.expression))}),r=0===i.body.length?function(){}:1===i.body.length?l[0]:function(e,t){var n;return o(l,function(i){n=i(e,t)}),n},a&&(r.assign=function(e,t,n){return a(e,n,t)}),s&&(r.inputs=s),r.literal=Nt(i),r.constant=i.constant,r},recurse:function(e,t,i){var r,a,s,l=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case sr.Literal:return this.value(e.value,t);case sr.UnaryExpression:return a=this.recurse(e.argument),this["unary"+e.operator](a,t);case sr.BinaryExpression:return r=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](r,a,t);case sr.LogicalExpression:return r=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](r,a,t);case sr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case sr.Identifier:return St(e.name,l.expression),l.identifier(e.name,l.expensiveChecks||Rt(e.name),t,i,l.expression);case sr.MemberExpression:return r=this.recurse(e.object,!1,!!i),e.computed||(St(e.property.name,l.expression),a=e.property.name),e.computed&&(a=this.recurse(e.property)),e.computed?this.computedMember(r,a,t,i,l.expression):this.nonComputedMember(r,a,l.expensiveChecks,t,i,l.expression);case sr.CallExpression:return s=[],o(e.arguments,function(e){s.push(l.recurse(e))}),e.filter&&(a=this.$filter(e.callee.name)),e.filter||(a=this.recurse(e.callee,!0)),e.filter?function(e,i,r,o){for(var l=[],c=0;c<s.length;++c)l.push(s[c](e,i,r,o));return e=a.apply(n,l,o),t?{context:n,name:n,value:e}:e}:function(e,n,i,r){var o,c=a(e,n,i,r);if(null!=c.value){Tt(c.context,l.expression),Et(c.value,l.expression),o=[];for(var u=0;u<s.length;++u)o.push(Tt(s[u](e,n,i,r),l.expression));o=Tt(c.value.apply(c.context,o),l.expression)}return t?{value:o}:o};case sr.AssignmentExpression:return r=this.recurse(e.left,!0,1),a=this.recurse(e.right),function(e,n,i,o){var s=r(e,n,i,o);return e=a(e,n,i,o),Tt(s.value,l.expression),s.context[s.name]=e,t?{value:e}:e};case sr.ArrayExpression:return s=[],o(e.elements,function(e){s.push(l.recurse(e))}),function(e,n,i,r){for(var o=[],a=0;a<s.length;++a)o.push(s[a](e,n,i,r));return t?{value:o}:o};case sr.ObjectExpression:return s=[],o(e.properties,function(e){s.push({key:e.key.type===sr.Identifier?e.key.name:""+e.key.value,value:l.recurse(e.value)})}),function(e,n,i,r){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(e,n,i,r);return t?{value:o}:o};case sr.ThisExpression:return function(e){return t?{value:e}:e};case sr.NGValueParameter:return function(e,n,i,r){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){return n=e(n,i,r,o),n=w(n)?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,i,r,o){return n=e(n,i,r,o),n=w(n)?-n:0,t?{value:n}:n}},"unary!":function(e,t){return function(n,i,r,o){return n=!e(n,i,r,o),t?{value:n}:n}},"binary+":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a);return i=t(i,r,o,a),s=Dt(s,i),n?{value:s}:s}},"binary-":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a);return i=t(i,r,o,a),s=(w(s)?s:0)-(w(i)?i:0),n?{value:s}:s}},"binary*":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)*t(i,r,o,a),n?{value:i}:i}},"binary/":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)/t(i,r,o,a),n?{value:i}:i}},"binary%":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)%t(i,r,o,a),n?{value:i}:i}},"binary===":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)===t(i,r,o,a),n?{value:i}:i}},"binary!==":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)!==t(i,r,o,a),n?{value:i}:i}},"binary==":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)==t(i,r,o,a),n?{value:i}:i}},"binary!=":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)!=t(i,r,o,a),n?{value:i}:i}},"binary<":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)<t(i,r,o,a),n?{value:i}:i}},"binary>":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)>t(i,r,o,a),n?{value:i}:i}},"binary<=":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)<=t(i,r,o,a),n?{value:i}:i}},"binary>=":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)>=t(i,r,o,a),n?{value:i}:i}},"binary&&":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)&&t(i,r,o,a),n?{value:i}:i}},"binary||":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)||t(i,r,o,a),n?{value:i}:i}},"ternary?:":function(e,t,n,i){return function(r,o,a,s){return r=e(r,o,a,s)?t(r,o,a,s):n(r,o,a,s),i?{value:r}:r}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,i,r,o){return function(a,s,l,c){return a=s&&e in s?s:a,r&&1!==r&&a&&!a[e]&&(a[e]={}),s=a?a[e]:n,t&&Tt(s,o),i?{context:a,name:e,value:s}:s}},computedMember:function(e,t,n,i,r){return function(o,a,s,l){var c,u,d=e(o,a,s,l);return null!=d&&(c=t(o,a,s,l),St(c,r),i&&1!==i&&d&&!d[c]&&(d[c]={}),u=d[c],Tt(u,r)),n?{context:d,name:c,value:u}:u}},nonComputedMember:function(e,t,i,r,o,a){return function(s,l,c,u){return s=e(s,l,c,u),o&&1!==o&&s&&!s[t]&&(s[t]={}),l=null!=s?s[t]:n,(i||Rt(t))&&Tt(l,a),r?{context:s,name:t,value:l}:l}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}};var lr=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new sr(this.lexer),this.astCompiler=n.csp?new Ft(this.ast,t):new Lt(this.ast,t)};lr.prototype={constructor:lr,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}},ce(),ce();var cr=Object.prototype.valueOf,ur=i("$sce"),dr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Fi=i("$compile"),pr=t.createElement("a"),hr=tn(e.location.href);on.$inject=["$document"],sn.$inject=["$provide"],pn.$inject=["$locale"],hn.$inject=["$locale"];var fr=".",mr={yyyy:gn("FullYear",4),yy:gn("FullYear",2,0,!0),y:gn("FullYear",1),MMMM:vn("Month"),MMM:vn("Month",!0),MM:gn("Month",2,1),M:gn("Month",1,1),dd:gn("Date",2),d:gn("Date",1),HH:gn("Hours",2),H:gn("Hours",1),hh:gn("Hours",2,-12),h:gn("Hours",1,-12),mm:gn("Minutes",2),m:gn("Minutes",1),ss:gn("Seconds",2),s:gn("Seconds",1),sss:gn("Milliseconds",3),EEEE:vn("Day"),EEE:vn("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(0<=e?"+":"")+(mn(Math[0<e?"floor":"ceil"](e/60),2)+mn(Math.abs(e%60),2))},ww:bn(2),w:bn(1),G:wn,GG:wn,GGG:wn,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},gr=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,vr=/^\-?\d+$/;xn.$inject=["$locale"];var yr=v(Hn),br=v(Wn);_n.$inject=["$parse"];var wr=v({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Vn.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),xr={};o(ki,function(e,t){function n(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}if("multiple"!=e){var i=Ge("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[i]&&n(e,t,r)}),xr[i]=function(){return{restrict:"A",priority:100,link:r}}}}),o(Ci,function(e,t){xr[t]=function(){return{priority:100,link:function(e,n,i){return"ngPattern"===t&&"/"==i.ngPattern.charAt(0)&&(n=i.ngPattern.match(Bn))?void i.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(i[t],function(e){i.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=Ge("ng-"+e);xr[t]=function(){return{priority:99,link:function(n,i,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Vn.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,function(t){t?(r.$set(a,t),Ln&&o&&i.prop(o,r[a])):"href"===e&&r.$set(a,null)})}}}});var $r={$addControl:m,$$renameControl:function(e,t){e.$name=t},$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m};Sn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var kr=function(e){return["$timeout","$parse",function(t,i){function r(e){return""===e?i('this[""]').assign:i(e).assign||m}return{name:"form",restrict:e?"EAC":"E",controller:Sn,compile:function(i,o){i.addClass(io).addClass(to);var a=o.name?"name":!(!e||!o.ngForm)&&"ngForm";return{pre:function(e,i,o,s){if(!("action"in o)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};i[0].addEventListener("submit",l,!1),i.on("$destroy",function(){t(function(){i[0].removeEventListener("submit",l,!1)},0,!1)})}var c=s.$$parentForm,u=a?r(s.$name):m;a&&(u(e,s),o.$observe(a,function(t){s.$name!==t&&(u(e,n),c.$$renameControl(s,t),(u=r(s.$name))(e,s))})),i.on("$destroy",function(){c.$removeControl(s),u(e,n),d(s,$r)})}}}}}]},_r=kr(),Cr=kr(!0),Sr=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Tr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Er=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ar=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Dr=/^(\d{4})-(\d{2})-(\d{2})$/,Mr=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Pr=/^(\d{4})-W(\d\d)$/,Or=/^(\d{4})-(\d\d)$/,Ir=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Nr={text:function(e,t,n,i,r,o){En(e,t,n,i,r,o),Tn(i)},date:Dn("date",Dr,An(Dr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Dn("datetimelocal",Mr,An(Mr,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Dn("time",Ir,An(Ir,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Dn("week",Pr,function(e,t){if(C(e))return e;if(k(e)){Pr.lastIndex=0;var n=Pr.exec(e);if(n){var i=+n[1],r=+n[2],o=n=0,a=0,s=0,l=yn(i),r=7*(r-1);return t&&(n=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),s=t.getMilliseconds()),new Date(i,0,l.getDate()+r,n,o,a,s)}}return NaN},"yyyy-Www"),month:Dn("month",Or,An(Or,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,i,r,o,a){if(Mn(e,t,i,r),En(e,t,i,r,o,a),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:Ar.test(e)?parseFloat(e):n}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!_(e))throw ao("numfmt",e);e=e.toString()}return e}),w(i.min)||i.ngMin){var s;r.$validators.min=function(e){return r.$isEmpty(e)||b(s)||e>=s},i.$observe("min",function(e){w(e)&&!_(e)&&(e=parseFloat(e,10)),s=_(e)&&!isNaN(e)?e:n,r.$validate()})}if(w(i.max)||i.ngMax){var l;r.$validators.max=function(e){return r.$isEmpty(e)||b(l)||e<=l},i.$observe("max",function(e){w(e)&&!_(e)&&(e=parseFloat(e,10)),l=_(e)&&!isNaN(e)?e:n,r.$validate()})}},url:function(e,t,n,i,r,o){En(e,t,n,i,r,o),Tn(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||Tr.test(n)}},email:function(e,t,n,i,r,o){En(e,t,n,i,r,o),Tn(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Er.test(n)}},radio:function(e,t,n,i){b(n.name)&&t.attr("name",++Zn),t.on("click",function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)}),i.$render=function(){t[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(e,t,n,i,r,o,a,s){var l=Pn(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Pn(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){i.$setViewValue(t[0].checked,e&&e.type)}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return F(e,l)}),i.$parsers.push(function(e){return e?l:c})},hidden:m,button:m,submit:m,reset:m,file:m},Lr=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(Nr[Hn(a.type)]||Nr.text)(r,o,a,s[0],t,e,n,i)}}}}],Fr=/^(true|false|\d+)$/,Rr=function(){return{restrict:"A",priority:100,compile:function(e,t){return Fr.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Ur=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,i,r){e.$$addBindingInfo(i,r.ngBind),i=i[0],t.$watch(r.ngBind,function(e){i.textContent=e===n?"":e})}}}}],Br=["$interpolate","$compile",function(e,t){return{compile:function(i){return t.$$addBindingClass(i),function(i,r,o){i=e(r.attr(o.$attr.ngBindTemplate)),t.$$addBindingInfo(r,i.expressions),r=r[0],o.$observe("ngBindTemplate",function(e){r.textContent=e===n?"":e})}}}}],Hr=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(a,function(){i.html(e.getTrustedHtml(o(t))||"")})}}}}],jr=v({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Wr=On("",!0),qr=On("Odd",0),zr=On("Even",1),Kr=Cn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),Vr=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Gr={},Yr={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Ge("ng-"+e);Gr[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var r=function(){a(t,{$event:n})};Yr[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var Xr=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,c;n.$watch(r.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.createComment(" end ngIf: "+r.ngIf+" "),s={clone:n},e.enter(n,i.parent(),i)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=le(s.clone),e.leave(c).then(function(){c=null}),s=null))})}}}],Zr=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Xn.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,l,c,u){var d,p,h,f=0,m=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),h&&(n.leave(h).then(function(){p=null}),p=h,h=null)};i.$watch(o,function(o){var l=function(){!w(s)||s&&!i.$eval(s)||t()},p=++f;o?(e(o,!0).then(function(e){if(p===f){var t=i.$new();c.template=e,e=u(t,function(e){m(),n.enter(e,null,r).then(l)}),d=t,h=e,d.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){p===f&&(m(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(m(),c.template=null)})}}}}],Qr=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){/SVG/.test(i[0].toString())?(i.empty(),e(fe(o.template,t).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(o.template),e(i.contents())(n))}}}],Jr=Cn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),eo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,i,r){var a=t.attr(i.$attr.ngList)||", ",s="false"!==i.ngTrim,l=s?ti(a):a;r.$parsers.push(function(e){if(!b(e)){var t=[];return e&&o(e.split(l),function(e){e&&t.push(s?ti(e):e)}),t}}),r.$formatters.push(function(e){return Jn(e)?e.join(a):n}),r.$isEmpty=function(e){return!e||!e.length}}}},to="ng-valid",no="ng-invalid",io="ng-pristine",ro="ng-dirty",oo="ng-pending",ao=i("ngModel"),so=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,i,r,a,s,l,c,u,d){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(i.name||"",!1)(e);var p,h=a(i.ngModel),f=h.assign,g=h,v=f,y=null,x=this;this.$$setOptions=function(e){if((x.$options=e)&&e.getterSetter){var t=a(i.ngModel+"()"),n=a(i.ngModel+"($$$p)");g=function(e){var n=h(e);return S(n)&&(n=t(e)),n},v=function(e,t){S(h(e))?n(e,{$$$p:x.$modelValue}):f(e,x.$modelValue)}}else if(!h.assign)throw ao("nonassign",i.ngModel,z(r))},this.$render=m,this.$isEmpty=function(e){return b(e)||""===e||null===e||e!==e};var $=r.inheritedData("$formController")||$r,k=0;In({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:$,$animate:s}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,s.removeClass(r,ro),s.addClass(r,io)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,s.removeClass(r,io),s.addClass(r,ro),$.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,s.setClass(r,"ng-untouched","ng-touched")},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,s.setClass(r,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){l.cancel(y),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!_(x.$modelValue)||!isNaN(x.$modelValue)){var e=x.$$rawModelValue,t=x.$valid,i=x.$modelValue,r=x.$options&&x.$options.allowInvalid;x.$$runValidators(e,x.$$lastCommittedViewValue,function(o){r||t===o||(x.$modelValue=o?e:n,x.$modelValue!==i&&x.$$writeModelToScope())})}},this.$$runValidators=function(e,t,i){function r(){var n=!0;return o(x.$validators,function(i,r){var o=i(e,t);n=n&&o,s(r,o)}),!!n||(o(x.$asyncValidators,function(e,t){s(t,null)}),!1)}function a(){var i=[],r=!0;o(x.$asyncValidators,function(o,a){var l=o(e,t);if(!l||!S(l.then))throw ao("$asyncValidators",l);s(a,n),i.push(l.then(function(){s(a,!0)},function(e){r=!1,s(a,!1)}))}),i.length?u.all(i).then(function(){l(r)},m):l(!0)}function s(e,t){c===k&&x.$setValidity(e,t)}function l(e){c===k&&i(e)}k++;var c=k;(function(){var e=x.$$parserName||"parse";return p!==n?(p||(o(x.$validators,function(e,t){s(t,null)}),o(x.$asyncValidators,function(e,t){s(t,null)})),s(e,p),p):(s(e,null),!0)})()&&r()?a():l(!1)},this.$commitViewValue=function(){var e=x.$viewValue;l.cancel(y),(x.$$lastCommittedViewValue!==e||""===e&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=e,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=x.$$lastCommittedViewValue;if(p=!b(t)||n)for(var i=0;i<x.$parsers.length;i++)if(t=x.$parsers[i](t),b(t)){p=!1;break}_(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=g(e));var r=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=t,o&&(x.$modelValue=t,x.$modelValue!==r&&x.$$writeModelToScope()),x.$$runValidators(t,x.$$lastCommittedViewValue,function(e){o||(x.$modelValue=e?t:n,x.$modelValue!==r&&x.$$writeModelToScope())})},this.$$writeModelToScope=function(){v(e,x.$modelValue),o(x.$viewChangeListeners,function(e){try{e()}catch(e){t(e)}})},this.$setViewValue=function(e,t){x.$viewValue=e,x.$options&&!x.$options.updateOnDefault||x.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,i=x.$options;i&&w(i.debounce)&&(i=i.debounce,_(i)?n=i:_(i[t])?n=i[t]:_(i.default)&&(n=i.default)),l.cancel(y),n?y=l(function(){x.$commitViewValue()},n):c.$$phase?x.$commitViewValue():e.$apply(function(){x.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==x.$modelValue&&(x.$modelValue===x.$modelValue||t===t)){x.$modelValue=x.$$rawModelValue=t,p=n;for(var i=x.$formatters,r=i.length,o=t;r--;)o=i[r](o);x.$viewValue!==o&&(x.$viewValue=x.$$lastCommittedViewValue=o,x.$render(),x.$$runValidators(t,o,m))}return t})}],lo=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:so,priority:1,compile:function(t){return t.addClass(io).addClass("ng-untouched").addClass(to),{pre:function(e,t,n,i){var r=i[0],o=i[1]||$r;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&o.$$renameControl(r,e)}),e.$on("$destroy",function(){o.$removeControl(r)})},post:function(t,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],co=/(\s+|^)default(\s+|$)/,uo=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var i=this;this.$options=N(e.$eval(t.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=ti(this.$options.updateOn.replace(co,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},po=Cn({terminal:!0,priority:1e3}),ho=i("ngOptions"),fo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,mo=["$compile","$parse",function(e,n){function i(e,t,i){function o(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function a(e){var t;if(!c&&r(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(fo);if(!s)throw ho("iexp",e,z(t));var l=s[5]||s[7],c=s[6];e=/ as /.test(s[0])&&s[1];var u=s[9];t=n(s[2]?s[1]:l);var d=e&&n(e)||t,p=u&&n(u),h=u?function(e,t){return p(i,t)}:function(e){return Ne(e)},f=function(e,t){return h(e,w(e,t))},m=n(s[2]||s[1]),g=n(s[3]||""),v=n(s[4]||""),y=n(s[8]),b={},w=c?function(e,t){return b[c]=t,b[l]=e,b}:function(e){return b[l]=e,b};return{trackBy:u,getTrackByValue:f,getWatchables:n(y,function(e){var t=[];e=e||[];for(var n=a(e),r=n.length,o=0;o<r;o++){var l=e===n?o:n[o],c=w(e[l],l),l=h(e[l],c);t.push(l),(s[2]||s[1])&&(l=m(i,c),t.push(l)),s[4]&&(c=v(i,c),t.push(c))}return t}),getOptions:function(){for(var e=[],t={},n=y(i)||[],r=a(n),s=r.length,l=0;l<s;l++){var c=n===r?l:r[l],p=w(n[c],c),b=d(i,p),c=h(b,p),x=m(i,p),$=g(i,p),p=v(i,p),b=new o(c,b,x,$,p);e.push(b),t[c]=b}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[f(e)]},getViewValueFromOption:function(e){return u?Xn.copy(e.viewValue):e.viewValue}}}}}var a=t.createElement("option"),s=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(t,n,r,l){function c(e,t){e.element=t,t.disabled=e.disabled,e.value!==t.value&&(t.value=e.selectValue),e.label!==t.label&&(t.label=e.label,t.textContent=e.label)}function u(e,t,n,i){return t&&Hn(t.nodeName)===n?n=t:(n=i.cloneNode(!1),t?e.insertBefore(n,t):e.appendChild(n)),n}function d(e){for(var t;e;)t=e.nextSibling,Ae(e),e=t}function p(e){var t=g&&g[0],n=x&&x[0];if(t||n)for(;e&&(e===t||e===n);)e=e.nextSibling;return e}function h(){var e=$&&m.readValue();$=k.getOptions();var t={},i=n[0].firstChild;if(w&&n.prepend(g),i=p(i),$.items.forEach(function(e){var r,o;e.group?(r=t[e.group],r||(r=u(n[0],i,"optgroup",s),i=r.nextSibling,r.label=e.group,r=t[e.group]={groupElement:r,currentOptionElement:r.firstChild}),o=u(r.groupElement,r.currentOptionElement,"option",a),c(e,o),r.currentOptionElement=o.nextSibling):(o=u(n[0],i,"option",a),c(e,o),i=o.nextSibling)}),Object.keys(t).forEach(function(e){d(t[e].currentOptionElement)}),d(i),f.$render(),!f.$isEmpty(e)){var r=m.readValue();(k.trackBy?F(e,r):e===r)||(f.$setViewValue(r),f.$render())}}var f=l[1];if(f){var m=l[0];l=r.multiple;for(var g,v=0,y=n.children(),b=y.length;v<b;v++)if(""===y[v].value){g=y.eq(v);break}var w=!!g,x=Fn(a.cloneNode(!1));x.val("?");var $,k=i(r.ngOptions,n,t);l?(f.$isEmpty=function(e){return!e||0===e.length},m.writeValue=function(e){$.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){(e=$.getOptionFromViewValue(e))&&!e.disabled&&(e.element.selected=!0)})},m.readValue=function(){var e=n.val()||[],t=[];return o(e,function(e){(e=$.selectValueMap[e])&&!e.disabled&&t.push($.getViewValueFromOption(e))}),t},k.trackBy&&t.$watchCollection(function(){if(Jn(f.$viewValue))return f.$viewValue.map(function(e){return k.getTrackByValue(e)})},function(){f.$render()})):(m.writeValue=function(e){var t=$.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(x.remove(),w||g.remove(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||w?(x.remove(),w||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)):(w||g.remove(),n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0))},m.readValue=function(){var e=$.selectValueMap[n.val()];return e&&!e.disabled?(w||g.remove(),x.remove(),$.getViewValueFromOption(e)):null},k.trackBy&&t.$watch(function(){return k.getTrackByValue(f.$viewValue)},function(){f.$render()})),w?(g.remove(),e(g)(t),g.removeClass("ng-scope")):g=Fn(a.cloneNode(!1)),h(),t.$watchCollection(k.getWatchables,h)}}}}],go=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function c(e){s.text(e||"")}var u,d=l.count,p=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,f=a.$eval(p)||{},g={},v=t.startSymbol(),y=t.endSymbol(),w=v+d+"-"+h+y,x=Xn.noop;o(l,function(e,t){var n=r.exec(t);n&&(n=(n[1]?"-":"")+Hn(n[2]),f[n]=s.attr(l.$attr[t]))}),o(f,function(e,n){g[n]=t(e.replace(i,w))}),a.$watch(d,function(t){var i=parseFloat(t),r=isNaN(i);r||i in f||(i=e.pluralCat(i-h)),i===u||r&&_(u)&&isNaN(u)||(x(),r=g[i],b(r)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+p),x=m,c()):x=a.$watch(r,c),u=i)})}}}],vo=["$parse","$animate",function(e,a){var s=i("ngRepeat"),l=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,c){var u=c.ngRepeat,d=t.createComment(" end ngRepeat: "+u+" "),p=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw s("iexp",u);var h=p[1],f=p[2],m=p[3],g=p[4],p=h.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!p)throw s("iidexp",h);var v=p[3]||p[1],y=p[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw s("badident",m);var b,w,x,$,k={$id:Ne};return g?b=e(g):(x=function(e,t){return Ne(t)},$=function(e){return e}),function(e,t,i,c,p){b&&(w=function(t,n,i){return y&&(k[y]=t),k[v]=n,k.$index=i,b(e,k)});var h=ce();e.$watchCollection(f,function(i){var c,f,g,b,k,_,C,S,T,E,A=t[0],D=ce();if(m&&(e[m]=i),r(i))S=i,f=w||x;else for(E in f=w||$,S=[],i)i.hasOwnProperty(E)&&"$"!==E.charAt(0)&&S.push(E);for(b=S.length,E=Array(b),c=0;c<b;c++)if(k=i===S?c:S[c],_=i[k],C=f(k,_,c),h[C])T=h[C],delete h[C],D[C]=T,E[c]=T;else{if(D[C])throw o(E,function(e){e&&e.scope&&(h[e.id]=e)}),s("dupes",u,C,_);E[c]={id:C,scope:n,clone:n},D[C]=!0}for(g in h){if(T=h[g],C=le(T.clone),a.leave(C),C[0].parentNode)for(c=0,f=C.length;c<f;c++)C[c].$$NG_REMOVED=!0;T.scope.$destroy()}for(c=0;c<b;c++)if(k=i===S?c:S[c],_=i[k],T=E[c],T.scope){g=A;do g=g.nextSibling;while(g&&g.$$NG_REMOVED);T.clone[0]!=g&&a.move(le(T.clone),null,Fn(A)),A=T.clone[T.clone.length-1],l(T.scope,c,v,_,y,k,b)}else p(function(e,t){T.scope=t;var n=d.cloneNode(!1);e[e.length++]=n,a.enter(e,null,Fn(A)),A=n,T.clone=e,D[T.id]=T,l(T.scope,c,v,_,y,k,b)});h=D})}}}}],yo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],bo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{
tempClasses:"ng-hide-animate"})})}}}],wo=Cn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),xo=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,a){var s=[],l=[],c=[],u=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(r.ngSwitch||r.on,function(n){var i,r;for(i=0,r=c.length;i<r;++i)e.cancel(c[i]);for(i=c.length=0,r=u.length;i<r;++i){var p=le(l[i].clone);u[i].$destroy(),(c[i]=e.leave(p)).then(d(c,i))}l.length=0,u.length=0,(s=a.cases["!"+n]||a.cases["?"])&&o(s,function(n){n.transclude(function(i,r){u.push(r);var o=n.element;i[i.length++]=t.createComment(" end ngSwitchWhen: "),l.push({clone:i}),e.enter(i,o.parent(),o)})})})}}}],$o=Cn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),ko=Cn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),_o=Cn({restrict:"EAC",link:function(e,t,n,r,o){if(!o)throw i("ngTransclude")("orphan",z(t));o(function(e){t.empty(),t.append(e)})}}),Co=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],So={$setViewValue:m,$render:m},To=["$element","$scope","$attrs",function(e,i,r){var o=this,a=new Le;o.ngModelCtrl=So,o.unknownOption=Fn(t.createElement("option")),o.renderUnknownOption=function(t){t="? "+Ne(t)+" ?",o.unknownOption.val(t),e.prepend(o.unknownOption),e.val(t)},i.$on("$destroy",function(){o.renderUnknownOption=m}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),e.val()},o.writeValue=function(t){o.hasOption(t)?(o.removeUnknownOption(),e.val(t),""===t&&o.emptyOption.prop("selected",!0)):null==t&&o.emptyOption?(o.removeUnknownOption(),e.val("")):o.renderUnknownOption(t)},o.addOption=function(e,t){ae(e,'"option value"'),""===e&&(o.emptyOption=t);var n=a.get(e)||0;a.put(e,n+1)},o.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.remove(e),""===e&&(o.emptyOption=n)):a.put(e,t-1))},o.hasOption=function(e){return!!a.get(e)}}],Eo=function(){return{restrict:"E",require:["select","?ngModel"],controller:To,link:function(e,t,n,i){var r=i[1];if(r){var a=i[0];if(a.ngModelCtrl=r,r.$render=function(){a.writeValue(r.$viewValue)},t.on("change",function(){e.$apply(function(){r.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return o(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Le(e);o(t.find("option"),function(e){e.selected=w(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==r.$viewValue||F(s,r.$viewValue)||(s=L(r.$viewValue),r.$render()),l=r.$viewValue}),r.$isEmpty=function(e){return!e||0===e.length}}}}}},Ao=["$interpolate",function(e){function t(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,i){if(b(i.value)){var r=e(n.text(),!0);r||i.$set("value",n.text())}return function(e,n,i){var o=n.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.ngModelCtrl&&(r?e.$watch(r,function(e,r){i.$set("value",e),r!==e&&a.removeOption(r),a.addOption(e,n),a.ngModelCtrl.$render(),t(n)}):(a.addOption(i.value,n),a.ngModelCtrl.$render(),t(n)),n.on("$destroy",function(){a.removeOption(i.value),a.ngModelCtrl.$render()}))}}}}],Do=v({restrict:"E",terminal:!1}),Mo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},Po=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,o){if(o){var a,s=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(k(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp",s,e,z(t));a=e||n,o.$validate()}),o.$validators.pattern=function(e){return o.$isEmpty(e)||b(a)||a.test(e)}}}}},Oo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){e=h(e),r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(e,t){return 0>r||i.$isEmpty(t)||t.length<=r}}}}},Io=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=h(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};e.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(ie(),de(Xn),Xn.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",pluralCat:function(e,i){var r=0|e,o=i;return n===o&&(o=Math.min(t(e),3)),Math.pow(10,o),1==r&&0==o?"one":"other"}})}]),Fn(t).ready(function(){Q(t,J)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),define("angular",["jquery"],function(e){return function(){var t;return t||e.angular}}(this)),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return U(new(U(function(){},{prototype:e})),t)}function r(e){return R(arguments,function(t){t!==e&&R(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function a(e){if(Object.keys)return Object.keys(e);var t=[];return R(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in e&&e[i]===t)return i;return-1}function l(e,t,n,i){var r,l=o(n,i),c={},u=[];for(var d in l)if(l[d].params&&(r=a(l[d].params),r.length))for(var p in r)s(u,r[p])>=0||(u.push(r[p]),c[r[p]]=e[r[p]]);return U({},c,t)}function c(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(e[o]!=t[o])return!1}return!0}function u(e,t){var n={};return R(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return R(n,function(n){n in e&&(t[n]=e[n])}),t}function p(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==s(n,i)&&(t[i]=e[i]);return t}function h(e,t){var n=F(e),i=n?[]:{};return R(e,function(e,r){t(e,r)&&(i[n?i.length:r]=e)}),i}function f(e,t){var n=F(e)?[]:{};return R(e,function(e,i){n[i]=t(e,i)}),n}function m(e,t){var i=1,o=2,l={},c=[],u=l,d=U(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function h(e,n){if(y[n]!==o){if(v.push(n),y[n]===i)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=i,N(e))g.push(n,[function(){return t.get(e)}],c);else{var r=t.annotate(e);R(r,function(e){e!==n&&l.hasOwnProperty(e)&&h(l[e],e)}),g.push(n,e,r)}v.pop(),y[n]=o}}function f(e){return L(e)&&e.then&&e.$$promises}if(!L(l))throw new Error("'invocables' must be an object");var m=a(l||{}),g=[],v=[],y={};return R(l,h),l=v=y=null,function(i,o,a){function s(){--w||(x||r(b,o.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,h.resolve(b))}function l(e){v.$$failure=e,h.reject(e)}function c(n,r,o){function c(e){d.reject(e),l(e)}function u(){if(!O(v.$$failure))try{d.resolve(t.invoke(r,a,b)),d.promise.then(function(e){b[n]=e,s()},c)}catch(e){c(e)}}var d=e.defer(),p=0;R(o,function(e){y.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(p++,y[e].then(function(t){b[e]=t,--p||u()},c))}),p||u(),y[n]=d.promise}if(f(i)&&a===n&&(a=o,o=i,i=null),i){if(!L(i))throw new Error("'locals' must be an object")}else i=u;if(o){if(!f(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=d;var h=e.defer(),v=h.promise,y=v.$$promises={},b=U({},i),w=1+g.length/3,x=!1;if(O(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&r(b,p(o.$$inheritedValues,m)),U(y,o.$$promises),o.$$values?(x=r(b,p(o.$$values,m)),v.$$inheritedValues=p(o.$$values,m),s()):(o.$$inheritedValues&&(v.$$inheritedValues=p(o.$$inheritedValues,m)),o.then(s,l));for(var $=0,k=g.length;k>$;$+=3)i.hasOwnProperty(g[$])?s():c(g[$],g[$+1],g[$+2]);return v}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function g(e,t,n){this.fromConfig=function(e,t,n){return O(e.template)?this.fromString(e.template,t):O(e.templateUrl)?this.fromUrl(e.templateUrl,t):O(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return I(e)?e(t):e},this.fromUrl=function(n,i){return I(n)&&(n=n(i)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function v(e,t,r){function o(t,n,i,r){if(g.push(t),f[t])return f[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(m[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return m[t]=new H.Param(t,n,i,r),m[t]}function a(e,t,n,i){var r=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:r=["?(",")?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+t+r[1]}function s(r,o){var a,s,l,c,u;return a=r[2]||r[3],u=t.params[a],l=e.substring(p,r.index),s=o?r[4]:r[4]||("*"==r[1]?".*":null),c=H.type(s||"string")||i(H.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)}),{id:a,regexp:s,segment:l,type:c,cfg:u}}t=U({params:{}},L(t)?t:{});var l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",p=0,h=this.segments=[],f=r?r.params:{},m=this.params=r?r.params.$$new():new H.ParamSet,g=[];this.source=e;for(var v,y,b;(l=c.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),d+=a(v.segment,y.type.pattern.source,y.squash,y.isOptional),h.push(v.segment),p=c.lastIndex;b=e.substring(p);var w=b.indexOf("?");if(w>=0){var x=this.sourceSearch=b.substring(w);if(b=b.substring(0,w),this.sourcePath=e.substring(0,p+w),x.length>0)for(p=0;l=u.exec(x);)v=s(l,!0),y=o(v.id,v.type,v.cfg,"search"),p=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=a(b)+(t.strict===!1?"/?":"")+"$",h.push(b),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=h[0],this.$$paramNames=g}function y(e){U(this,e)}function b(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function r(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function o(){return{strict:m,caseInsensitive:p}}function l(e){return I(e)||F(e)&&I(e[e.length-1])}function c(){for(;$.length;){var e=$.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(w[e.name],d.invoke(e.def))}}function u(e){U(this,e||{})}H=this;var d,p=!1,m=!0,g=!1,w={},x=!0,$=[],k={string:{encode:e,decode:r,is:function(e){return null==e||!O(e)||"string"==typeof e},pattern:/[^\/]*/},int:{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return O(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(e.value)},this.caseInsensitive=function(e){return O(e)&&(p=e),p},this.strictMode=function(e){return O(e)&&(m=e),m},this.defaultSquashPolicy=function(e){if(!O(e))return g;if(e!==!0&&e!==!1&&!N(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return g=e,e},this.compile=function(e,t){return new v(e,U(o(),t))},this.isMatcher=function(e){if(!L(e))return!1;var t=!0;return R(v.prototype,function(n,i){I(n)&&(t=t&&O(e[i])&&I(e[i]))}),t},this.type=function(e,t,n){if(!O(t))return w[e];if(w.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return w[e]=new y(U({name:e},t)),n&&($.push({name:e,def:n}),x||c()),this},R(k,function(e,t){w[t]=new y(U({name:t},e))}),w=i(w,{}),this.$get=["$injector",function(e){return d=e,x=!1,c(),R(k,function(e,t){w[t]||(w[t]=new y(e))}),this}],this.Param=function(e,t,i,r){function o(e){var t=L(e)?a(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}function c(t,n,i){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof y?t.type:new y(t.type):"config"===i?w.any:w.string}function u(){var t={array:"search"===r&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return U(t,n,i).array}function p(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!O(n)||null==n)return g;if(n===!0||N(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function m(e,t,i,r){var o,a,l=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return o=F(e.replace)?e.replace:[],N(r)&&o.push({from:r,to:n}),a=f(o,function(e){return e.from}),h(l,function(e){return-1===s(a,e.from)}).concat(o)}function v(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");var e=d.invoke(i.$$fn);if(null!==e&&e!==n&&!$.type.is(e))throw new Error("Default value ("+e+") for parameter '"+$.id+"' is not an instance of Type ("+$.type.name+")");return e}function b(e){function t(e){return function(t){return t.from===e}}function n(e){var n=f(h($.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),O(e)?$.type.$normalize(e):v()}function x(){return"{Param:"+e+" "+t+" squash: '"+C+"' optional: "+_+"}"}var $=this;i=o(i),t=c(i,t,r);var k=u();t=k?t.$asArray(k,"search"===r):t,"string"!==t.name||k||"path"!==r||i.value!==n||(i.value="");var _=i.value!==n,C=p(i,_),S=m(i,k,_,C);U(this,{id:e,type:t,location:r,array:k,squash:C,replace:S,isOptional:_,value:b,dynamic:n,config:i,toString:x})},u.prototype={$$new:function(){return i(this,U(new u,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=a(u.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),R(t,function(t){R(a(t),function(t){-1===s(e,t)&&-1===s(i,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return R(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return R(i.$$keys(),function(r){var o=e&&e[r],a=t&&t[r];i[r].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var i,r,o,a,s,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],o=e[l[i]],o!==n&&null!==o||!r.isOptional);i++){if(a=r.type.$normalize(o),!r.type.is(a))return!1;if(s=r.type.encode(a),t.isString(s)&&!r.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=u}function w(e,i){function r(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return!O(i)||i}function s(i,r,o,a){function s(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function p(e){function t(e){var t=e(o,i);return!!t&&(N(t)&&i.replace().url(t),!0)}if(!e||!e.defaultPrevented){f&&i.url()===f,f=n;var r,a=c.length;for(r=0;a>r;r++)if(t(c[r]))return;u&&t(u)}}function h(){return l=l||r.$on("$locationChangeSuccess",p)}var f,m=a.baseHref(),g=i.url();return d||h(),{sync:function(){p()},listen:function(){return h()},update:function(e){return e?void(g=i.url()):void(i.url()!==g&&(i.url(g),i.replace()))},push:function(e,t,r){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),i.url(o),f=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled);var l=n.format(r);if(o=o||{},a||null===l||(l="#"+e.hashPrefix()+l),null!==l&&r&&r["#"]&&(l+="#"+r["#"]),l=s(l,a,o.absolute),!o.absolute||!l)return l;var c=!a&&l?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,c,l].join("")}}}var l,c=[],u=null,d=!1;this.rule=function(e){if(!I(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(N(e)){var t=e;e=function(){return t}}else if(!I(e))throw new Error("'rule' must be a function");return u=e,this},this.when=function(e,t){var n,s=N(t);if(N(e)&&(e=i.compile(e)),!s&&!I(t)&&!F(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),U(function(n,i){return a(n,t,e.exec(i.path(),i.search()))},{prefix:N(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return o(n,e)}]),U(function(n,i){return a(n,t,e.exec(i.path()))},{prefix:r(e)})}},c={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var u in c)if(c[u])return this.rule(l[u](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function x(e,r){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function p(e,t){if(!e)return n;var i=N(e),r=i?e:e.name,a=o(r);if(a){if(!t)throw new Error("No reference point given for path '"+r+"'");t=p(t);for(var s=r.split("."),l=0,c=s.length,u=t;c>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!u.parent)throw new Error("Path '"+r+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;s=s.slice(l).join("."),r=u.name+(u.name&&s?".":"")+s}var d=C[r];return!d||!i&&(i||d!==e&&d.self!==e)?n:d}function h(e,t){S[e]||(S[e]=[]),S[e].push(t)}function m(e){for(var t=S[e]||[];t.length;)g(t.shift())}function g(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!N(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(C.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):N(t.parent)?t.parent:L(t.parent)&&N(t.parent.name)?t.parent.name:"";if(r&&!C[r])return h(r,t.self);for(var o in E)I(E[o])&&(t[o]=E[o](t,E.$delegates[o]));return C[n]=t,!t[T]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){_.$current.navigable==t&&c(e,n)||_.transitionTo(t,e,{inherit:!0,location:!1})}]),m(n),t}function v(e){return e.indexOf("*")>-1}function y(e){for(var t=e.split("."),n=_.$current.name.split("."),i=0,r=t.length;r>i;i++)"*"===t[i]&&(n[i]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function b(e,t){return N(e)&&!O(t)?E[e]:I(t)&&N(e)?(E[e]&&!E.$delegates[e]&&(E.$delegates[e]=E[e]),E[e]=t,this):this}function w(e,t){return L(e)?t=e:t.name=e,g(t),this}function x(e,r,o,s,d,h,m,g,b){function w(t,n,i,o){var a=e.$broadcast("$stateNotFound",t,n,i);if(a.defaultPrevented)return m.update(),A;if(!a.retry)return null;if(o.$retry)return m.update(),D;var s=_.transition=r.when(a.retry);return s.then(function(){return s!==_.transition?S:(t.options.$retry=!0,_.transitionTo(t.to,t.toParams,t.options))},function(){return A}),m.update(),s}function x(e,n,i,a,l,c){function p(){var n=[];return R(e.views,function(i,r){var a=i.resolve&&i.resolve!==e.resolve?i.resolve:{};a.$template=[function(){return o.load(r,{view:i,locals:l.globals,params:h,notify:c.notify})||""}],n.push(d.resolve(a,l.globals,l.resolve,e).then(function(n){if(I(i.controllerProvider)||F(i.controllerProvider)){var o=t.extend({},a,l.globals);n.$$controller=s.invoke(i.controllerProvider,null,o)}else n.$$controller=i.controller;n.$$state=e,n.$$controllerAs=i.controllerAs,l[r]=n}))}),r.all(n).then(function(){return l.globals})}var h=i?n:u(e.params.$$keys(),n),f={$stateParams:h};l.resolve=d.resolve(e.resolve,f,l.resolve,e);var m=[l.resolve.then(function(e){l.globals=e})];return a&&m.push(a),r.all(m).then(p).then(function(e){return l})}var S=r.reject(new Error("transition superseded")),E=r.reject(new Error("transition prevented")),A=r.reject(new Error("transition aborted")),D=r.reject(new Error("transition failed"));return k.locals={resolve:null,globals:{$stateParams:{}}},_={params:{},current:k.self,$current:k,transition:null},_.reload=function(e){return _.transitionTo(_.current,h,{reload:e||!0,inherit:!1,notify:!0})},_.go=function(e,t,n){return _.transitionTo(e,t,U({inherit:!0,relative:_.$current},n))},_.transitionTo=function(t,n,o){n=n||{},o=U({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,c=_.$current,d=_.params,f=c.path,g=p(t,o.relative),v=n["#"];if(!O(g)){var y={to:t,toParams:n,options:o},b=w(y,c.self,d,o);if(b)return b;if(t=y.to,n=y.toParams,o=y.options,g=p(t,o.relative),!O(g)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(g[T])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=l(h,n||{},_.$current,g)),!g.params.$$validates(n))return D;n=g.params.$$values(n),t=g;var C=t.path,A=0,M=C[A],P=k.locals,I=[];if(o.reload){if(N(o.reload)||L(o.reload)){if(L(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var F=o.reload===!0?f[0]:p(o.reload);if(o.reload&&!F)throw new Error("No such reload state '"+(N(o.reload)?o.reload:o.reload.name)+"'");for(;M&&M===f[A]&&M!==F;)P=I[A]=M.locals,A++,M=C[A]}}else for(;M&&M===f[A]&&M.ownParams.$$equals(n,d);)P=I[A]=M.locals,A++,M=C[A];if($(t,n,c,d,P,o))return v&&(n["#"]=v),_.params=n,B(_.params,h),o.location&&t.navigable&&t.navigable.url&&(m.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),m.update(!0)),_.transition=null,r.when(_.current);if(n=u(t.params.$$keys(),n||{}),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,d).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,d),m.update(),E;for(var R=r.when(P),H=A;H<C.length;H++,M=C[H])P=I[H]=i(P),R=x(M,n,M===t,R,P,o);var j=_.transition=R.then(function(){var i,r,a;if(_.transition!==j)return S;for(i=f.length-1;i>=A;i--)a=f[i],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=A;i<C.length;i++)r=C[i],r.locals=I[i],r.self.onEnter&&s.invoke(r.self.onEnter,r.self,r.locals.globals);return v&&(n["#"]=v),_.transition!==j?S:(_.$current=t,_.current=t.self,_.params=n,B(_.params,h),_.transition=null,o.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,d),m.update(!0),_.current)},function(i){return _.transition!==j?S:(_.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,c.self,d,i),a.defaultPrevented||m.update(),r.reject(i))});return j},_.is=function(e,t,i){i=U({relative:_.$current},i||{});var r=p(e,i.relative);return O(r)?_.$current===r&&(!t||c(r.params.$$values(t),h)):n},_.includes=function(e,t,i){if(i=U({relative:_.$current},i||{}),N(e)&&v(e)){if(!y(e))return!1;e=_.$current.name}var r=p(e,i.relative);return O(r)?!!O(_.$current.includes[r.name])&&(!t||c(r.params.$$values(t),h,a(t))):n},_.href=function(e,t,i){i=U({lossy:!0,inherit:!0,absolute:!1,relative:_.$current},i||{});var r=p(e,i.relative);if(!O(r))return null;i.inherit&&(t=l(h,t||{},_.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?m.href(o.url,u(r.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},_.get=function(e,t){if(0===arguments.length)return f(a(C),function(e){return C[e].self});var n=p(e,t||_.$current);return n&&n.self?n.self:null},_}function $(e,t,n,i,r,o){function a(e,t,n){function i(t){return"search"!=e.params[t].location}var r=e.params.$$keys().filter(i),o=d.apply({},[e.params].concat(r)),a=new H.ParamSet(o);return a.$$equals(t,n)}return!(o.reload||e!==n||!(r===n.locals||e.self.reloadOnSearch===!1&&a(n,i,t)))||void 0}var k,_,C={},S={},T="abstract",E={parent:function(e){if(O(e.parent)&&e.parent)return p(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?p(t[1]):k},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=U({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(N(t))return"^"==t.charAt(0)?r.compile(t.substring(1),n):(e.parent.navigable||k).url.concat(t,n);if(!t||r.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new H.ParamSet;return R(e.params||{},function(e,n){t[n]||(t[n]=new H.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?U(e.parent.params.$$new(),e.ownParams):new H.ParamSet},views:function(e){var t={};return R(O(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?U({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};k=g({name:"",url:"^",views:null,abstract:!0}),k.navigable=null,this.decorator=b,this.state=w,this.$get=x,x.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function $(){function e(e,t){return{load:function(n,i){var r,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return i=U(o,i),i.view&&(r=t.fromConfig(i.view,i.params,i.locals)),r&&i.notify&&e.$broadcast("$viewContentLoading",i),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function k(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function _(e,n,i,r){function o(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(e){return null}}}function a(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(c)return{enter:function(e,t,n){var i=c.enter(e,null,t,n);i&&i.then&&i.then(n)},leave:function(e,t){var n=c.leave(e,t);n&&n.then&&n.then(t)}};if(l){var i=l&&l(t,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return n()}var s=o(),l=s("$animator"),c=s("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,l){function c(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),p&&(v.leave(p,function(){d=null}),d=p,p=null)}function u(a){var u,d=S(n,l,o,r),y=d&&e.$current&&e.$current.locals[d];if(a||y!==f){u=n.$new(),f=e.$current.locals[d];var b=s(u,function(e){v.enter(e,o,function(){h&&h.$emit("$viewContentAnimationEnded"),(t.isDefined(g)&&!g||n.$eval(g))&&i(e)}),c()});p=b,h=u,h.$emit("$viewContentLoaded"),h.$eval(m)}}var d,p,h,f,m=l.onload||"",g=l.autoscroll,v=a(l,n);n.$on("$stateChangeSuccess",function(){u(!1)}),n.$on("$viewContentLoading",function(){u(!1)}),u(!0)}}};return u}function C(e,t,n,i){return{restrict:"ECA",priority:-400,compile:function(r){var o=r.html();return function(r,a,s){var l=n.$current,c=S(r,s,a,i),u=l&&l.locals[c];if(u){a.data("$uiView",{name:c,state:u.$$state}),a.html(u.$template?u.$template:o);var d=e(a.contents());if(u.$$controller){u.$scope=r,u.$element=a;var p=t(u.$$controller,u);u.$$controllerAs&&(r[u.$$controllerAs]=p),a.data("$ngControllerController",p),a.children().data("$ngControllerController",p)}d(r)}}}}}function S(e,t,n,i){var r=i(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function T(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function E(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function A(e,n){var i=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,o,a,s){var l=T(a.uiSref,e.current.name),c=null,u=E(o)||e.$current,d="[object SVGAnimatedString]"===Object.prototype.toString.call(o.prop("href"))?"xlink:href":"href",p=null,h="A"===o.prop("tagName").toUpperCase(),f="FORM"===o[0].nodeName,m=f?"action":d,g=!0,v={relative:u,inherit:!0},y=r.$eval(a.uiSrefOpts)||{};t.forEach(i,function(e){e in y&&(v[e]=y[e])});var b=function(n){if(n&&(c=t.copy(n)),g){p=e.href(l.state,c,v);var i=s[1]||s[0];return i&&i.$$addStateInfo(l.state,c),null===p?(g=!1,!1):void a.$set(m,p)}};l.paramExpr&&(r.$watch(l.paramExpr,function(e,t){e!==c&&b(e)},!0),c=t.copy(r.$eval(l.paramExpr))),b(),f||o.bind("click",function(t){var i=t.which||t.button;if(!(i>1||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target"))){var r=n(function(){e.go(l.state,c,v)});t.preventDefault();var a=h&&!p?1:0;t.preventDefault=function(){a--<=0&&n.cancel(r)}}})}}}function D(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,i,r){function o(){a()?i.addClass(l):i.removeClass(l)}function a(){for(var e=0;e<c.length;e++)if(s(c[e].state,c[e].params))return!0;return!1}function s(t,n){return"undefined"!=typeof r.uiSrefActiveEq?e.is(t.name,n):e.includes(t.name,n)}var l,c=[];l=n(r.uiSrefActiveEq||r.uiSrefActive||"",!1)(t),this.$$addStateInfo=function(t,n){var r=e.get(t,E(i));c.push({state:r||{name:t},params:n}),o()},t.$on("$stateChangeSuccess",o)}]}}function M(e){var t=function(t){return e.is(t)};return t.$stateful=!0,
t}function P(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var O=t.isDefined,I=t.isFunction,N=t.isString,L=t.isObject,F=t.isArray,R=t.forEach,U=t.extend,B=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",m),g.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",g);var H;v.prototype.concat=function(e,t){var n={caseInsensitive:H.caseInsensitive(),strict:H.strictMode(),squash:H.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,U(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var i=t(e).split(/-(?!\\)/),r=f(i,t);return f(r,n).reverse()}var i=this.regexp.exec(e);if(!i)return null;t=t||{};var r,o,a,s=this.parameters(),l=s.length,c=this.segments.length-1,u={};if(c!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;c>r;r++){a=s[r];var d=this.params[a],p=i[r+1];for(o=0;o<d.replace;o++)d.replace[o].from===p&&(p=d.replace[o].to);p&&d.array===!0&&(p=n(p)),u[a]=d.value(p)}for(;l>r;r++)a=s[r],u[a]=this.params[a].value(t[a]);return u},v.prototype.parameters=function(e){return O(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,l=i.length,c=n[0];for(o=0;l>o;o++){var u=s>o,d=i[o],p=r[d],h=p.value(e[d]),m=p.isOptional&&p.type.equals(p.value(),h),g=!!m&&p.squash,v=p.type.encode(h);if(u){var y=n[o+1];if(g===!1)null!=v&&(c+=F(v)?f(v,t).join("-"):encodeURIComponent(v)),c+=y;else if(g===!0){var b=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=y.match(b)[1]}else N(g)&&(c+=g+y)}else{if(null==v||m&&g!==!1)continue;F(v)||(v=[v]),v=f(v,encodeURIComponent).join("&"+d+"="),c+=(a?"&":"?")+(d+"="+v),a=!0}}return c},y.prototype.is=function(e,t){return!0},y.prototype.encode=function(e,t){return e},y.prototype.decode=function(e,t){return e},y.prototype.equals=function(e,t){return e==t},y.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},y.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function r(e){return F(e)?e:O(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){n=r(n);var i=f(n,e);return t===!0?0===h(i,a).length:o(i)}}function l(e){return function(t,n){var i=r(t),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!e(i[a],o[a]))return!1;return!0}}this.encode=s(i(e,"encode")),this.decode=s(i(e,"decode")),this.is=s(i(e,"is"),!0),this.equals=l(i(e,"equals")),this.pattern=e.pattern,this.$normalize=s(i(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",w),x.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",x),$.$inject=[],t.module("ui.router.state").provider("$view",$),t.module("ui.router.state").provider("$uiViewScroll",k),_.$inject=["$state","$injector","$uiViewScroll","$interpolate"],C.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",_),t.module("ui.router.state").directive("uiView",C),A.$inject=["$state","$timeout"],D.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",A).directive("uiSrefActive",D).directive("uiSrefActiveEq",D),M.$inject=["$state"],P.$inject=["$state"],t.module("ui.router.state").filter("isState",M).filter("includedByState",P)}(window,window.angular),define("ui-router",["angular"],function(){}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,i){function r(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(o)}function o(){n.removeClass("collapsing"),n.css({height:"auto"})}function a(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void e.removeClass(n,"in",{to:{height:"0"}}).then(s)):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(i.collapse,function(e){e?a():r()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.$watch("isOpen",function(t){t&&i.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable=!!t.close,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,i,r){e(function(){r.close()},parseInt(i.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(e,t){return function(n,i,r){t||e.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),i.addClass("ng-binding").data("$binding",r.bindHtmlUnsafe),n.$watch(r.bindHtmlUnsafe,function(e){i.html(e||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,i){var r=i[0],o=i[1];o.$render=function(){t.toggleClass(r.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(r.toggleEvent,function(){var i=t.hasClass(r.activeClass);(!i||angular.isDefined(n.uncheckable))&&e.$apply(function(){o.$setViewValue(i?null:e.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,i){function r(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(t,n){var i=e.$eval(t);return angular.isDefined(i)?i:n}var s=i[0],l=i[1];l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,r()))},t.bind(s.toggleEvent,function(){e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?o():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(e,t,n,i){function r(t,n,r){g||(angular.extend(t,{direction:r,active:!0}),angular.extend(d.currentSlide||{},{direction:r,active:!1}),i.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&(t.$element.data(f,t.direction),e.$currentTransition=!0,t.$element.one("$animate:close",function(){e.$currentTransition=null})),d.currentSlide=t,m=n,a())}function o(e){if(angular.isUndefined(p[e].index))return p[e];var t;for(p.length,t=0;t<p.length;++t)if(p[t].index==e)return p[t]}function a(){s();var t=+e.interval;!isNaN(t)&&t>0&&(c=n(l,t))}function s(){c&&(n.cancel(c),c=null)}function l(){var t=+e.interval;u&&!isNaN(t)&&t>0&&p.length?e.next():e.pause()}var c,u,d=this,p=d.slides=e.slides=[],h="uib-noTransition",f="uib-slideDirection",m=-1;d.currentSlide=null;var g=!1;d.select=e.select=function(t,n){var i=d.indexOfSlide(t);void 0===n&&(n=i>d.getCurrentIndex()?"next":"prev"),t&&t!==d.currentSlide&&!e.$currentTransition&&r(t,i,n)},e.$on("$destroy",function(){g=!0}),d.getCurrentIndex=function(){return d.currentSlide&&angular.isDefined(d.currentSlide.index)?+d.currentSlide.index:m},d.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:p.indexOf(e)},e.next=function(){var t=(d.getCurrentIndex()+1)%p.length;return 0===t&&e.noWrap()?void e.pause():d.select(o(t),"next")},e.prev=function(){var t=d.getCurrentIndex()-1<0?p.length-1:d.getCurrentIndex()-1;return e.noWrap()&&t===p.length-1?void e.pause():d.select(o(t),"prev")},e.isActive=function(e){return d.currentSlide===e},e.$watch("interval",a),e.$on("$destroy",s),e.play=function(){u||(u=!0,a())},e.pause=function(){e.noPause||(u=!1,s())},d.addSlide=function(t,n){t.$element=n,p.push(t),1===p.length||t.active?(d.select(p[p.length-1]),1==p.length&&e.play()):t.active=!1},d.removeSlide=function(e){angular.isDefined(e.index)&&p.sort(function(e,t){return+e.index>+t.index});var t=p.indexOf(e);p.splice(t,1),p.length>0&&e.active?d.select(t>=p.length?p[t-1]:p[t]):m>t&&m--},e.$watch("noTransition",function(e){t.data(h,e)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(t){t&&i.select(e)})}}}).animation(".item",["$animate",function(e){var t="uib-noTransition",n="uib-slideDirection";return{beforeAddClass:function(i,r,o){if("active"==r&&i.parent()&&!i.parent().data(t)){var a=!1,s=i.data(n),l="next"==s?"left":"right";return i.addClass(s),e.addClass(i,l).then(function(){a||i.removeClass(l+" "+s),o()}),function(){a=!0}}o()},beforeRemoveClass:function(i,r,o){if("active"==r&&i.parent()&&!i.parent().data(t)){var a=!1,s=i.data(n),l="next"==s?"left":"right";return e.addClass(i,l).then(function(){a||i.removeClass(l),o()}),function(){a=!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],i=e.split("");return angular.forEach(o,function(t,r){var o=e.indexOf(r);if(o>-1){e=e.split(""),i[o]="("+t.regex+")",e[o]="$";for(var a=o+1,s=o+r.length;s>a;a++)i[a]="",e[a]="$";e=e.join(""),n.push({index:o,apply:t.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:t(n,"index")}}function i(e,t,n){return!(1>n)&&(1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3!==t&&5!==t&&8!==t&&10!==t||31>n)}var r=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var o={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}}};this.parse=function(t,o,a){if(!angular.isString(t)||!o)return t;o=e.DATETIME_FORMATS[o]||o,o=o.replace(r,"\\$&"),this.parsers[o]||(this.parsers[o]=n(o));var s=this.parsers[o],l=s.regex,c=s.map,u=t.match(l);if(u&&u.length){var d,p;d=a?{year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),milliseconds:a.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var h=1,f=u.length;f>h;h++){var m=c[h-1];m.apply&&m.apply.call(d,u[h])}return i(d.year,d.month,d.date)&&(p=new Date(d.year,d.month,d.date,d.hours,d.minutes,d.seconds,d.milliseconds||0)),p}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var r=function(t){for(var n=e[0],r=t.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},o=r(t[0]);o!=e[0]&&(i=this.offset(angular.element(o)),i.top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft);var a=t[0].getBoundingClientRect();return{width:a.width||t.prop("offsetWidth"),height:a.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var r,o,a,s,l=n.split("-"),c=l[0],u=l[1]||"center";r=i?this.offset(e):this.position(e),o=t.prop("offsetWidth"),a=t.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},p={center:function(){return r.top+r.height/2-a/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(c){case"right":s={top:p[u](),left:d[c]()};break;case"left":s={top:p[u](),left:r.left-o};break;case"bottom":s={top:p[c](),left:d[u]()};break;default:s={top:r.top-a,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig",function(e,t,n,i,r,o,a){var s=this,l={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,r){s[n]=angular.isDefined(t[n])?8>r?i(t[n])(e.$parent):e.$parent.$eval(t[n]):a[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){s[i]=e?new Date(e):null,s.refreshView()}):s[i]=a[i]?new Date(a[i]):null}),e.datepickerMode=e.datepickerMode||a.datepickerMode,e.maxMode=s.maxMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(l.$isEmpty(l.$modelValue)||l.$invalid)&&(s.activeDate=e,s.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===s.compare(t.date,s.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(e){l=e,l.$render=function(){s.render()}},this.render=function(){if(l.$viewValue){var e=new Date(l.$viewValue),t=!isNaN(e);t?this.activeDate=e:r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),l.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=l.$viewValue?new Date(l.$viewValue):null;l.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=l.$viewValue?new Date(l.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===s.minMode){var n=l.$viewValue?new Date(l.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),l.$setViewValue(n),l.$render()}else s.activeDate=t,e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=s.activeDate.getFullYear()+e*(s.step.years||0),n=s.activeDate.getMonth()+e*(s.step.months||0);s.activeDate.setFullYear(t,n,1),s.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===s.maxMode&&1===t||e.datepickerMode===s.minMode&&-1===t||(e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){s.element[0].focus()};e.$on("datepicker.focus",c),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),s.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(s.isDisabled(s.activeDate))return;e.select(s.activeDate),c()}else!t.ctrlKey||"up"!==n&&"down"!==n?(s.handleKeyDown(n,t),s.refreshView()):(e.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,i,r){function o(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function a(e,t){for(var n,i=new Array(t),o=new Date(e),a=0;t>a;)n=new Date(o),r.fixTimeZone(n),i[a++]=n,o.setDate(o.getDate()+1);return i}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=r.showWeeks,r.step={months:1},r.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];r._refreshView=function(){var n=r.activeDate.getFullYear(),i=r.activeDate.getMonth(),o=new Date(n,i,1),l=r.startingDay-o.getDay(),c=l>0?7-l:-l,u=new Date(o);c>0&&u.setDate(-c+1);for(var d=a(u,42),p=0;42>p;p++)d[p]=angular.extend(r.createDateObject(d[p],r.formatDay),{secondary:d[p].getMonth()!==i,uid:t.uniqueId+"-"+p});t.labels=new Array(7);for(var h=0;7>h;h++)t.labels[h]={abbr:e(d[h].date,r.formatDayHeader),full:e(d[h].date,"EEEE")};if(t.title=e(r.activeDate,r.formatDayTitle),t.rows=r.split(d,7),t.showWeeks){t.weekNumbers=[];for(var f=(11-r.startingDay)%7,m=t.rows.length,g=0;m>g;g++)t.weekNumbers.push(s(t.rows[g][f].date))}},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},r.handleKeyDown=function(e){var t=r.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=r.activeDate.getMonth()+("pageup"===e?-1:1);r.activeDate.setMonth(n,1),t=Math.min(o(r.activeDate.getFullYear(),r.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=o(r.activeDate.getFullYear(),r.activeDate.getMonth()));r.activeDate.setDate(t)},r.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,i,r){r.step={years:1},r.element=n,r._refreshView=function(){for(var n,i=new Array(12),o=r.activeDate.getFullYear(),a=0;12>a;a++)n=new Date(o,a,1),r.fixTimeZone(n),i[a]=angular.extend(r.createDateObject(n,r.formatMonth),{uid:t.uniqueId+"-"+a});t.title=e(r.activeDate,r.formatMonthTitle),t.rows=r.split(i,3)},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},r.handleKeyDown=function(e){var t=r.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=r.activeDate.getFullYear()+("pageup"===e?-1:1);r.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);r.activeDate.setMonth(t)},r.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,i){function r(e){return parseInt((e-1)/o,10)*o+1}var o=i.yearRange;i.step={years:o},i.element=t,i._refreshView=function(){for(var t,n=new Array(o),a=0,s=r(i.activeDate.getFullYear());o>a;a++)t=new Date(s+a,0,1),i.fixTimeZone(t),n[a]=angular.extend(i.createDateObject(t,i.formatYear),{uid:e.uniqueId+"-"+a});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=i.split(n,5)},i.compare=function(e,t){return e.getFullYear()-t.getFullYear()},i.handleKeyDown=function(e){var t=i.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*i.step.years:"home"===e?t=r(i.activeDate.getFullYear()):"end"===e&&(t=r(i.activeDate.getFullYear())+o-1),i.activeDate.setFullYear(t)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(e,t,n,i,r,o,a,s){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(l,c,u,d){function p(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function h(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=o.parse(e,m,l.date)||new Date(e);return isNaN(t)?void 0:t}}function f(e,t){var n=e||t;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var i=o.parse(n,m)||new Date(n);return!isNaN(i)}return!1}return!0}var m,g=angular.isDefined(u.closeOnDateSelection)?l.$parent.$eval(u.closeOnDateSelection):a.closeOnDateSelection,v=angular.isDefined(u.datepickerAppendToBody)?l.$parent.$eval(u.datepickerAppendToBody):a.appendToBody;l.showButtonBar=angular.isDefined(u.showButtonBar)?l.$parent.$eval(u.showButtonBar):a.showButtonBar,l.getText=function(e){return l[e+"Text"]||a[e+"Text"]};var y=!1;if(a.html5Types[u.type]?(m=a.html5Types[u.type],y=!0):(m=u.datepickerPopup||a.datepickerPopup,u.$observe("datepickerPopup",function(e){var t=e||a.datepickerPopup;if(t!==m&&(m=t,d.$modelValue=null,!m))throw new Error("datepickerPopup must have a date format specified.")})),!m)throw new Error("datepickerPopup must have a date format specified.");if(y&&u.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var b=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");b.attr({"ng-model":"date","ng-change":"dateSelection(date)"});var w=angular.element(b.children()[0]);if(y&&"month"==u.type&&(w.attr("datepicker-mode",'"month"'),w.attr("min-mode","month")),u.datepickerOptions){var x=l.$parent.$eval(u.datepickerOptions);x.initDate&&(l.initDate=x.initDate,w.attr("init-date","initDate"),delete x.initDate),angular.forEach(x,function(e,t){w.attr(p(t),e)})}l.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(u[e]){var n=t(u[e]);if(l.$parent.$watch(n,function(t){l.watchData[e]=t}),w.attr(p(e),"watchData."+e),"datepickerMode"===e){var i=n.assign;l.$watch("watchData."+e,function(e,t){angular.isFunction(i)&&e!==t&&i(l.$parent,e)})}}}),u.dateDisabled&&w.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.showWeeks&&w.attr("show-weeks",u.showWeeks),u.customClass&&w.attr("custom-class","customClass({ date: date, mode: mode })"),y?d.$formatters.push(function(e){return l.date=e,e}):(d.$$parserName="date",d.$validators.date=f,d.$parsers.unshift(h),d.$formatters.push(function(e){return l.date=e,d.$isEmpty(e)?e:r(e,m)})),l.dateSelection=function(e){angular.isDefined(e)&&(l.date=e);var t=l.date?r(l.date,m):"";c.val(t),d.$setViewValue(t),g&&(l.isOpen=!1,c[0].focus())},d.$viewChangeListeners.push(function(){l.date=o.parse(d.$viewValue,m,l.date)||new Date(d.$viewValue)});var $=function(e){l.isOpen&&e.target!==c[0]&&l.$apply(function(){l.isOpen=!1})},k=function(e){27===e.which&&l.isOpen?(e.preventDefault(),e.stopPropagation(),l.$apply(function(){l.isOpen=!1}),c[0].focus()):40!==e.which||l.isOpen||(e.preventDefault(),e.stopPropagation(),l.$apply(function(){l.isOpen=!0}))};c.bind("keydown",k),l.keydown=function(e){27===e.which&&(l.isOpen=!1,c[0].focus())},l.$watch("isOpen",function(e){e?(l.position=v?i.offset(c):i.position(c),l.position.top=l.position.top+c.prop("offsetHeight"),n.bind("click",$),s(function(){l.$broadcast("datepicker.focus")},0,!1)):n.unbind("click",$)}),l.select=function(e){if("today"===e){var t=new Date;angular.isDate(l.date)?(e=new Date(l.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}l.dateSelection(e)},l.close=function(){l.isOpen=!1,c[0].focus()};var _=e(b)(l);b.remove(),v?n.find("body").append(_):c.after(_),l.$on("$destroy",function(){l.isOpen===!0&&l.$apply(function(){l.isOpen=!1}),_.remove(),c.unbind("keydown",k),n.unbind("click",$)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html"}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",i),e.bind("keydown",r)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",i),e.unbind("keydown",r))};var i=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var i=n.getToggleElement();if(!(e&&i&&i[0].contains(e.target))){var r=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},r=function(e){27===e.which?(n.focusToggleElement(),i()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(e,t,n,i,r,o,a,s,l,c){var u,d,p=this,h=e.$new(),f=i.openClass,m=angular.noop,g=t.onToggle?n(t.onToggle):angular.noop,v=!1,y=!1;this.init=function(i){p.$element=i,t.isOpen&&(d=n(t.isOpen),m=d.assign,e.$watch(d,function(e){h.isOpen=!!e})),v=angular.isDefined(t.dropdownAppendToBody),y=angular.isDefined(t.keyboardNav),v&&p.dropdownMenu&&(s.find("body").append(p.dropdownMenu),i.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return h.isOpen=arguments.length?!!e:!h.isOpen},this.isOpen=function(){
return h.isOpen},h.getToggleElement=function(){return p.toggleElement},h.getAutoClose=function(){return t.autoClose||"always"},h.getElement=function(){return p.$element},h.isKeynavEnabled=function(){return y},h.focusDropdownEntry=function(e){var t=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(p.$element).find("ul").eq(0).find("a");switch(e){case 40:p.selectedOption=angular.isNumber(p.selectedOption)?p.selectedOption===t.length-1?p.selectedOption:p.selectedOption+1:0;break;case 38:if(!angular.isNumber(p.selectedOption))return;p.selectedOption=0===p.selectedOption?0:p.selectedOption-1}t[p.selectedOption].focus()},h.getDropdownElement=function(){return p.dropdownMenu},h.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},h.$watch("isOpen",function(t,n){if(v&&p.dropdownMenu){var i=a.positionElements(p.$element,p.dropdownMenu,"bottom-left",!0),s={top:i.top+"px",display:t?"block":"none"},d=p.dropdownMenu.hasClass("dropdown-menu-right");d?(s.left="auto",s.right=window.innerWidth-(i.left+p.$element.prop("offsetWidth"))+"px"):(s.left=i.left+"px",s.right="auto"),p.dropdownMenu.css(s)}if(o[t?"addClass":"removeClass"](p.$element,f).then(function(){angular.isDefined(t)&&t!==n&&g(e,{open:!!t})}),t)p.dropdownMenuTemplateUrl&&c(p.dropdownMenuTemplateUrl).then(function(e){u=h.$new(),l(e.trim())(u,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),h.focusToggleElement(),r.open(h);else{if(p.dropdownMenuTemplateUrl){u&&u.$destroy();var y=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(y),p.dropdownMenu=y}r.close(h),p.selectedOption=null}m(e,t)}),e.$on("$locationChangeSuccess",function(){"disabled"!==h.getAutoClose()&&(h.isOpen=!1)}),e.$on("$destroy",function(){h.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,i){i.init(t),t.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,i){if(i){var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(e,t,n,i){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var n=angular.element(t).find("a");switch(e.keyCode){case 40:i.selectedOption=angular.isNumber(i.selectedOption)?i.selectedOption===n.length-1?i.selectedOption:i.selectedOption+1:0;break;case 38:i.selectedOption=0===i.selectedOption?0:i.selectedOption-1}n[i.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",r)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t==e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$animate","$modalStack",function(e,t){function n(n,i,r){r.modalInClass&&(e.addClass(i,r.modalInClass),n.$on(t.NOW_CLOSING_EVENT,function(t,n){var o=n();e.removeClass(i,r.modalInClass).then(o)}))}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),n}}}]).directive("modalWindow",["$modalStack","$q","$animate",function(e,t,n){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(i,r,o){r.addClass(o.windowClass||""),i.size=o.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},i.$isRendered=!0;var a=t.defer();o.$observe("modalRender",function(e){"true"==e&&a.resolve()}),a.promise.then(function(){o.modalInClass&&(n.addClass(r,o.modalInClass),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();n.removeClass(r,o.modalInClass).then(i)}));var t=r[0].querySelectorAll("[autofocus]");t.length?t[0].focus():r[0].focus();var a=e.getTop();a&&e.modalRendered(a.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,i,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$$stackedMap",function(e,t,n,i,r,o,a){function s(){for(var e=-1,t=m.keys(),n=0;n<t.length;n++)m.get(t[n]).value.backdrop&&(e=n);return e}function l(e,t){var i=n.find("body").eq(0),r=m.get(e).value;m.remove(e),u(r.modalDomEl,r.modalScope,function(){i.toggleClass(f,m.length()>0),c()}),t&&t.focus?t.focus():i.focus()}function c(){if(p&&-1==s()){var e=h;u(p,h,function(){e=null}),p=void 0,h=void 0}}function u(e,t,n){function i(){i.done||(i.done=!0,e.remove(),t.$destroy(),n&&n())}var r,a=null,s=function(){return r||(r=o.defer(),a=r.promise),function(){r.resolve()}};return t.$broadcast(g.NOW_CLOSING_EVENT,s),o.when(a).then(i)}function d(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var p,h,f="modal-open",m=a.createNew(),g={NOW_CLOSING_EVENT:"modal.stack.now-closing"};return r.$watch(s,function(e){h&&(h.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=m.top(),t&&t.value.keyboard&&(e.preventDefault(),r.$apply(function(){g.dismiss(t.key,"escape key press")})))}),g.open=function(e,t){var o=n[0].activeElement;m.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var a=n.find("body").eq(0),l=s();if(l>=0&&!p){h=r.$new(!0),h.index=l;var c=angular.element('<div modal-backdrop="modal-backdrop"></div>');c.attr("backdrop-class",t.backdropClass),t.animation&&c.attr("modal-animation","true"),p=i(c)(h),a.append(p)}var u=angular.element('<div modal-window="modal-window"></div>');u.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:m.length()-1,animate:"animate"}).html(t.content),t.animation&&u.attr("modal-animation","true");var d=i(u)(t.scope);m.top().value.modalDomEl=d,m.top().value.modalOpener=o,a.append(d),a.addClass(f)},g.close=function(e,t){var n=m.get(e);return n&&d(n,t,!0)?(n.value.deferred.resolve(t),l(e,n.value.modalOpener),!0):!n},g.dismiss=function(e,t){var n=m.get(e);return n&&d(n,t,!1)?(n.value.deferred.reject(t),l(e,n.value.modalOpener),!0):!n},g.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},g.getTop=function(){return m.top()},g.modalRendered=function(e){var t=m.get(e);t&&t.value.renderDeferred.resolve()},g}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,i,r,o,a){function s(e){return e.template?i.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function l(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(i.when(t.invoke(e)))}),n}var c={};return c.open=function(t){var r=i.defer(),c=i.defer(),u=i.defer(),d={result:r.promise,opened:c.promise,rendered:u.promise,close:function(e){return a.close(d,e)},dismiss:function(e){return a.dismiss(d,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var p=i.all([s(t)].concat(l(t.resolve)));return p.then(function(e){var i=(t.scope||n).$new();i.$close=d.close,i.$dismiss=d.dismiss;var s,l={},c=1;t.controller&&(l.$scope=i,l.$modalInstance=d,angular.forEach(t.resolve,function(t,n){l[n]=e[c++]}),s=o(t.controller,l),t.controllerAs&&(t.bindToController?angular.extend(i,s):i[t.controllerAs]=s)),a.open(d,{scope:i,deferred:r,renderDeferred:u,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){r.reject(e)}),p.then(function(){c.resolve(!0)},function(e){c.reject(e)}),d},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var i=this,r={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(a,s){r=a,this.config=s,r.$render=function(){i.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):r.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(r.$viewValue,10)||1},e.selectPage=function(t,n){var i=!e.ngDisabled||!n;i&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),r.$setViewValue(t),r.$render())},e.getText=function(t){return e[t+"Text"]||i.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,r,o){function a(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],i=1,r=t,o=angular.isDefined(u)&&t>u;o&&(d?(i=Math.max(e-Math.floor(u/2),1),r=i+u-1,r>t&&(r=t,i=r-u+1)):(i=(Math.ceil(e/u)-1)*u+1,r=Math.min(i+u-1,t)));for(var s=i;r>=s;s++){var l=a(s,s,s===e);n.push(l)}if(o&&!d){if(i>1){var c=a(i-1,"...",!1);n.unshift(c)}if(t>r){var p=a(r+1,"...",!1);n.push(p)}}return n}var l=o[0],c=o[1];if(c){var u=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):t.maxSize,d=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):t.rotate;n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):t.directionLinks,l.init(c,t),r.maxSize&&n.$parent.$watch(e(r.maxSize),function(e){u=parseInt(e,10),l.render()});var p=l.render;l.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,i,r){var o=r[0],a=r[1];a&&(t.align=angular.isDefined(i.align)?t.$parent.$eval(i.align):e.align,o.init(a,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(r,o,a,s,l,c){return function(r,u,d,p){function h(e){var t=e||p.trigger||d,i=n[t]||t;return{show:t,hide:i}}p=angular.extend({},t,i,p);var f=e(r),m=c.startSymbol(),g=c.endSymbol(),v="<div "+f+'-popup title="'+m+"title"+g+'" '+(p.useContentExp?'content-exp="contentExp()" ':'content="'+m+"content"+g+'" ')+'placement="'+m+"placement"+g+'" popup-class="'+m+"popupClass"+g+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var e=o(v);return function(t,n,i){function o(){D.isOpen?d():c()}function c(){(!A||t.$eval(i[u+"Enable"]))&&(y(),D.popupDelay?S||(S=a(f,D.popupDelay,!1),S.then(function(e){e()})):f()())}function d(){t.$apply(function(){m()})}function f(){return S=null,C&&(a.cancel(C),C=null),(p.useContentExp?D.contentExp():D.content)?(g(),k.css({top:0,left:0,display:"block"}),D.$digest(),M(),D.isOpen=!0,D.$apply(),M):angular.noop}function m(){D.isOpen=!1,a.cancel(S),S=null,D.animation?C||(C=a(v,500)):v()}function g(){k&&v(),_=D.$new(),k=e(_,function(e){T?s.find("body").append(e):n.after(e)}),_.$watch(function(){a(M,0,!1)}),p.useContentExp&&_.$watch("contentExp()",function(e){!e&&D.isOpen&&m()})}function v(){C=null,k&&(k.remove(),k=null),_&&(_.$destroy(),_=null)}function y(){b(),w(),x()}function b(){D.popupClass=i[u+"Class"]}function w(){var e=i[u+"Placement"];D.placement=angular.isDefined(e)?e:p.placement}function x(){var e=i[u+"PopupDelay"],t=parseInt(e,10);D.popupDelay=isNaN(t)?p.popupDelay:t}function $(){var e=i[u+"Trigger"];P(),E=h(e),E.show===E.hide?n.bind(E.show,o):(n.bind(E.show,c),n.bind(E.hide,d))}var k,_,C,S,T=!!angular.isDefined(p.appendToBody)&&p.appendToBody,E=h(void 0),A=angular.isDefined(i[u+"Enable"]),D=t.$new(!0),M=function(){if(k){var e=l.positionElements(n,k,D.placement,T);e.top+="px",e.left+="px",k.css(e)}};D.origScope=t,D.isOpen=!1,D.contentExp=function(){return t.$eval(i[r])},p.useContentExp||i.$observe(r,function(e){D.content=e,!e&&D.isOpen&&m()}),i.$observe("disabled",function(e){e&&D.isOpen&&m()}),i.$observe(u+"Title",function(e){D.title=e});var P=function(){n.unbind(E.show,c),n.unbind(E.hide,d)};$();var O=t.$eval(i[u+"Animation"]);D.animation=angular.isDefined(O)?!!O:p.animation;var I=t.$eval(i[u+"AppendToBody"]);T=angular.isDefined(I)?I:T,T&&t.$on("$locationChangeSuccess",function(){D.isOpen&&m()}),t.$on("$destroy",function(){a.cancel(C),a.cancel(S),P(),v(),D=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(r,o,a){var s,l,c,u=r.$eval(a.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};r.$watch(t.parseAsResourceUrl(a.tooltipTemplateTransclude),function(t){var a=++d;t?(i(t,!0).then(function(i){if(a===d){var r=u.$new(),l=i,h=n(l)(r,function(t){p(),e.enter(t,o)});s=r,c=h,s.$emit("$includeContentLoaded",t)}},function(){a===d&&(p(),r.$emit("$includeContentError",t))}),r.$emit("$includeContentRequested",t)):p()}),r.$on("$destroy",p)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var i=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n){r||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.$watch("value",function(){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2)},t.$on("$destroy",function(){n=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(){i.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var i={$setViewValue:angular.noop};this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(i.$setViewValue(i.$viewValue===t?0:t),i.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var r=n.indexOf(e);if(e.active&&n.length>1&&!i){var o=r==n.length-1?r-1:r+1;t.select(n[o])}n.splice(r,1)};var i;e.$on("$destroy",function(){i=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(n,i,r){return function(n,i,o,a){n.$watch("active",function(e){e&&a.select(n)}),n.disabled=!1,o.disable&&n.$parent.$watch(e(o.disable),function(e){n.disabled=!!e}),o.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(o.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},a.addTab(n),n.$on("$destroy",function(){a.removeTab(n)}),n.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,i){var r=t.$eval(i.tabContentTransclude);r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,i,r,o){function a(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===m[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function c(e){u(),f.$setViewValue(new Date(h)),d(e)}function u(){f.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=h.getHours(),i=h.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),"m"!==t&&(e.minutes=l(i)),e.meridian=h.getHours()<12?m[0]:m[1]}function p(e){var t=new Date(h.getTime()+6e4*e);h.setHours(t.getHours(),t.getMinutes()),c()}var h=new Date,f={$setViewValue:angular.noop},m=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||r.DATETIME_FORMATS.AMPMS;this.init=function(n,i){f=n,f.$render=this.render,f.$formatters.unshift(function(e){return e?new Date(e):null});var r=i.eq(0),a=i.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(r,a);var l=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):o.arrowkeys;l&&this.setupArrowkeyEvents(r,a),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(r,a)};var g=o.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){g=parseInt(e,10)});var v=o.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,f.$error.time){var n=a(),i=s();angular.isDefined(n)&&angular.isDefined(i)&&(h.setHours(n),c())}else d()}),this.setupMousewheelEvents=function(t,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var i=function(t,n){f.$setViewValue(null),f.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=a();angular.isDefined(e)?(h.setHours(e),c("h")):i(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=s();angular.isDefined(e)?(h.setMinutes(e),c("m")):i(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var e=f.$viewValue;isNaN(e)?(f.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(h=e),u(),d())},e.showSpinners=angular.isDefined(t.showSpinners)?e.$parent.$eval(t.showSpinners):o.showSpinners,e.incrementHours=function(){p(60*g)},e.decrementHours=function(){p(60*-g)},e.incrementMinutes=function(){p(v)},e.decrementMinutes=function(){p(-v)},e.toggleMeridian=function(){p(720*(h.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,i,r){function o(e){for(var t in e)if(void 0!==s.style[t])return e[t]}r||i.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var a=function(i,r,o){o=o||{};var s=e.defer(),l=a[o.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){i.unbind(l,c),s.resolve(i)})};return l&&i.bind(l,c),t(function(){angular.isString(r)?i.addClass(r):angular.isFunction(r)?r(i):angular.isObject(r)&&i.css(r),l||s.resolve(i)}),s.promise.cancel=function(){l&&i.unbind(l,c),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return a.transitionEndEventName=o(l),a.animationEndEventName=o(c),a}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(e,t,n,i,r,o,a,s,l){var c=[9,13,27,38,40],u=200;return{require:"ngModel",link:function(d,p,h,f){function m(){D.moveInProgress||(D.moveInProgress=!0,D.$digest()),L&&i.cancel(L),L=i(function(){D.matches.length&&g(),D.moveInProgress=!1,D.$digest()},u)}function g(){D.position=S?s.offset(p):s.position(p),D.position.top+=p.prop("offsetHeight")}var v=d.$eval(h.typeaheadMinLength);v||0===v||(v=1);var y,b,w=d.$eval(h.typeaheadWaitMs)||0,x=d.$eval(h.typeaheadEditable)!==!1,$=t(h.typeaheadLoading).assign||angular.noop,k=t(h.typeaheadOnSelect),_=!!angular.isDefined(h.typeaheadSelectOnBlur)&&d.$eval(h.typeaheadSelectOnBlur),C=h.typeaheadInputFormatter?t(h.typeaheadInputFormatter):void 0,S=!!h.typeaheadAppendToBody&&d.$eval(h.typeaheadAppendToBody),T=d.$eval(h.typeaheadFocusFirst)!==!1,E=t(h.ngModel).assign,A=l.parse(h.typeahead),D=d.$new();d.$on("$destroy",function(){D.$destroy()});var M="typeahead-"+D.$id+"-"+Math.floor(1e4*Math.random());p.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":M});var P=angular.element("<div typeahead-popup></div>");P.attr({id:M,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(h.typeaheadTemplateUrl)&&P.attr("template-url",h.typeaheadTemplateUrl);var O=function(){D.matches=[],D.activeIdx=-1,p.attr("aria-expanded",!1)},I=function(e){return M+"-option-"+e};D.$watch("activeIdx",function(e){0>e?p.removeAttr("aria-activedescendant"):p.attr("aria-activedescendant",I(e))});var N=function(e){var t={$viewValue:e};$(d,!0),n.when(A.source(d,t)).then(function(n){var i=e===f.$viewValue;if(i&&y)if(n&&n.length>0){D.activeIdx=T?0:-1,D.matches.length=0;for(var r=0;r<n.length;r++)t[A.itemName]=n[r],D.matches.push({id:I(r),label:A.viewMapper(D,t),model:n[r]});D.query=e,g(),p.attr("aria-expanded",!0)}else O();i&&$(d,!1)},function(){O(),$(d,!1)})};S&&(angular.element(o).bind("resize",m),r.find("body").bind("scroll",m));var L;D.moveInProgress=!1,O(),D.query=void 0;var F,R=function(e){F=i(function(){N(e)},w)},U=function(){F&&i.cancel(F)};f.$parsers.unshift(function(e){return y=!0,0===v||e&&e.length>=v?w>0?(U(),R(e)):N(e):($(d,!1),U(),O()),x?e:e?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),e)}),f.$formatters.push(function(e){var t,n,i={};return x||f.$setValidity("editable",!0),C?(i.$model=e,C(d,i)):(i[A.itemName]=e,t=A.viewMapper(d,i),i[A.itemName]=void 0,n=A.viewMapper(d,i),t!==n?t:e)}),D.select=function(e){var t,n,r={};b=!0,r[A.itemName]=n=D.matches[e].model,t=A.modelMapper(d,r),E(d,t),f.$setValidity("editable",!0),f.$setValidity("parse",!0),k(d,{$item:n,$model:t,$label:A.viewMapper(d,r)}),O(),i(function(){p[0].focus()},0,!1)},p.bind("keydown",function(e){if(0!==D.matches.length&&-1!==c.indexOf(e.which)&&(-1!==D.activeIdx||13!==e.which)){if(-1===D.activeIdx&&9===e.which)return O(),void D.$digest();e.preventDefault(),
40===e.which?(D.activeIdx=(D.activeIdx+1)%D.matches.length,D.$digest()):38===e.which?(D.activeIdx=(D.activeIdx>0?D.activeIdx:D.matches.length)-1,D.$digest()):13===e.which||9===e.which?D.$apply(function(){D.select(D.activeIdx)}):27===e.which&&(e.stopPropagation(),O(),D.$digest())}}),p.bind("blur",function(){_&&D.matches.length&&-1!==D.activeIdx&&!b&&(b=!0,D.$apply(function(){D.select(D.activeIdx)})),y=!1,b=!1});var B=function(e){p[0]!==e.target&&3!==e.which&&(O(),a.$$phase||D.$digest())};r.bind("click",B),d.$on("$destroy",function(){r.unbind("click",B),S&&H.remove(),P.remove()});var H=e(P)(D);S?r.find("body").append(H):p.after(H)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e(a).then(function(e){t(e.trim())(i,function(e){r.replaceWith(e)})})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="#" tabindex="0" class="accordion-toggle" ng-click="$event.preventDefault(); toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n\tng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href="#" ng-click="$event.preventDefault(); select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href="#" ng-click="$event.preventDefault()" tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),define("ui-bootstrap",["angular"],function(){}),function(e,t,n){"use strict";function i(e){var n=[];return l(n,t.noop).chars(e),n.join("")}function r(e,n){var i,r={},o=e.split(",");for(i=0;i<o.length;i++)r[n?t.lowercase(o[i]):o[i]]=!0;return r}function o(e,n){function i(e,i,o,s){if(i=t.lowercase(i),$[i])for(;y.last()&&k[y.last()];)r("",y.last());x[i]&&y.last()==i&&r("",i),(s=w[i]||!!s)||y.push(i);var l={};o.replace(p,function(e,t,n,i,r){l[t]=a(n||i||r||"")}),n.start&&n.start(i,l,s)}function r(e,i){var r,o=0;if(i=t.lowercase(i))for(o=y.length-1;0<=o&&y[o]!=i;o--);if(0<=o){for(r=y.length-1;r>=o;r--)n.end&&n.end(y[r]);y.length=o}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var o,s,l,y=[],b=e;for(y.last=function(){return y[y.length-1]};e;){if(l="",s=!0,y.last()&&_[y.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+y.last()+"[^>]*>","i"),function(e,t){return t=t.replace(m,"$1").replace(v,"$1"),n.chars&&n.chars(a(t)),""}),r("",y.last())):(0===e.indexOf("<!--")?(o=e.indexOf("--",4),0<=o&&e.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),s=!1)):g.test(e)?(o=e.match(g))&&(e=e.replace(o[0],""),s=!1):f.test(e)?(o=e.match(d))&&(e=e.substring(o[0].length),o[0].replace(d,r),s=!1):h.test(e)&&((o=e.match(u))?(o[4]&&(e=e.substring(o[0].length),o[0].replace(u,i)),s=!1):(l+="<",e=e.substring(1))),s&&(o=e.indexOf("<"),l+=0>o?e:e.substring(0,o),e=0>o?"":e.substring(o),n.chars&&n.chars(a(l)))),e==b)throw c("badparse",e);b=e}r()}function a(e){return e?(E.innerHTML=e.replace(/</g,"&lt;"),E.textContent):""}function s(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var i=!1,r=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!i&&_[e]&&(i=e),i||!0!==C[e]||(r("<"),r(e),t.forEach(o,function(i,o){var a=t.lowercase(o),l="img"===e&&"src"===a||"background"===a;!0!==T[a]||!0===S[a]&&!n(i,l)||(r(" "),r(o),r('="'),r(s(i)),r('"'))}),r(a?"/>":">"))},end:function(e){e=t.lowercase(e),i||!0!==C[e]||(r("</"),r(e),r(">")),e==i&&(i=!1)},chars:function(e){i||r(s(e))}}}var c=t.$$minErr("$sanitize"),u=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,h=/^</,f=/^<\//,m=/\x3c!--(.*?)--\x3e/g,g=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]\x3e/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,w=r("area,br,col,hr,img,wbr");e=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n=r("rp,rt");var x=t.extend({},n,e),$=t.extend({},e,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),k=t.extend({},n,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));e=r("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use");var _=r("script,style"),C=t.extend({},w,$,k,x,e),S=r("background,cite,href,longdesc,src,usemap,xlink:href");e=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),n=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0);var T=t.extend({},S,n,e),E=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return o(t,l(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i;return function(o,a){function s(e){e&&h.push(i(e))}function l(e,n){h.push("<a "),t.isDefined(a)&&h.push('target="',a,'" '),h.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),h.push("</a>")}if(!o)return o;for(var c,u,d,p=o,h=[];c=p.match(n);)u=c[0],c[2]||c[4]||(u=(c[3]?"http://":"mailto:")+u),d=c.index,s(p.substr(0,d)),l(u,c[0].replace(r,"")),p=p.substring(d+c[0].length);return s(p),e(h.join(""))}}])}(window,window.angular),define("angular-sanitize",["angular"],function(){}),function(){var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var n=t.which;switch(n){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return!!t.metaKey},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,n=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,i,r){r(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?t.replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);n.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(e,t,n,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(r,o){if(!o.repeat)throw n("repeat","Expected 'repeat' expression.");return function(r,o,a,s,l){var c=a.groupBy,u=a.groupFilter;if(s.parseRepeatAttr(a.repeat,c,u),s.disableChoiceExpression=a.uiDisableChoice,s.onHighlightCallback=a.onHighlight,c){var d=o.querySelectorAll(".ui-select-choices-group");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",d.length);d.attr("ng-repeat",t.getGroupNgRepeatExpression())}var p=o.querySelectorAll(".ui-select-choices-row");if(1!==p.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",p.length);p.attr("ng-repeat",t.getNgRepeatExpression(s.parserResult.itemName,"$select.items",s.parserResult.trackByExp,c)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+s.parserResult.itemName+")").attr("ng-click","$select.select("+s.parserResult.itemName+",false,$event)");var h=o.querySelectorAll(".ui-select-choices-row-inner");if(1!==h.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",h.length);h.attr("uis-transclude-append",""),i(o,l)(r),r.$watch("$select.search",function(e){e&&!s.open&&s.multiple&&s.activate(!1,!0),s.activeIndex=s.tagging.isActivated?-1:0,s.refresh(a.refresh)}),a.$observe("refreshDelay",function(){var t=r.$eval(a.refreshDelay);s.refreshDelay=void 0!==t?t:e.refreshDelay})}}}}]),n.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig",function(t,n,i,r,o,a,s){function l(){(p.resetSearchInput||void 0===p.resetSearchInput&&s.resetSearchInput)&&(p.search=h,p.selected&&p.items.length&&!p.multiple&&(p.activeIndex=p.items.indexOf(p.selected)))}function c(e,t){var n,i,r=[];for(n=0;n<t.length;n++)for(i=0;i<e.length;i++)e[i].name==[t[n]]&&r.push(e[i]);return r}function u(t){var n=!0;switch(t){case e.DOWN:!p.open&&p.multiple?p.activate(!1,!0):p.activeIndex<p.items.length-1&&p.activeIndex++;break;case e.UP:!p.open&&p.multiple?p.activate(!1,!0):(p.activeIndex>0||0===p.search.length&&p.tagging.isActivated&&p.activeIndex>-1)&&p.activeIndex--;break;case e.TAB:p.multiple&&!p.open||p.select(p.items[p.activeIndex],!0);break;case e.ENTER:p.open&&(p.tagging.isActivated||p.activeIndex>=0)?p.select(p.items[p.activeIndex]):p.activate(!1,!0);break;case e.ESC:p.close();break;default:n=!1}return n}function d(){var e=n.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw a("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(p.activeIndex<0)){var i=t[p.activeIndex],r=i.offsetTop+i.clientHeight-e[0].scrollTop,o=e[0].offsetHeight;r>o?e[0].scrollTop+=r-o:r<i.clientHeight&&(p.isGrouped&&0===p.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=i.clientHeight-r)}}var p=this,h="";if(p.placeholder=s.placeholder,p.searchEnabled=s.searchEnabled,p.sortable=s.sortable,p.refreshDelay=s.refreshDelay,p.removeSelected=!1,p.closeOnSelect=!0,p.search=h,p.activeIndex=0,p.items=[],p.open=!1,p.focus=!1,p.disabled=!1,p.selected=void 0,p.focusser=void 0,p.resetSearchInput=!0,
p.multiple=void 0,p.disableChoiceExpression=void 0,p.tagging={isActivated:!1,fct:void 0},p.taggingTokens={isActivated:!1,tokens:void 0},p.lockChoiceExpression=void 0,p.clickTriggeredSelect=!1,p.$filter=r,p.searchInput=n.querySelectorAll("input.ui-select-search"),1!==p.searchInput.length)throw a("searchInput","Expected 1 input.ui-select-search but got '{0}'.",p.searchInput.length);p.isEmpty=function(){return angular.isUndefined(p.selected)||null===p.selected||""===p.selected},p.activate=function(e,n){p.disabled||p.open||(n||l(),t.$broadcast("uis:activate"),p.open=!0,p.activeIndex=p.activeIndex>=p.items.length?0:p.activeIndex,p.activeIndex===-1&&p.taggingLabel!==!1&&(p.activeIndex=0),i(function(){p.search=e||p.search,p.searchInput[0].focus()}))},p.findGroupByName=function(e){return p.groups&&p.groups.filter(function(t){return t.name===e})[0]},p.parseRepeatAttr=function(e,n,i){function r(e){var r=t.$eval(n);if(p.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(r)?r(e):e[r],n=p.findGroupByName(t);n?n.items.push(e):p.groups.push({name:t,items:[e]})}),i){var o=t.$eval(i);angular.isFunction(o)?p.groups=o(p.groups):angular.isArray(o)&&(p.groups=c(p.groups,o))}p.items=[],p.groups.forEach(function(e){p.items=p.items.concat(e.items)})}function s(e){p.items=e}p.setItemsFn=n?r:s,p.parserResult=o.parse(e),p.isGrouped=!!n,p.itemProperty=p.parserResult.itemName,p.refreshItems=function(e){e=e||p.parserResult.source(t);var n=p.selected;if(angular.isArray(n)&&!n.length||!p.removeSelected)p.setItemsFn(e);else if(void 0!==e){var i=e.filter(function(e){return n.indexOf(e)<0});p.setItemsFn(i)}},t.$watchCollection(p.parserResult.source,function(e){if(void 0===e||null===e)p.items=[];else{if(!angular.isArray(e))throw a("items","Expected an array but got '{0}'.",e);p.refreshItems(e),p.ngModel.$modelValue=null}})};var f;p.refresh=function(e){void 0!==e&&(f&&i.cancel(f),f=i(function(){t.$eval(e)},p.refreshDelay))},p.setActiveItem=function(e){p.activeIndex=p.items.indexOf(e)},p.isActive=function(e){if(!p.open)return!1;var t=p.items.indexOf(e[p.itemProperty]),n=t===p.activeIndex;return!(!n||t<0&&p.taggingLabel!==!1||t<0&&p.taggingLabel===!1)&&(n&&!angular.isUndefined(p.onHighlightCallback)&&e.$eval(p.onHighlightCallback),n)},p.isDisabled=function(e){if(p.open){var t,n=p.items.indexOf(e[p.itemProperty]),i=!1;return n>=0&&!angular.isUndefined(p.disableChoiceExpression)&&(t=p.items[n],i=!!e.$eval(p.disableChoiceExpression),t._uiSelectChoiceDisabled=i),i}},p.select=function(e,n,r){if(void 0===e||!e._uiSelectChoiceDisabled){if(!p.items&&!p.search)return;if(!e||!e._uiSelectChoiceDisabled){if(p.tagging.isActivated){if(p.taggingLabel===!1)if(p.activeIndex<0){if(e=void 0!==p.tagging.fct?p.tagging.fct(p.search):p.search,!e||angular.equals(p.items[0],e))return}else e=p.items[p.activeIndex];else if(0===p.activeIndex){if(void 0===e)return;if(void 0!==p.tagging.fct&&"string"==typeof e){if(e=p.tagging.fct(p.search),!e)return}else"string"==typeof e&&(e=e.replace(p.taggingLabel,"").trim())}if(p.selected&&angular.isArray(p.selected)&&p.selected.filter(function(t){return angular.equals(t,e)}).length>0)return void p.close(n)}t.$broadcast("uis:select",e);var o={};o[p.parserResult.itemName]=e,i(function(){p.onSelectCallback(t,{$item:e,$model:p.parserResult.modelMapper(t,o)})}),p.closeOnSelect&&p.close(n),r&&"click"===r.type&&(p.clickTriggeredSelect=!0)}}},p.close=function(e){p.open&&(p.ngModel&&p.ngModel.$setTouched&&p.ngModel.$setTouched(),l(),p.open=!1,t.$broadcast("uis:close",e))},p.setFocus=function(){p.focus||p.focusInput[0].focus()},p.clear=function(e){p.select(void 0),e.stopPropagation(),i(function(){p.focusser[0].focus()},0,!1)},p.toggle=function(e){p.open?(p.close(),e.preventDefault(),e.stopPropagation()):p.activate()},p.isLocked=function(e,t){var n,i=p.selected[t];return i&&!angular.isUndefined(p.lockChoiceExpression)&&(n=!!e.$eval(p.lockChoiceExpression),i._uiSelectChoiceLocked=n),n};var m=null;p.sizeSearchInput=function(){var e=p.searchInput[0],n=p.searchInput.parent().parent()[0],r=function(){return n.clientWidth*!!e.offsetParent},o=function(t){if(0===t)return!1;var n=t-e.offsetLeft-10;return n<50&&(n=t),p.searchInput.css("width",n+"px"),!0};p.searchInput.css("width","10px"),i(function(){null!==m||o(r())||(m=t.$watch(r,function(e){o(e)&&(m(),m=null)}))})},p.searchInput.on("keydown",function(n){var r=n.which;t.$apply(function(){var t=!1;if((p.items.length>0||p.tagging.isActivated)&&(u(r),p.taggingTokens.isActivated)){for(var o=0;o<p.taggingTokens.tokens.length;o++)p.taggingTokens.tokens[o]===e.MAP[n.keyCode]&&p.search.length>0&&(t=!0);t&&i(function(){p.searchInput.triggerHandler("tagged");var t=p.search.replace(e.MAP[n.keyCode],"").trim();p.tagging.fct&&(t=p.tagging.fct(t)),t&&p.select(t,!0)})}}),e.isVerticalMovement(r)&&p.items.length>0&&d(),r!==e.ENTER&&r!==e.ESC||(n.preventDefault(),n.stopPropagation())}),p.searchInput.on("paste",function(e){var t=e.originalEvent.clipboardData.getData("text/plain");if(t&&t.length>0&&p.taggingTokens.isActivated&&p.tagging.fct){var n=t.split(p.taggingTokens.tokens[0]);n&&n.length>0&&(angular.forEach(n,function(e){var t=p.tagging.fct(e);t&&p.select(t,!0)}),e.preventDefault(),e.stopPropagation())}}),p.searchInput.on("tagged",function(){i(function(){l()})}),t.$on("$destroy",function(){p.searchInput.off("keyup keydown tagged blur paste")})}]),n.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,i,r,o,a){return{restrict:"EA",templateUrl:function(e,n){var i=n.theme||t.theme;return i+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(r,s){return angular.isDefined(s.multiple)?r.append("<ui-select-multiple/>").removeAttr("multiple"):r.append("<ui-select-single/>"),function(r,s,l,c,u){function d(e){if(f.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target),!t&&!f.clickTriggeredSelect){var n=["input","button","textarea"],i=angular.element(e.target).scope(),o=i&&i.$select&&i.$select!==f;o||(o=~n.indexOf(e.target.tagName.toLowerCase())),f.close(o),r.$digest()}f.clickTriggeredSelect=!1}}function p(){var t=i(s);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",s.after(v),y=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=t.left+"px",s[0].style.top=t.top+"px",s[0].style.width=t.width+"px"}function h(){null!==v&&(v.replaceWith(s),v=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=y)}var f=c[0],m=c[1];f.generatedId=t.generateId(),f.baseTitle=l.title||"Select box",f.focusserTitle=f.baseTitle+" focus",f.focusserId="focusser-"+f.generatedId,f.closeOnSelect=function(){return angular.isDefined(l.closeOnSelect)?o(l.closeOnSelect)():t.closeOnSelect}(),f.onSelectCallback=o(l.onSelect),f.onRemoveCallback=o(l.onRemove),f.ngModel=m,f.choiceGrouped=function(e){return f.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",function(e){f.focusInput.attr("tabindex",e),s.removeAttr("tabindex")}),r.$watch("searchEnabled",function(){var e=r.$eval(l.searchEnabled);f.searchEnabled=void 0!==e?e:t.searchEnabled}),r.$watch("sortable",function(){var e=r.$eval(l.sortable);f.sortable=void 0!==e?e:t.sortable}),l.$observe("disabled",function(){f.disabled=void 0!==l.disabled&&l.disabled}),l.$observe("resetSearchInput",function(){var e=r.$eval(l.resetSearchInput);f.resetSearchInput=void 0===e||e}),l.$observe("tagging",function(){if(void 0!==l.tagging){var e=r.$eval(l.tagging);f.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else f.tagging={isActivated:!1,fct:void 0}}),l.$observe("taggingLabel",function(){void 0!==l.tagging&&("false"===l.taggingLabel?f.taggingLabel=!1:f.taggingLabel=void 0!==l.taggingLabel?l.taggingLabel:"(new)")}),l.$observe("taggingTokens",function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];f.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(l.autofocus)&&a(function(){f.setFocus()}),angular.isDefined(l.focusOn)&&r.$on(l.focusOn,function(){a(function(){f.setFocus()})}),e.on("click",d),r.$on("$destroy",function(){e.off("click",d)}),u(r,function(e){var t=angular.element("<div>").append(e),i=t.querySelectorAll(".ui-select-match");if(i.removeAttr("ui-select-match"),i.removeAttr("data-ui-select-match"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",i.length);s.querySelectorAll(".ui-select-match").replaceWith(i);var r=t.querySelectorAll(".ui-select-choices");if(r.removeAttr("ui-select-choices"),r.removeAttr("data-ui-select-choices"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",r.length);s.querySelectorAll(".ui-select-choices").replaceWith(r)});var g=r.$eval(l.appendToBody);(void 0!==g?g:t.appendToBody)&&(r.$watch("$select.open",function(e){e?p():h()}),r.$on("$destroy",function(){h()}));var v=null,y="",b=null,w="direction-up";r.$watch("$select.open",function(t){if(t){if(b=angular.element(s).querySelectorAll(".ui-select-dropdown"),null===b)return;b[0].style.opacity=0,a(function(){var t=i(s),n=i(b);t.top+t.height+n.height>e[0].documentElement.scrollTop+e[0].documentElement.clientHeight&&(b[0].style.position="absolute",b[0].style.top=n.height*-1+"px",s.addClass(w)),b[0].style.opacity=1})}else{if(null===b)return;b[0].style.position="",b[0].style.top="",s.removeClass(w)}})}}}}]),n.directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme,i=t.parent().attr("multiple");return n+(i?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,i,r){function o(e){r.allowClear=!!angular.isDefined(e)&&(""===e||"true"===e.toLowerCase())}r.lockChoiceExpression=i.uiLockChoice,i.$observe("placeholder",function(t){r.placeholder=void 0!==t?t:e.placeholder}),i.$observe("allowClear",o),o(i.allowClear),r.multiple&&r.sizeSearchInput()}}}]),n.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,i=this,r=e.$select;e.$evalAsync(function(){n=e.ngModel}),i.activeMatchIndex=-1,i.updateModel=function(){n.$setViewValue(Date.now()),i.refreshComponent()},i.refreshComponent=function(){r.refreshItems(),r.sizeSearchInput()},i.removeChoice=function(n){var o=r.selected[n];if(!o._uiSelectChoiceLocked){var a={};a[r.parserResult.itemName]=o,r.selected.splice(n,1),i.activeMatchIndex=-1,r.sizeSearchInput(),t(function(){r.onRemoveCallback(e,{$item:o,$model:r.parserResult.modelMapper(e,a)})}),i.updateModel()}},i.getPlaceholder=function(){if(!r.selected.length)return r.placeholder}}],controllerAs:"$selectMultiple",link:function(i,r,o,a){function s(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function l(t){function n(){switch(t){case e.LEFT:return~h.activeMatchIndex?u:a;case e.RIGHT:return~h.activeMatchIndex&&l!==a?c:(d.activate(),!1);case e.BACKSPACE:return~h.activeMatchIndex?(h.removeChoice(l),u):a;case e.DELETE:return!!~h.activeMatchIndex&&(h.removeChoice(h.activeMatchIndex),l)}}var i=s(d.searchInput[0]),r=d.selected.length,o=0,a=r-1,l=h.activeMatchIndex,c=h.activeMatchIndex+1,u=h.activeMatchIndex-1,p=l;return!(i>0||d.search.length&&t==e.RIGHT)&&(d.close(),p=n(),d.selected.length&&p!==!1?h.activeMatchIndex=Math.min(a,Math.max(o,p)):h.activeMatchIndex=-1,!0)}function c(e){if(void 0===e||void 0===d.search)return!1;var t=e.filter(function(e){return void 0!==d.search.toUpperCase()&&void 0!==e&&e.toUpperCase()===d.search.toUpperCase()}).length>0;return t}function u(e,t){var n=-1;if(angular.isArray(e))for(var i=angular.copy(e),r=0;r<i.length;r++)if(void 0===d.tagging.fct)i[r]+" "+d.taggingLabel===t&&(n=r);else{var o=i[r];o.isTag=!0,angular.equals(o,t)&&(n=r)}return n}var d=a[0],p=i.ngModel=a[1],h=i.$selectMultiple;d.multiple=!0,d.removeSelected=!0,d.focusInput=d.searchInput,p.$parsers.unshift(function(){for(var e,t={},n=[],r=d.selected.length-1;r>=0;r--)t={},t[d.parserResult.itemName]=d.selected[r],e=d.parserResult.modelMapper(i,t),n.unshift(e);return n}),p.$formatters.unshift(function(e){var t,n=d.parserResult.source(i,{$select:{search:""}}),r={};if(!n)return e;var o=[],a=function(e,n){if(e&&e.length){for(var a=e.length-1;a>=0;a--){if(r[d.parserResult.itemName]=e[a],t=d.parserResult.modelMapper(i,r),d.parserResult.trackByExp){var s=/\.(.+)/.exec(d.parserResult.trackByExp);if(s.length>0&&t[s[1]]==n[s[1]])return o.unshift(e[a]),!0}if(angular.equals(t,n))return o.unshift(e[a]),!0}return!1}};if(!e)return o;for(var s=e.length-1;s>=0;s--)a(d.selected,e[s])||a(n,e[s])||o.unshift(e[s]);return o}),i.$watchCollection(function(){return p.$modelValue},function(e,t){t!=e&&(p.$modelValue=null,h.refreshComponent())}),p.$render=function(){if(!angular.isArray(p.$viewValue)){if(!angular.isUndefined(p.$viewValue)&&null!==p.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",p.$viewValue);d.selected=[]}d.selected=p.$viewValue,i.$evalAsync()},i.$on("uis:select",function(e,t){d.selected.push(t),h.updateModel()}),i.$on("uis:activate",function(){h.activeMatchIndex=-1}),i.$watch("$select.disabled",function(e,t){t&&!e&&d.sizeSearchInput()}),d.searchInput.on("keydown",function(t){var n=t.which;i.$apply(function(){var i=!1;e.isHorizontalMovement(n)&&(i=l(n)),i&&n!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),d.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||i.$evalAsync(function(){d.activeIndex=d.taggingLabel===!1?-1:0}),d.tagging.isActivated&&d.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(d.activeIndex=d.taggingLabel===!1?-1:0,d.taggingLabel===!1)return;var n,r,o,a,s=angular.copy(d.items),l=angular.copy(d.items),p=!1,h=-1;if(void 0!==d.tagging.fct){if(o=d.$filter("filter")(s,{isTag:!0}),o.length>0&&(a=o[0]),s.length>0&&a&&(p=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.tagging.fct(d.search),n.isTag=!0,l.filter(function(e){return angular.equals(e,d.tagging.fct(d.search))}).length>0)return;n.isTag=!0}else{if(o=d.$filter("filter")(s,function(e){return e.match(d.taggingLabel)}),o.length>0&&(a=o[0]),r=s[0],void 0!==r&&s.length>0&&a&&(p=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.search+" "+d.taggingLabel,u(d.selected,d.search)>-1)return;if(c(l.concat(d.selected)))return void(p&&(s=l,i.$evalAsync(function(){d.activeIndex=0,d.items=s})));if(c(l))return void(p&&(d.items=l.slice(1,l.length)))}p&&(h=u(d.selected,n)),h>-1?s=s.slice(h+1,s.length-1):(s=[],s.push(n),s=s.concat(l)),i.$evalAsync(function(){d.activeIndex=0,d.items=s})}}),d.searchInput.on("blur",function(){n(function(){h.activeMatchIndex=-1})})}}}]),n.directive("uiSelectSingle",["$timeout","$compile",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,r,o,a){var s=a[0],l=a[1];l.$parsers.unshift(function(e){var t,n={};return n[s.parserResult.itemName]=e,t=s.parserResult.modelMapper(i,n)}),l.$formatters.unshift(function(e){var t,n=s.parserResult.source(i,{$select:{search:""}}),r={};if(n){var o=function(n){return r[s.parserResult.itemName]=n,t=s.parserResult.modelMapper(i,r),t==e};if(s.selected&&o(s.selected))return s.selected;for(var a=n.length-1;a>=0;a--)if(o(n[a]))return n[a]}return e}),i.$watch("$select.selected",function(e){l.$viewValue!==e&&l.$setViewValue(e)}),l.$render=function(){s.selected=l.$viewValue},i.$on("uis:select",function(e,t){s.selected=t}),i.$on("uis:close",function(e,n){t(function(){s.focusser.prop("disabled",!1),n||s.focusser[0].focus()},0,!1)}),i.$on("uis:activate",function(){c.prop("disabled",!0)});var c=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(c)(i),s.focusser=c,s.focusInput=c,r.parent().append(c),c.bind("focus",function(){i.$evalAsync(function(){s.focus=!0})}),c.bind("blur",function(){i.$evalAsync(function(){s.focus=!1})}),c.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),s.select(void 0),void i.$apply()):void(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||(t.which!=e.DOWN&&t.which!=e.UP&&t.which!=e.ENTER&&t.which!=e.SPACE||(t.preventDefault(),t.stopPropagation(),s.activate()),i.$digest()))}),c.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(s.activate(c.val()),c.val(""),i.$digest())})}}}]),n.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:"^uiSelect",link:function(t,i,r,o){if(null===t[r.uiSelectSort])throw n("sort","Expected a list to sort");var a=angular.extend({axis:"horizontal"},t.$eval(r.uiSelectSortOptions)),s=a.axis,l="dragging",c="dropping",u="dropping-before",d="dropping-after";t.$watch(function(){return o.sortable},function(e){e?i.attr("draggable",!0):i.removeAttr("draggable")}),i.on("dragstart",function(e){i.addClass(l),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",t.$index)}),i.on("dragend",function(){i.removeClass(l)});var p,h=function(e,t){this.splice(t,0,this.splice(e,1)[0])},f=function(e){e.preventDefault();var t="vertical"===s?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===s?"offsetHeight":"offsetWidth"]/2?(i.removeClass(d),i.addClass(u)):(i.removeClass(u),i.addClass(d))},m=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);e.cancel(p),p=e(function(){g(n)},20)},g=function(e){var n=t.$eval(r.uiSelectSort),o=n[e],a=null;a=i.hasClass(u)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,h.apply(n,[e,a]),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:o,from:e,to:a})}),i.removeClass(c),i.removeClass(u),i.removeClass(d),i.off("drop",m)};i.on("dragenter",function(){i.hasClass(l)||(i.addClass(c),i.on("dragover",f),i.on("drop",m))}),i.on("dragleave",function(e){e.target==i&&(i.removeClass(c),i.removeClass(u),i.removeClass(d),i.off("dragover",f),i.off("drop",m))})}}}]),n.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var i=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!i)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);return{itemName:i[2],source:t(i[3]),trackByExp:i[4],modelMapper:t(i[1]||i[2])}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},n.getNgRepeatExpression=function(e,t,n,i){var r=e+" in "+(i?"$group.items":t);return n&&(r+=" track by "+n),r}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]),define("ui-select",["angular","angular-sanitize"],function(){}),function(e,t,n){"use strict";function i(e,i,r){var o=r.baseHref(),a=e[0];return function(e,r,s){var l,c;s=s||{},c=s.expires,l=t.isDefined(s.path)?s.path:o,r===n&&(c="Thu, 01 Jan 1970 00:00:00 GMT",r=""),t.isString(c)&&(c=new Date(c)),r=encodeURIComponent(e)+"="+encodeURIComponent(r),r=r+(l?";path="+l:"")+(s.domain?";domain="+s.domain:""),r+=c?";expires="+c.toUTCString():"",r+=s.secure?";secure":"",s=r.length+1,4096<s&&i.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+s+" > 4096 bytes)!"),a.cookie=r}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){var e=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(i,r){return{get:function(e){return i()[e]},getObject:function(e){return(e=this.get(e))?t.fromJson(e):e},getAll:function(){return i()},put:function(n,i,o){r(n,i,o?t.extend({},e,o):e)},putObject:function(e,n,i){this.put(e,t.toJson(n),i)},remove:function(i,o){r(i,n,o?t.extend({},e,o):e)}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),i.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=i})}(window,window.angular),define("ngCookies",["angular"],function(){}),function(){"use strict";var e=angular.module("sticky",[]);e.directive("sticky",function(){function e(e,t,n){function i(){if(v.offsetWidth=h.offsetWidth,o(),w){var e=window.getComputedStyle(h.parentElement,null),n=h.parentElement.offsetWidth-e.getPropertyValue("padding-right").replace("px","")-e.getPropertyValue("padding-left").replace("px","");t.css("width",n+"px")}}function r(){f.off("scroll",o),f.off("resize",i),p&&m.removeClass(p)}function o(){var e,t,n,i;u&&!C("("+u+")").matches||("top"===k?(i=window.pageYOffset||g.scrollTop,e=i-(g.clientTop||0),t=e>=x):(n=window.pageYOffset+window.innerHeight,t=n<=x),t&&!w?a():!t&&w&&s())}function a(){var e,n;e=t[0].getBoundingClientRect(),n=e.left,v.offsetWidth=h.offsetWidth,w=!0,p&&m.addClass(p),d&&t.addClass(d),t.css("width",h.offsetWidth+"px").css("position","fixed").css(k,$+"px").css("left",n).css("margin-top",0),"bottom"===k&&t.css("margin-bottom",0)}function s(){t.attr("style",t.initialStyle),w=!1,p&&m.removeClass(p),d&&t.removeClass(d),t.css("width","").css("top",v.top).css("position",v.position).css("left",v.cssLeft).css("margin-top",v.marginTop)}function l(e){var t=0;if(e.offsetParent)do t+=e.offsetTop,e=e.offsetParent;while(e);return t}function c(e){return e.offsetTop+e.clientHeight}var u,d,p,h,f,m,g,v,y,b,w,x,$,k,_,C;switch(b=!1,w=!1,C=window.matchMedia,f=angular.element(window),m=angular.element(document.body),h=t[0],g=document.documentElement,u=n.mediaQuery||!1,d=n.stickyClass||"",p=n.bodyClass||"",y=t.attr("style"),$="string"==typeof n.offset?parseInt(n.offset.replace(/px;?/,"")):0,k="string"==typeof n.anchor?n.anchor.toLowerCase().trim():"top",v={top:t.css("top"),width:t.css("width"),position:t.css("position"),marginTop:t.css("margin-top"),cssLeft:t.css("left")},k){case"top":case"bottom":break;default:console.log("Unknown anchor "+k+", defaulting to top"),k="top"}f.on("scroll",o),f.on("resize",e.$apply.bind(e,i)),e.$on("$destroy",r),_=l(h),e.$watch(function(){return w?_:_="top"===k?l(h):c(h)},function(e,t){e===t&&"undefined"!=typeof x||(x=e-$,o())})}return{restrict:"A",link:e}}),window.matchMedia=window.matchMedia||function(){var e="angular-sticky: This browser does not support matchMedia, therefore the minWidth option will not work on this browser. Polyfill matchMedia to fix this issue.";
return window.console&&console.warn&&console.warn(e),function(){return{matches:!0}}}()}(),define("sticky",["angular"],function(){}),function(){function e(e){function t(t,n,i,r,o,a){for(;o>=0&&a>o;o+=e){var s=r?r[o]:o;i=n(i,t[s],s,t)}return i}return function(n,i,r,o){i=b(i,o,4);var a=!S(n)&&y.keys(n),s=(a||n).length,l=e>0?0:s-1;return arguments.length<3&&(r=n[a?a[l]:l],l+=e),t(n,i,r,a,l,s)}}function t(e){return function(t,n,i){n=w(n,i);for(var r=C(t),o=e>0?0:r-1;o>=0&&r>o;o+=e)if(n(t[o],o,t))return o;return-1}}function n(e,t,n){return function(i,r,o){var a=0,s=C(i);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=t(u.call(i,a,s),y.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&s>o;o+=e)if(i[o]===r)return o;return-1}}function i(e,t){var n=M.length,i=e.constructor,r=y.isFunction(i)&&i.prototype||s,o="constructor";for(y.has(e,o)&&!y.contains(t,o)&&t.push(o);n--;)o=M[n],o in e&&e[o]!==r[o]&&!y.contains(t,o)&&t.push(o)}var r=this,o=r._,a=Array.prototype,s=Object.prototype,l=Function.prototype,c=a.push,u=a.slice,d=s.toString,p=s.hasOwnProperty,h=Array.isArray,f=Object.keys,m=l.bind,g=Object.create,v=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return null==e?y.identity:y.isFunction(e)?b(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return w(e,t,1/0)};var x=function(e,t){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],a=e(o),s=a.length,l=0;s>l;l++){var c=a[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}},$=function(e){if(!y.isObject(e))return{};if(g)return g(e);v.prototype=e;var t=new v;return v.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},_=Math.pow(2,53)-1,C=k("length"),S=function(e){var t=C(e);return"number"==typeof t&&t>=0&&_>=t};y.each=y.forEach=function(e,t,n){t=b(t,n);var i,r;if(S(e))for(i=0,r=e.length;r>i;i++)t(e[i],i,e);else{var o=y.keys(e);for(i=0,r=o.length;r>i;i++)t(e[o[i]],o[i],e)}return e},y.map=y.collect=function(e,t,n){t=w(t,n);for(var i=!S(e)&&y.keys(e),r=(i||e).length,o=Array(r),a=0;r>a;a++){var s=i?i[a]:a;o[a]=t(e[s],s,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,n){var i;return i=S(e)?y.findIndex(e,t,n):y.findKey(e,t,n),void 0!==i&&i!==-1?e[i]:void 0},y.filter=y.select=function(e,t,n){var i=[];return t=w(t,n),y.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},y.reject=function(e,t,n){return y.filter(e,y.negate(w(t)),n)},y.every=y.all=function(e,t,n){t=w(t,n);for(var i=!S(e)&&y.keys(e),r=(i||e).length,o=0;r>o;o++){var a=i?i[o]:o;if(!t(e[a],a,e))return!1}return!0},y.some=y.any=function(e,t,n){t=w(t,n);for(var i=!S(e)&&y.keys(e),r=(i||e).length,o=0;r>o;o++){var a=i?i[o]:o;if(t(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,i){return S(e)||(e=y.values(e)),("number"!=typeof n||i)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=u.call(arguments,2),i=y.isFunction(t);return y.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var i,r,o=-1/0,a=-1/0;if(null==t&&null!=e){e=S(e)?e:y.values(e);for(var s=0,l=e.length;l>s;s++)i=e[s],i>o&&(o=i)}else t=w(t,n),y.each(e,function(e,n,i){r=t(e,n,i),(r>a||r===-1/0&&o===-1/0)&&(o=e,a=r)});return o},y.min=function(e,t,n){var i,r,o=1/0,a=1/0;if(null==t&&null!=e){e=S(e)?e:y.values(e);for(var s=0,l=e.length;l>s;s++)i=e[s],o>i&&(o=i)}else t=w(t,n),y.each(e,function(e,n,i){r=t(e,n,i),(a>r||1/0===r&&1/0===o)&&(o=e,a=r)});return o},y.shuffle=function(e){for(var t,n=S(e)?e:y.values(e),i=n.length,r=Array(i),o=0;i>o;o++)t=y.random(0,o),t!==o&&(r[o]=r[t]),r[t]=n[o];return r},y.sample=function(e,t,n){return null==t||n?(S(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=w(t,n),y.pluck(y.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,i){var r={};return n=w(n,i),y.each(t,function(i,o){var a=n(i,o,t);e(r,i,a)}),r}};y.groupBy=T(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=T(function(e,t,n){e[n]=t}),y.countBy=T(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?u.call(e):S(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:S(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=w(t,n);var i=[],r=[];return y.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},y.first=y.head=y.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var E=function(e,t,n,i){for(var r=[],o=0,a=i||0,s=C(e);s>a;a++){var l=e[a];if(S(l)&&(y.isArray(l)||y.isArguments(l))){t||(l=E(l,t,n));var c=0,u=l.length;for(r.length+=u;u>c;)r[o++]=l[c++]}else n||(r[o++]=l)}return r};y.flatten=function(e,t){return E(e,t,!1)},y.without=function(e){return y.difference(e,u.call(arguments,1))},y.uniq=y.unique=function(e,t,n,i){y.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=w(n,i));for(var r=[],o=[],a=0,s=C(e);s>a;a++){var l=e[a],c=n?n(l,a,e):l;t?(a&&o===c||r.push(l),o=c):n?y.contains(o,c)||(o.push(c),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(E(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=C(e);r>i;i++){var o=e[i];if(!y.contains(t,o)){for(var a=1;n>a&&y.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},y.difference=function(e){var t=E(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,C).length||0,n=Array(t),i=0;t>i;i++)n[i]=y.pluck(e,i);return n},y.object=function(e,t){for(var n={},i=0,r=C(e);r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,n,i){n=w(n,i,1);for(var r=n(t),o=0,a=C(e);a>o;){var s=Math.floor((o+a)/2);n(e[s])<r?o=s+1:a=s}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;i>o;o++,e+=n)r[o]=e;return r};var A=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=$(e.prototype),a=e.apply(o,r);return y.isObject(a)?a:o};y.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,u.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),i=function(){return A(e,i,t,this,n.concat(u.call(arguments)))};return i},y.partial=function(e){var t=u.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),a=0;r>a;a++)o[a]=t[a]===y?arguments[i++]:t[a];for(;i<arguments.length;)o.push(arguments[i++]);return A(e,n,this,this,o)};return n},y.bindAll=function(e){var t,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(t=1;i>t;t++)n=arguments[t],e[n]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return y.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:y.now(),a=null,o=e.apply(i,r),a||(i=r=null)};return function(){var c=y.now();s||n.leading!==!1||(s=c);var u=t-(c-s);return i=this,r=arguments,0>=u||u>t?(a&&(clearTimeout(a),a=null),s=c,o=e.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(l,u)),o}},y.debounce=function(e,t,n){var i,r,o,a,s,l=function(){var c=y.now()-a;t>c&&c>=0?i=setTimeout(l,t-c):(i=null,n||(s=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=y.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(s=e.apply(o,r),o=r=null),s}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},y.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},y.once=y.partial(y.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return D&&i(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&i(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},y.mapObject=function(e,t,n){t=w(t,n);for(var i,r=y.keys(e),o=r.length,a={},s=0;o>s;s++)i=r[s],a[i]=t(e[i],i,e);return a},y.pairs=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},y.invert=function(e){for(var t={},n=y.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(e,t,n){t=w(t,n);for(var i,r=y.keys(e),o=0,a=r.length;a>o;o++)if(i=r[o],t(e[i],i,e))return i},y.pick=function(e,t,n){var i,r,o={},a=e;if(null==a)return o;y.isFunction(t)?(r=y.allKeys(a),i=b(t,n)):(r=E(arguments,!1,!1,1),i=function(e,t,n){return t in n},a=Object(a));for(var s=0,l=r.length;l>s;s++){var c=r[s],u=a[c];i(u,c,a)&&(o[c]=u)}return o},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var i=y.map(E(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(i,t)}}return y.pick(e,t,n)},y.defaults=x(y.allKeys,!0),y.create=function(e,t){var n=$(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;i>o;o++){var a=n[o];if(t[a]!==r[a]||!(a in r))return!1}return!0};var P=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var r=d.call(e);if(r!==d.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),o){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!P(e[l],t[l],n,i))return!1}else{var c,u=y.keys(e);if(l=u.length,y.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!y.has(t,c)||!P(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(e,t){return P(e,t)},y.isEmpty=function(e){return null==e||(S(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=h||function(e){return"[object Array]"===d.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&p.call(e,t)},y.noConflict=function(){return r._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=k,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var i=Array(Math.max(0,e));t=b(t,n,1);for(var r=0;e>r;r++)i[r]=t(r);return i},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I=y.invert(O),N=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};y.escape=N(O),y.unescape=N(I),y.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),y.isFunction(i)?i.call(e):i};var L=0;y.uniqueId=function(e){var t=++L+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,B=function(e){return"\\"+R[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var i=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,a,s){return o+=e.slice(r,s).replace(U,B),r=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var s=function(e){return a.call(this,e,y)},l=t.variable||"obj";return s.source="function("+l+"){\n"+o+"}",s},y.chain=function(e){var t=y(e);return t._chain=!0,t};var H=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),H(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],H(this,n)}}),y.each(["concat","join","slice"],function(e){var t=a[e];y.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),define("_",function(){}),function(e,t){"use strict";function n(e){return function(t){return t[e]}}var i=e.module("angular-underscore",[]),r=e.module("angular-underscore/utils",[]),o=e.module("angular-underscore/filters",[]);t._=t,t.each(["min","max","sortedIndex"],function(e){t[e]=t.wrap(t[e],function(e){var i=t.toArray(arguments).slice(1);return t.isString(i[2])?i[2]=n(i[2]):t.isString(i[1])&&(i[1]=n(i[1])),e.apply(t,i)})}),e.injector(["ng"]).invoke(["$filter",function(e){t.filter=t.select=t.wrap(e("filter"),function(e,n,i){return t.isArray(n)||(n=t.toArray(n)),e(n,i)}),t.reject=function(e,n){if(t.isString(n))return t.filter(e,"!"+n);var i=t.bind(t.difference,t,e);return i(t.filter(e,n))}}]),t.each(t.methods(t),function(n){function o(e){e[n]=t.bind(t[n],t)}t.each([i,r,e.module("angular-underscore/utils/"+n,[])],function(e){e.run(["$rootScope",o])})});var a=[["map","collect"],["reduce","inject","foldl"],["reduceRight","foldr"],["find","detect"],["filter","select"],"where","findWhere","reject","invoke","pluck","max","min","sortBy","groupBy","countBy","shuffle","toArray","size",["first","head","take"],"initial","last",["rest","tail","drop"],"compact","flatten","without","union","intersection","difference",["uniq","unique"],"zip","object","indexOf","lastIndexOf","sortedIndex","keys","values","pairs","invert",["functions","methods"],"pick","omit","tap","identity","uniqueId","escape","result","template"];t.each(a,function(n){t.isArray(n)||(n=[n]);var r=t.bind(t[n[0]],t),a=function(){return r};t.each(n,function(n){t.each([i,o,e.module("angular-underscore/filters/"+n,[])],function(e){e.filter(n,a)})})})}(angular,_),define("ngUnderScore",["angular"],function(){}),function(e,t,n){"use strict";function i(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var i in e)!e.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=e[i]);return n}var r=t.$$minErr("$resource"),o=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$q",function(a,s){function l(t,n){this.template=t,this.defaults=p({},e.defaults,n),this.urlParams={}}function c(m,g,v,y){function b(e,t){var i={};return t=p({},g,t),d(t,function(t,a){f(t)&&(t=t());var s;if(t&&t.charAt&&"@"==t.charAt(0)){s=e;var l=t.substr(1);if(null==l||""===l||"hasOwnProperty"===l||!o.test("."+l))throw r("badmember",l);for(var l=l.split("."),c=0,u=l.length;c<u&&s!==n;c++){var d=l[c];s=null!==s?s[d]:n}}else s=t;i[a]=s}),i}function w(e){return e.resource}function x(e){i(e||{},this)}var $=new l(m,y);return v=p({},e.defaults.actions,v),x.prototype.toJSON=function(){var e=p({},this);return delete e.$promise,delete e.$resolved,e},d(v,function(e,o){var l=/^(POST|PUT|PATCH)$/i.test(e.method);x[o]=function(c,m,g,v){var y,k,_,C={};switch(arguments.length){case 4:_=v,k=g;case 3:case 2:if(!f(m)){C=c,y=m,k=g;break}if(f(c)){k=c,_=m;break}k=m,_=g;case 1:f(c)?k=c:l?y=c:C=c;break;case 0:break;default:throw r("badargs",arguments.length)}var S=this instanceof x,T=S?y:e.isArray?[]:new x(y),E={},A=e.interceptor&&e.interceptor.response||w,D=e.interceptor&&e.interceptor.responseError||n;return d(e,function(e,t){"params"!=t&&"isArray"!=t&&"interceptor"!=t&&(E[t]=h(e))}),l&&(E.data=y),$.setUrlParams(E,p({},b(y,e.params||{}),C),e.url),C=a(E).then(function(n){var a=n.data,s=T.$promise;if(a){if(t.isArray(a)!==!!e.isArray)throw r("badcfg",o,e.isArray?"array":"object",t.isArray(a)?"array":"object",E.method,E.url);e.isArray?(T.length=0,d(a,function(e){"object"==typeof e?T.push(new x(e)):T.push(e)})):(i(a,T),T.$promise=s)}return T.$resolved=!0,n.resource=T,n},function(e){return T.$resolved=!0,(_||u)(e),s.reject(e)}),C=C.then(function(e){var t=A(e);return(k||u)(t,e.headers),t},D),S?C:(T.$promise=C,T.$resolved=!1,T)},x.prototype["$"+o]=function(e,t,n){return f(e)&&(n=t,t=e,e={}),e=x[o].call(this,e,this,t,n),e.$promise||e}}),x.bind=function(e){return c(m,p({},g,e),v)},x}var u=t.noop,d=t.forEach,p=t.extend,h=t.copy,f=t.isFunction;return l.prototype={setUrlParams:function(e,n,i){var o,a,s=this,l=i||s.template,c=s.urlParams={};d(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw r("badname");!/^\d+$/.test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(c[e]=!0)}),l=l.replace(/\\:/g,":"),n=n||{},d(s.urlParams,function(e,i){o=n.hasOwnProperty(i)?n[i]:s.defaults[i],t.isDefined(o)&&null!==o?(a=encodeURIComponent(o).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),l=l.replace(new RegExp(":"+i+"(\\W|$)","g"),function(e,t){return a+t})):l=l.replace(new RegExp("(/?):"+i+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),s.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),e.url=l.replace(/\/\\\./,"/."),d(n,function(t,n){s.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},c}]})}(window,window.angular),define("ngResource",["angular"],function(){}),function(){function e(){var e,t,n=arguments,i={},r=function(e,t){var n,i;"object"!=typeof e&&(e={});for(i in t)t.hasOwnProperty(i)&&(n=t[i],e[i]=n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)&&"renderTo"!==i&&"number"!=typeof n.nodeType?r(e[i]||{},n):t[i]);return e};for(n[0]===!0&&(i=n[1],n=Array.prototype.slice.call(n,2)),t=n.length,e=0;e<t;e++)i=r(i,n[e]);return i}function t(e,t){return parseInt(e,t||10)}function n(e){return"string"==typeof e}function i(e){return e&&"object"==typeof e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return"number"==typeof e}function a(e){return ae.log(e)/ae.LN10}function s(e){return ae.pow(10,e)}function l(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function c(e){return e!==P&&null!==e}function u(e,t,r){var o,a;if(n(t))c(r)?e.setAttribute(t,r):e&&e.getAttribute&&(a=e.getAttribute(t));else if(c(t)&&i(t))for(o in t)e.setAttribute(o,t[o]);return a}function d(e){return r(e)?e:[e]}function p(e,t){be&&!Ce&&t&&t.opacity!==P&&(t.filter="alpha(opacity="+100*t.opacity+")"),Ue(e.style,t)}function h(e,t,n,i,r){return e=re.createElement(e),t&&Ue(e,t),r&&p(e,{padding:0,border:Ie,margin:0}),n&&p(e,n),i&&i.appendChild(e),e}function f(e,t){var n=function(){return P};return n.prototype=new e,Ue(n.prototype,t),n}function m(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function g(e){return 6e4*(W&&W(e)||j||0)}function v(e,t){for(var n,i,r,o,a,s="{",l=!1,c=[];(s=e.indexOf(s))!==-1;){if(n=e.slice(0,s),l){for(i=n.split(":"),r=i.shift().split("."),a=r.length,n=t,o=0;o<a;o++)n=n[r[o]];i.length&&(i=i.join(":"),r=/\.([0-9])/,o=L.lang,a=void 0,/f$/.test(i)?(a=(a=i.match(r))?a[1]:-1,null!==n&&(n=ie.numberFormat(n,a,o.decimalPoint,i.indexOf(",")>-1?o.thousandsSep:""))):n=F(i,n))}c.push(n),e=e.slice(s+1),s=(l=!l)?"}":"{"}return c.push(e),c.join("")}function y(e){return ae.pow(10,le(ae.log(e)/ae.LN10))}function b(e,t,n,i,r){var o,a=e,n=Be(n,1);for(o=e/n,t||(t=[1,2,2.5,5,10],i===!1&&(1===n?t=[1,2,5,10]:n<=.1&&(t=[1/n]))),i=0;i<t.length&&(a=t[i],!(r&&a*n>=e||!r&&o<=(t[i]+(t[i+1]||t[i]))/2));i++);return a*=n}function w(e,t){var n,i,r=e.length;for(i=0;i<r;i++)e[i].ss_i=i;for(e.sort(function(e,i){return n=t(e,i),0===n?e.ss_i-i.ss_i:n}),i=0;i<r;i++)delete e[i].ss_i}function x(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function $(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function k(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function _(e){N||(N=h(Oe)),e&&N.appendChild(e),N.innerHTML=""}function C(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;oe.console&&console.log(n)}function S(e,t){return parseFloat(e.toPrecision(t||14))}function T(e,t){t.renderer.globalAnimation=Be(e,t.animation)}function E(){var e=L.global,t=e.useUTC,n=t?"getUTC":"get",i=t?"setUTC":"set";B=e.Date||window.Date,j=t&&e.timezoneOffset,W=t&&e.getTimezoneOffset,H=function(e,n,i,r,o,a){var s;return t?(s=B.UTC.apply(0,arguments),s+=g(s)):s=new B(e,n,Be(i,1),Be(r,0),Be(o,0),Be(a,0)).getTime(),s},q=n+"Minutes",z=n+"Hours",K=n+"Day",V=n+"Date",G=n+"Month",Y=n+"FullYear",X=i+"Milliseconds",Z=i+"Seconds",Q=i+"Minutes",J=i+"Hours",ee=i+"Date",te=i+"Month",ne=i+"FullYear"}function A(){}function D(e,t,n,i){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!i&&this.addLabel()}function M(e,t,n,i,r){var o=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=i,this.total=null,this.points={},this.stack=r,this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:Be(t.y,o?4:n?14:-6),x:Be(t.x,o?n?-6:6:0)},this.textAlign=t.textAlign||(o?n?"right":"left":"center")}var P,O,I,N,L,F,R,U,B,H,j,W,q,z,K,V,G,Y,X,Z,Q,J,ee,te,ne,ie,re=document,oe=window,ae=Math,se=ae.round,le=ae.floor,ce=ae.ceil,ue=ae.max,de=ae.min,pe=ae.abs,he=ae.cos,fe=ae.sin,me=ae.PI,ge=2*me/360,ve=navigator.userAgent,ye=oe.opera,be=/(msie|trident|edge)/i.test(ve)&&!ye,we=8===re.documentMode,xe=!be&&/AppleWebKit/.test(ve),$e=/Firefox/.test(ve),ke=/(Mobile|Android|Windows Phone)/.test(ve),_e="http://www.w3.org/2000/svg",Ce=!!re.createElementNS&&!!re.createElementNS(_e,"svg").createSVGRect,Se=$e&&parseInt(ve.split("Firefox/")[1],10)<4,Te=!Ce&&!be&&!!re.createElement("canvas").getContext,Ee={},Ae=0,De=function(){return P},Me=[],Pe=0,Oe="div",Ie="none",Ne=/^[0-9]+$/,Le=["plotTop","marginRight","marginBottom","plotLeft"],Fe="stroke-width",Re={};ie=oe.Highcharts=oe.Highcharts?C(16,!0):{},ie.seriesTypes=Re;var Ue=ie.extend=function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},Be=ie.pick=function(){var e,t,n=arguments,i=n.length;for(e=0;e<i;e++)if(t=n[e],t!==P&&null!==t)return t},He=ie.wrap=function(e,t,n){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(i),n.apply(this,e)}};F=function(e,t,n){if(!c(t)||isNaN(t))return L.lang.invalidDate||"";var i,e=Be(e,"%Y-%m-%d %H:%M:%S"),r=new B(t-g(t)),o=r[z](),a=r[K](),s=r[V](),l=r[G](),u=r[Y](),d=L.lang,p=d.weekdays,r=Ue({a:p[a].substr(0,3),A:p[a],d:m(s),e:s,w:a,b:d.shortMonths[l],B:d.months[l],m:m(l+1),y:u.toString().substr(2,2),Y:u,H:m(o),k:o,I:m(o%12||12),l:o%12||12,M:m(r[q]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:m(r.getSeconds()),L:m(se(t%1e3),3)},ie.dateFormats);for(i in r)for(;e.indexOf("%"+i)!==-1;)e=e.replace("%"+i,"function"==typeof r[i]?r[i](t):r[i]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},U={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ie.numberFormat=function(e,n,i,r){var o=L.lang,e=+e||0,a=n===-1?de((e.toString().split(".")[1]||"").length,20):isNaN(n=pe(n))?2:n,n=void 0===i?o.decimalPoint:i,r=void 0===r?o.thousandsSep:r,o=e<0?"-":"",i=String(t(e=pe(e).toFixed(a))),s=i.length>3?i.length%3:0;return o+(s?i.substr(0,s)+r:"")+i.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+r)+(a?n+pe(e-i).toFixed(a).slice(2):"")},R={init:function(e,t,n){var i,r,o,t=t||"",a=e.shift,s=t.indexOf("C")>-1,l=s?7:3,t=t.split(" "),n=[].concat(n),c=function(e){for(i=e.length;i--;)"M"===e[i]&&e.splice(i+1,0,e[i+1],e[i+2],e[i+1],e[i+2])};if(s&&(c(t),c(n)),e.isArea&&(r=t.splice(t.length-6,6),o=n.splice(n.length-6,6)),a<=n.length/l&&t.length===n.length)for(;a--;)n=[].concat(n).splice(0,l).concat(n);if(e.shift=0,t.length)for(e=n.length;t.length<e;)a=[].concat(t).splice(t.length-l,l),s&&(a[l-6]=a[l-2],a[l-5]=a[l-1]),t=t.concat(a);return r&&(t=t.concat(r),n=n.concat(o)),[t,n]},step:function(e,t,n,i){var r=[],o=e.length;if(1===n)r=i;else if(o===t.length&&n<1)for(;o--;)i=parseFloat(e[o]),r[o]=isNaN(i)?e[o]:n*parseFloat(t[o]-i)+i;else r=t;return r}},function(e){oe.HighchartsAdapter=oe.HighchartsAdapter||e&&{init:function(t){var i=e.fx;e.extend(e.easing,{easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n}}),e.each(["cur","_default","width","height","opacity"],function(t,n){var r,o=i.step;"cur"===n?o=i.prototype:"_default"===n&&e.Tween&&(o=e.Tween.propHooks[n],n="set"),(r=o[n])&&(o[n]=function(e){var i,e=t?e:this;if("align"!==e.prop)return i=e.elem,i.attr?i.attr(e.prop,"cur"===n?P:e.now):r.apply(this,arguments)})}),He(e.cssHooks.opacity,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),this.addAnimSetter("d",function(e){var n,i=e.elem;e.started||(n=t.init(i,i.d,i.toD),e.start=n[0],e.end=n[1],e.started=!0),i.attr("d",t.step(e.start,e.end,e.pos,i.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n,i=e.length;for(n=0;n<i;n++)if(t.call(e[n],e[n],n,e)===!1)return n},e.fn.highcharts=function(){var e,t,i="Chart",r=arguments;return this[0]&&(n(r[0])&&(i=r[0],r=Array.prototype.slice.call(r,1)),e=r[0],e!==P&&(e.chart=e.chart||{},e.chart.renderTo=this[0],new ie[i](e,r[1]),t=this),e===P&&(t=Me[u(this[0],"data-highcharts-chart")])),t}},addAnimSetter:function(t,n){e.Tween?e.Tween.propHooks[t]={set:n}:e.fx.step[t]=n},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,n){return e(t)[n]()},grep:e.grep,map:function(e,t){for(var n=[],i=0,r=e.length;i<r;i++)n[i]=t.call(e[i],e[i],i,e);return n},offset:function(t){return e(t).offset()},addEvent:function(t,n,i){e(t).bind(n,i)},removeEvent:function(t,n,i){var r=re.removeEventListener?"removeEventListener":"detachEvent";re[r]&&t&&!t[r]&&(t[r]=function(){}),e(t).unbind(n,i)},fireEvent:function(t,n,i,r){var o,a=e.Event(n),s="detached"+n;!be&&i&&(delete i.layerX,delete i.layerY,delete i.returnValue),Ue(a,i),t[n]&&(t[s]=t[n],t[n]=null),e.each(["preventDefault","stopPropagation"],function(e,t){var n=a[t];a[t]=function(){try{n.call(a)}catch(e){"preventDefault"===t&&(o=!0)}}}),e(t).trigger(a),t[s]&&(t[n]=t[s],t[s]=null),r&&!a.isDefaultPrevented()&&!o&&r(a)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===P&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(t,n,i){var r=e(t);t.style||(t.style={}),n.d&&(t.toD=n.d,n.d=1),r.stop(),n.opacity!==P&&t.attr&&(n.opacity+="px"),t.hasAnim=1,r.animate(n,i)},stop:function(t){t.hasAnim&&e(t).stop()}}}(oe.jQuery);var je=oe.HighchartsAdapter,We=je||{};je&&je.init.call(je,R);var qe=We.adapterRun,ze=We.getScript,Ke=We.inArray,Ve=ie.each=We.each,Ge=We.grep,Ye=We.offset,Xe=We.map,Ze=We.addEvent,Qe=We.removeEvent,Je=We.fireEvent,et=We.washMouseEvent,tt=We.animate,nt=We.stop;L={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.1.9/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.1.9/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,
animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":ie.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Ce,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:ke?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var it=L.plotOptions,je=it.line;E();var rt=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,ot=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,at=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,st=function(n){var i,r,a=[];return function(e){e&&e.stops?r=Xe(e.stops,function(e){return st(e[1])}):(i=rt.exec(e))?a=[t(i[1]),t(i[2]),t(i[3]),parseFloat(i[4],10)]:(i=ot.exec(e))?a=[t(i[1],16),t(i[2],16),t(i[3],16),1]:(i=at.exec(e))&&(a=[t(i[1]),t(i[2]),t(i[3]),1])}(n),{get:function(t){var i;return r?(i=e(n),i.stops=[].concat(i.stops),Ve(r,function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]})):i=a&&!isNaN(a[0])?"rgb"===t?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===t?a[3]:"rgba("+a.join(",")+")":n,i},brighten:function(e){if(r)Ve(r,function(t){t.brighten(e)});else if(o(e)&&0!==e){var n;for(n=0;n<3;n++)a[n]+=t(255*e),a[n]<0&&(a[n]=0),a[n]>255&&(a[n]=255)}return this},rgba:a,setOpacity:function(e){return a[3]=e,this},raw:n}};A.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(e,t){this.element="span"===t?h(t):re.createElementNS(_e,t),this.renderer=e},animate:function(t,n,i){return n=Be(n,this.renderer.globalAnimation,!0),nt(this),n?(n=e(n,{}),i&&(n.complete=i),tt(this,t,n)):this.attr(t,null,i),this},colorGradient:function(t,n,i){var o,a,s,l,u,d,p,h,f,m,g,v=this.renderer,y=[];if(t.linearGradient?a="linearGradient":t.radialGradient&&(a="radialGradient"),a){s=t[a],u=v.gradients,p=t.stops,m=i.radialReference,r(s)&&(t[a]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&m&&!c(s.gradientUnits)&&(l=s,s=e(s,v.getRadialAttr(m,l),{gradientUnits:"userSpaceOnUse"}));for(g in s)"id"!==g&&y.push(g,s[g]);for(g in p)y.push(p[g]);y=y.join(","),u[y]?t=u[y].attr("id"):(s.id=t="highcharts-"+Ae++,u[y]=d=v.createElement(a).attr(s).add(v.defs),d.radAttr=l,d.stops=[],Ve(p,function(e){0===e[1].indexOf("rgba")?(o=st(e[1]),h=o.get("rgb"),f=o.get("a")):(h=e[1],f=1),e=v.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":f}).add(d),d.stops.push(e)})),i.setAttribute(n,"url("+v.url+"#"+t+")"),i.gradient=y}},applyTextShadow:function(e){var n,i=this.element,r=e.indexOf("contrast")!==-1,o={},a=this.renderer.forExport,s=a||i.style.textShadow!==P&&!be;r&&(o.textShadow=e=e.replace(/contrast/g,this.renderer.getContrast(i.style.fill))),(xe||a)&&(o.textRendering="geometricPrecision"),s?this.css(o):(this.fakeTS=!0,this.ySetter=this.xSetter,n=[].slice.call(i.getElementsByTagName("tspan")),Ve(e.split(/\s?,\s?/g),function(e){var r,o,a=i.firstChild,e=e.split(" ");r=e[e.length-1],(o=e[e.length-2])&&Ve(n,function(e,n){var s;0===n&&(e.setAttribute("x",i.getAttribute("x")),n=i.getAttribute("y"),e.setAttribute("y",n||0),null===n&&i.setAttribute("y",0)),s=e.cloneNode(1),u(s,{class:"highcharts-text-shadow",fill:r,stroke:r,"stroke-opacity":1/ue(t(o),3),"stroke-width":o,"stroke-linejoin":"round"}),i.insertBefore(s,a)})}))},attr:function(e,t,n){var i,r,o,a=this.element,s=this;if("string"==typeof e&&t!==P&&(i=e,e={},e[i]=t),"string"==typeof e)s=(this[e+"Getter"]||this._defaultGetter).call(this,e,a);else{for(i in e)t=e[i],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(r||(this.symbolAttr(e),r=!0),o=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),o||(this[i+"Setter"]||this._defaultSetter).call(this,t,i,a),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,t);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),s},updateShadows:function(e,t){for(var n=this.shadows,i=n.length;i--;)n[i].setAttribute(e,"height"===e?ue(t-(n[i].cutHeight||0),0):"d"===e?this.d:t)},addClass:function(e){var t=this.element,n=u(t,"class")||"";return n.indexOf(e)===-1&&u(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;Ve("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=Be(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":Ie)},crisp:function(e){var t,n,i={},r=e.strokeWidth||this.strokeWidth||0;n=se(r)%2/2,e.x=le(e.x||this.x||0)+n,e.y=le(e.y||this.y||0)+n,e.width=le((e.width||this.width||0)-2*n),e.height=le((e.height||this.height||0)-2*n),e.strokeWidth=r;for(t in e)this[t]!==e[t]&&(this[t]=i[t]=e[t]);return i},css:function(e){var n,i,r=this.styles,o={},a=this.element,s="";if(n=!r,e&&e.color&&(e.fill=e.color),r)for(i in e)e[i]!==r[i]&&(o[i]=e[i],n=!0);if(n){if(n=this.textWidth=e&&e.width&&"text"===a.nodeName.toLowerCase()&&t(e.width)||this.textWidth,r&&(e=Ue(r,o)),this.styles=e,n&&(Te||!Ce&&this.renderer.forExport)&&delete e.width,be&&!Ce)p(this.element,e);else{r=function(e,t){return"-"+t.toLowerCase()};for(i in e)s+=i.replace(/([A-Z])/g,r)+":"+e[i]+";";u(a,"style",s)}n&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var n=this,i=n.element;return I&&"click"===e?(i.ontouchstart=function(e){n.touchEventFired=B.now(),e.preventDefault(),t.call(i,e)},i.onclick=function(e){(ve.indexOf("Android")===-1||B.now()-(n.touchEventFired||0)>1100)&&t.call(i,e)}):i["on"+e]=t,this},setRadialReference:function(e){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation,a=this.element;r&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],r?e.push("rotate(90) scale(-1,1)"):o&&e.push("rotate("+o+" "+(a.getAttribute("x")||0)+" "+(a.getAttribute("y")||0)+")"),(c(n)||c(i))&&e.push("scale("+Be(n,1)+" "+Be(i,1)+")"),e.length&&a.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,i){var r,o,a,s,c={};return o=this.renderer,a=o.alignedObjects,e?(this.alignOptions=e,this.alignByTranslate=t,(!i||n(i))&&(this.alignTo=r=i||"renderer",l(a,this),a.push(this),i=null)):(e=this.alignOptions,t=this.alignByTranslate,r=this.alignTo),i=Be(i,o[r],o),r=e.align,o=e.verticalAlign,a=(i.x||0)+(e.x||0),s=(i.y||0)+(e.y||0),"right"!==r&&"center"!==r||(a+=(i.width-(e.width||0))/{right:1,center:2}[r]),c[t?"translateX":"x"]=se(a),"bottom"!==o&&"middle"!==o||(s+=(i.height-(e.height||0))/({bottom:1,middle:2}[o]||1)),c[t?"translateY":"y"]=se(s),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(e){var t,n,i=this.renderer,r=this.rotation,o=this.element,a=this.styles,s=r*ge;n=this.textStr;var l,c,u,d=o.style;if(n!==P&&(u=["",r||0,a&&a.fontSize,o.style.width].join(","),u=""===n||Ne.test(n)?"num:"+n.toString().length+u:n+u),u&&!e&&(t=i.cache[u]),!t){if(o.namespaceURI===_e||i.forExport){try{c=this.fakeTS&&function(e){Ve(o.querySelectorAll(".highcharts-text-shadow"),function(t){t.style.display=e})},$e&&d.textShadow?(l=d.textShadow,d.textShadow=""):c&&c(Ie),t=o.getBBox?Ue({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight},l?d.textShadow=l:c&&c("")}catch(e){}(!t||t.width<0)&&(t={width:0,height:0})}else t=this.htmlGetBBox();i.isSVG&&(e=t.width,n=t.height,be&&a&&"11px"===a.fontSize&&"16.9"===n.toPrecision(3)&&(t.height=n=14),r&&(t.width=pe(n*fe(s))+pe(e*he(s)),t.height=pe(n*he(s))+pe(e*fe(s)))),u&&(i.cache[u]=t)}return t},show:function(e){return this.attr({visibility:e?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,n=this.renderer,i=this.element;return e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!e||e.handleZ||this.zIndex)&&(t=this.zIndexSetter()),t||(e?e.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,n=this,i=n.element||{},r=n.shadows,o=n.renderer.isSVG&&"SPAN"===i.nodeName&&n.parentGroup;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null,nt(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(t=0;t<n.stops.length;t++)n.stops[t]=n.stops[t].destroy();n.stops=null}for(n.safeRemoveChild(i),r&&Ve(r,function(e){n.safeRemoveChild(e)});o&&o.div&&0===o.div.childNodes.length;)i=o.parentGroup,n.safeRemoveChild(o.div),delete o.div,o=i;n.alignTo&&l(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},shadow:function(e,t,n){var i,r,o,a,s,l,c=[],d=this.element;if(e){for(a=Be(e.width,3),s=(e.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+Be(e.offsetX,1)+", "+Be(e.offsetY,1)+")",i=1;i<=a;i++)r=d.cloneNode(0),o=2*a+1-2*i,u(r,{isShadow:"true",stroke:e.color||"black","stroke-opacity":s*i,"stroke-width":o,transform:"translate"+l,fill:Ie}),n&&(u(r,"height",ue(u(r,"height")-o,0)),r.cutHeight=o),t?t.element.appendChild(r):d.parentNode.insertBefore(r,d),c.push(r);this.shadows=c}return this},xGetter:function(e){return"circle"===this.element.nodeName&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=Be(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var n;if(e=e&&e.toLowerCase()){for(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),n=e.length;n--;)e[n]=t(e[n])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=re.createElementNS(_e,"title"),this.element.appendChild(t)),t.appendChild(re.createTextNode(String(Be(e),"").replace(/<[^>]*>/g,"")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){"string"==typeof e?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},visibilitySetter:function(e,t,n){"inherit"===e?n.removeAttribute(t):n.setAttribute(t,e)},zIndexSetter:function(e,n){var i,r,o,a=this.renderer,s=this.parentGroup,a=(s||a).element||a.box,l=this.element;i=this.added;var d;if(c(e)&&(l.setAttribute(n,e),e=+e,this[n]===e&&(i=!1),this[n]=e),i){for((e=this.zIndex)&&s&&(s.handleZ=!0),s=a.childNodes,d=0;d<s.length&&!o;d++)i=s[d],r=u(i,"zIndex"),i!==l&&(t(r)>e||!c(e)&&c(r))&&(a.insertBefore(l,i),o=!0);o||a.appendChild(l)}return o},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}},A.prototype.yGetter=A.prototype.xGetter,A.prototype.translateXSetter=A.prototype.translateYSetter=A.prototype.rotationSetter=A.prototype.verticalAlignSetter=A.prototype.scaleXSetter=A.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},A.prototype["stroke-widthSetter"]=A.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],A.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var lt=function(){this.init.apply(this,arguments)};if(lt.prototype={Element:A,init:function(e,t,n,i,r,o){var a,s=location,i=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(i));a=i.element,e.appendChild(a),e.innerHTML.indexOf("xmlns")===-1&&u(a,"xmlns",_e),this.isSVG=!0,this.box=a,this.boxWrapper=i,this.alignedObjects=[],this.url=($e||xe)&&re.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(re.createTextNode("Created with Highcharts 4.1.9")),this.defs=this.createElement("defs").add(),this.allowHTML=o,this.forExport=r,this.gradients={},this.cache={},this.setSize(t,n,!1);var l;$e&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){p(e,{left:0,top:0}),l=e.getBoundingClientRect(),p(e,{left:ce(l.left)-l.left+"px",top:ce(l.top)-l.top+"px"})},t(),Ze(oe,"resize",t))},getStyle:function(e){return this.style=Ue({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),k(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&Qe(oe,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},getRadialAttr:function(e,t){return{cx:e[0]-e[2]/2+t.cx*e[2],cy:e[1]-e[2]/2+t.cy*e[2],r:t.r*e[2]}},buildText:function(e){for(var n,i,r=e.element,o=this,a=o.forExport,s=Be(e.textStr,"").toString(),l=s.indexOf("<")!==-1,c=r.childNodes,d=u(r,"x"),h=e.styles,f=e.textWidth,m=h&&h.lineHeight,g=h&&h.textShadow,v=h&&"ellipsis"===h.textOverflow,y=c.length,b=f&&!e.added&&this.box,w=function(e){return m?t(m):o.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:h&&h.fontSize||o.style.fontSize||12,e).h},x=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")};y--;)r.removeChild(c[y]);l||g||v||s.indexOf(" ")!==-1?(n=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,b&&b.appendChild(r),s=l?s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[s],""===s[s.length-1]&&s.pop(),Ve(s,function(t,s){var l,c=0,t=t.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");l=t.split("|||"),Ve(l,function(t){if(""!==t||1===l.length){var m,g={},y=re.createElementNS(_e,"tspan");if(n.test(t)&&(m=t.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(y,"style",m)),i.test(t)&&!a&&(u(y,"onclick",'location.href="'+t.match(i)[1]+'"'),p(y,{cursor:"pointer"})),t=x(t.replace(/<(.|\n)*?>/g,"")||" ")," "!==t){if(y.appendChild(re.createTextNode(t)),c?g.dx=0:s&&null!==d&&(g.x=d),u(y,g),r.appendChild(y),!c&&s&&(!Ce&&a&&p(y,{display:"block"}),u(y,"dy",w(y))),f){for(var b,$,k,g=t.replace(/([^\^])-/g,"$1- ").split(" "),_=l.length>1||s||g.length>1&&"nowrap"!==h.whiteSpace,C=[],S=w(y),T=1,E=e.rotation,A=t,D=A.length;(_||v)&&(g.length||C.length);)e.rotation=0,b=e.getBBox(!0),k=b.width,!Ce&&o.forExport&&(k=o.measureSpanWidth(y.firstChild.data,e.styles)),b=k>f,void 0===$&&($=b),v&&$?(D/=2,""===A||!b&&D<.5?g=[]:(b&&($=!0),A=t.substring(0,A.length+(b?-1:1)*ce(D)),g=[A+(f>3?"…":"")],y.removeChild(y.firstChild))):b&&1!==g.length?(y.removeChild(y.firstChild),C.unshift(g.pop())):(g=C,C=[],g.length&&(T++,y=re.createElementNS(_e,"tspan"),u(y,{dy:S,x:d}),m&&u(y,"style",m),r.appendChild(y)),k>f&&(f=k)),g.length&&y.appendChild(re.createTextNode(g.join(" ").replace(/- /g,"-")));$&&e.attr("title",e.textStr),e.rotation=E}c++}}})}),b&&b.removeChild(r),g&&e.applyTextShadow&&e.applyTextShadow(g)):r.appendChild(re.createTextNode(x(s)))},getContrast:function(e){return e=st(e).rgba,e[0]+e[1]+e[2]>384?"#000000":"#FFFFFF"},button:function(t,n,i,r,o,a,s,l,c){var u,d,p,h,f,m,g=this.label(t,n,i,c,null,null,null,null,"button"),v=0,t={x1:0,y1:0,x2:0,y2:1},o=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:t,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o);return p=o.style,delete o.style,a=e(o,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#FFF"],[1,"#ACF"]]}},a),h=a.style,delete a.style,s=e(o,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#9BD"],[1,"#CDF"]]}},s),f=s.style,delete s.style,l=e(o,{style:{color:"#CCC"}},l),m=l.style,delete l.style,Ze(g.element,be?"mouseover":"mouseenter",function(){3!==v&&g.attr(a).css(h)}),Ze(g.element,be?"mouseout":"mouseleave",function(){3!==v&&(u=[o,a,s][v],d=[p,h,f][v],g.attr(u).css(d))}),g.setState=function(e){(g.state=v=e)?2===e?g.attr(s).css(f):3===e&&g.attr(l).css(m):g.attr(o).css(p)},g.on("click",function(e){3!==v&&r.call(g,e)}).attr(o).css(Ue({cursor:"default"},p))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=se(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=se(e[2])+t%2/2),e},path:function(e){var t={fill:Ie};return r(e)?t.d=e:i(e)&&Ue(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){return e=i(e)?e:{x:e,y:t,r:n},t=this.createElement("circle"),t.xSetter=function(e){this.element.setAttribute("cx",e)},t.ySetter=function(e){this.element.setAttribute("cy",e)},t.attr(e)},arc:function(e,t,n,r,o,a){return i(e)&&(t=e.y,n=e.r,r=e.innerR,o=e.start,a=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:o||0,end:a||0}),e.r=n,e},rect:function(e,t,n,r,o,a){var o=i(e)?e.r:o,s=this.createElement("rect"),e=i(e)?e:e===P?{}:{x:e,y:t,width:ue(n,0),height:ue(r,0)};return a!==P&&(e.strokeWidth=a,e=s.crisp(e)),o&&(e.r=o),s.rSetter=function(e){u(this.element,{rx:e,ry:e})},s.attr(e)},setSize:function(e,t,n){var i=this.alignedObjects,r=i.length;for(this.width=e,this.height=t,this.boxWrapper[Be(n,!0)?"animate":"attr"]({width:e,height:t});r--;)i[r].align()},g:function(e){var t=this.createElement("g");return c(e)?t.attr({class:"highcharts-"+e}):t},image:function(e,t,n,i,r){var o={preserveAspectRatio:Ie};return arguments.length>1&&Ue(o,{x:t,y:n,width:i,height:r}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):o.element.setAttribute("hc-svg-href",e),o},symbol:function(e,t,n,i,r,o){var a,s,l,c=this.symbols[e],c=c&&c(se(t),se(n),i,r,o),u=/^url\((.*?)\)$/;return c?(a=this.path(c),Ue(a,{symbolName:e,x:t,y:n,width:i,height:r}),o&&Ue(a,o)):u.test(e)&&(l=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(se((i-t[0])/2),se((r-t[1])/2)))},s=e.match(u)[1],e=Ee[s]||o&&o.width&&o.height&&[o.width,o.height],a=this.image(s).attr({x:t,y:n}),a.isImg=!0,e?l(a,e):(a.attr({width:0,height:0}),h("img",{onload:function(){0===this.width&&(p(this,{position:"absolute",top:"-999em"}),document.body.appendChild(this)),l(a,Ee[s]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this)},src:s}))),a},symbols:{circle:function(e,t,n,i){var r=.166*n;return["M",e+n/2,t,"C",e+n+r,t,e+n+r,t+i,e+n/2,t+i,"C",e-r,t+i,e-r,t,e+n/2,t,"Z"]},square:function(e,t,n,i){return["M",e,t,"L",e+n,t,e+n,t+i,e,t+i,"Z"]},triangle:function(e,t,n,i){return["M",e+n/2,t,"L",e+n,t+i,e,t+i,"Z"]},"triangle-down":function(e,t,n,i){return["M",e,t,"L",e+n,t,e+n/2,t+i,"Z"]},diamond:function(e,t,n,i){return["M",e+n/2,t,"L",e+n,t+i/2,e+n/2,t+i,e,t+i/2,"Z"]},arc:function(e,t,n,i,r){var o=r.start,n=r.r||n||i,a=r.end-.001,i=r.innerR,s=r.open,l=he(o),c=fe(o),u=he(a),a=fe(a),r=r.end-o<me?0:1;return["M",e+n*l,t+n*c,"A",n,n,0,r,1,e+n*u,t+n*a,s?"M":"L",e+i*u,t+i*a,"A",i,i,0,r,0,e+i*l,t+i*c,s?"":"Z"]},callout:function(e,t,n,i,r){var o,a=de(r&&r.r||0,n,i),s=a+6,l=r&&r.anchorX,r=r&&r.anchorY;return o=["M",e+a,t,"L",e+n-a,t,"C",e+n,t,e+n,t,e+n,t+a,"L",e+n,t+i-a,"C",e+n,t+i,e+n,t+i,e+n-a,t+i,"L",e+a,t+i,"C",e,t+i,e,t+i,e,t+i-a,"L",e,t+a,"C",e,t,e,t,e+a,t],l&&l>n&&r>t+s&&r<t+i-s?o.splice(13,3,"L",e+n,r-6,e+n+6,r,e+n,r+6,e+n,t+i-a):l&&l<0&&r>t+s&&r<t+i-s?o.splice(33,3,"L",e,r+6,e-6,r,e,r-6,e,t+a):r&&r>i&&l>e+s&&l<e+n-s?o.splice(23,3,"L",l+6,t+i,l,t+i+6,l-6,t+i,e+a,t+i):r&&r<0&&l>e+s&&l<e+n-s&&o.splice(3,3,"L",l-6,t,l,t-6,l+6,t,n-a,t),o}},clipRect:function(e,t,n,i){var r="highcharts-"+Ae++,o=this.createElement("clipPath").attr({id:r}).add(this.defs),e=this.rect(e,t,n,i,0).add(o);return e.id=r,e.clipPath=o,e.count=0,e},text:function(e,t,n,i){var r=Te||!Ce&&this.forExport,o={};return!i||!this.allowHTML&&this.forExport?(o.x=Math.round(t||0),n&&(o.y=Math.round(n)),(e||0===e)&&(o.text=e),e=this.createElement("text").attr(o),r&&e.css({position:"absolute"}),i||(e.xSetter=function(e,t,n){var i,r,o=n.getElementsByTagName("tspan"),a=n.getAttribute(t);for(r=0;r<o.length;r++)i=o[r],i.getAttribute(t)===a&&i.setAttribute(t,e);n.setAttribute(t,e)}),e):this.html(e,t,n)},fontMetrics:function(e,n){var i,r,e=e||this.style.fontSize;return!e&&n&&oe.getComputedStyle&&(n=n.element||n,e=(i=oe.getComputedStyle(n,""))&&i.fontSize),e=/px/.test(e)?t(e):/em/.test(e)?12*parseFloat(e):12,i=e<24?e+3:se(1.2*e),r=se(.8*i),{h:i,b:r,f:e}},rotCorr:function(e,t,n){var i=e;return t&&n&&(i=ue(i*he(t*ge),4)),{x:-e/3*fe(t*ge),y:i}},label:function(t,n,i,r,o,a,s,l,u){function d(){var e,t;e=_.element.style,m=(void 0===g||void 0===v||k.styles.textAlign)&&c(_.textStr)&&_.getBBox(),k.width=(g||m.width||0)+2*S+T,k.height=(v||m.height||0)+2*S,w=S+$.fontMetrics(e&&e.fontSize,_).b,x&&(f||(e=se(-C*S)+E,t=(l?-w:0)+E,k.box=f=r?$.symbol(r,e,t,k.width,k.height,D):$.rect(e,t,k.width,k.height,0,D[Fe]),f.isImg||f.attr("fill",Ie),f.add(k)),f.isImg||f.attr(Ue({width:se(k.width),height:se(k.height)},D)),D=null)}function p(){var e,t=k.styles,t=t&&t.textAlign,n=T+S*(1-C);e=l?0:w,c(g)&&m&&("center"===t||"right"===t)&&(n+={center:.5,right:1}[t]*(g-m.width)),n===_.x&&e===_.y||(_.attr("x",n),e!==P&&_.attr("y",e)),_.x=n,_.y=e}function h(e,t){f?f.attr(e,t):D[e]=t}var f,m,g,v,y,b,w,x,$=this,k=$.g(u),_=$.text("",0,0,s).attr({zIndex:1}),C=0,S=3,T=0,E=0,D={};k.onAdd=function(){_.add(k),k.attr({text:t||0===t?t:"",x:n,y:i}),f&&c(o)&&k.attr({anchorX:o,anchorY:a})},k.widthSetter=function(e){g=e},k.heightSetter=function(e){v=e},k.paddingSetter=function(e){c(e)&&e!==S&&(S=k.padding=e,p())},k.paddingLeftSetter=function(e){c(e)&&e!==T&&(T=e,p())},k.alignSetter=function(e){C={left:0,center:.5,right:1}[e]},k.textSetter=function(e){e!==P&&_.textSetter(e),d(),p()},k["stroke-widthSetter"]=function(e,t){e&&(x=!0),E=e%2/2,h(t,e)},k.strokeSetter=k.fillSetter=k.rSetter=function(e,t){"fill"===t&&e&&(x=!0),h(t,e)},k.anchorXSetter=function(e,t){o=e,h(t,se(e)-E-y)},k.anchorYSetter=function(e,t){a=e,h(t,e-b)},k.xSetter=function(e){k.x=e,C&&(e-=C*((g||m.width)+S)),y=se(e),k.attr("translateX",y)},k.ySetter=function(e){b=k.y=se(e),k.attr("translateY",b)};var M=k.css;return Ue(k,{css:function(t){if(t){var n={},t=e(t);Ve(k.textProps,function(e){t[e]!==P&&(n[e]=t[e],delete t[e])}),_.css(n)}return M.call(k,t)},getBBox:function(){return{width:m.width+2*S,height:m.height+2*S,x:m.x-S,y:m.y-S}},shadow:function(e){return f&&f.shadow(e),k},destroy:function(){Qe(k.element,"mouseenter"),Qe(k.element,"mouseleave"),_&&(_=_.destroy()),f&&(f=f.destroy()),A.prototype.destroy.call(k),k=$=d=p=h=null}})}},O=lt,Ue(A.prototype,{htmlCss:function(e){var t=this.element;return(t=e&&"SPAN"===t.tagName&&e.width)&&(delete e.width,this.textWidth=t,this.updateTransform()),e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=Ue(this.styles,e),p(this.element,e),this},htmlGetBBox:function(){var e=this.element;return"text"===e.nodeName&&(e.style.position="absolute"),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,n=this.element,i=this.translateX||0,r=this.translateY||0,o=this.x||0,a=this.y||0,s=this.textAlign||"left",l={left:0,center:.5,right:1}[s],u=this.shadows,d=this.styles;if(p(n,{marginLeft:i,marginTop:r}),u&&Ve(u,function(e){p(e,{marginLeft:i+1,marginTop:r+1})}),this.inverted&&Ve(n.childNodes,function(t){e.invertChild(t,n)}),"SPAN"===n.tagName){var h,f=this.rotation,m=t(this.textWidth),g=[f,s,n.innerHTML,this.textWidth,this.textAlign].join(",");g!==this.cTT&&(h=e.fontMetrics(n.style.fontSize).b,c(f)&&this.setSpanRotation(f,l,h),u=Be(this.elemWidth,n.offsetWidth),u>m&&/[ \-]/.test(n.textContent||n.innerText)&&(p(n,{width:m+"px",display:"block",whiteSpace:d&&d.whiteSpace||"normal"}),u=m),this.getSpanCorrection(u,h,l,f,s)),p(n,{left:o+(this.xCorr||0)+"px",top:a+(this.yCorr||0)+"px"}),xe&&(h=n.offsetHeight),this.cTT=g}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var i={},r=be?"-ms-transform":xe?"-webkit-transform":$e?"MozTransform":ye?"-o-transform":"";i[r]=i.transform="rotate("+e+"deg)",i[r+($e?"Origin":"-origin")]=i.transformOrigin=100*t+"% "+n+"px",p(this.element,i)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),Ue(lt.prototype,{html:function(e,t,n){var i=this.createElement("span"),r=i.element,o=i.renderer;return i.textSetter=function(e){e!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=e,i.htmlUpdateTransform()},i.xSetter=i.ySetter=i.alignSetter=i.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),i[t]=e,i.htmlUpdateTransform()},i.attr({text:e,x:se(t),y:se(n)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.style.whiteSpace="nowrap",i.css=i.htmlCss,o.isSVG&&(i.add=function(e){var t,n=o.box.parentNode,a=[];if(this.parentGroup=e){if(t=e.div,!t){for(;e;)a.push(e),e=e.parentGroup;Ve(a.reverse(),function(e){var i,r=u(e.element,"class");r&&(r={className:r}),t=e.div=e.div||h(Oe,r,{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px"},t||n),i=t.style,Ue(e,{translateXSetter:function(t,n){i.left=t+"px",e[n]=t,e.doTransform=!0},translateYSetter:function(t,n){i.top=t+"px",e[n]=t,e.doTransform=!0}}),Ve(["opacity","visibility"],function(t){He(e,t+"Setter",function(e,t,n,r){e.call(this,t,n,r),i[n]=t})})})}}else t=n;return t.appendChild(r),i.added=!0,i.alignOnAdd&&i.htmlUpdateTransform(),i}),i}}),!Ce&&!Te){We={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],i=["position: ","absolute",";"],r=t===Oe;("shape"===t||r)&&i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",r?"hidden":"visible"),n.push(' style="',i.join(""),'"/>'),t&&(n=r||"span"===t||"img"===t?n.join(""):e.prepVML(n),this.element=h(n)),this.renderer=e},add:function(e){var t=this.renderer,n=this.element,i=t.box,i=e?e.element||e:i;return e&&e.inverted&&t.invertChild(n,i),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:A.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=he(e*ge),n=fe(e*ge);p(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):Ie})},getSpanCorrection:function(e,t,n,i,r){var o,a=i?he(i*ge):1,s=i?fe(i*ge):0,l=Be(this.elemHeight,this.element.offsetHeight);this.xCorr=a<0&&-e,this.yCorr=s<0&&-l,o=a*s<0,this.xCorr+=s*t*(o?1-n:n),this.yCorr-=a*t*(i?o?n:1-n:1),r&&"left"!==r&&(this.xCorr-=e*n*(a<0?-1:1),i&&(this.yCorr-=l*n*(s<0?-1:1)),p(this.element,{textAlign:r}))},pathToVML:function(e){for(var t=e.length,n=[];t--;)o(e[t])?n[t]=se(10*e[t])-5:"Z"===e[t]?n[t]="x":(n[t]=e[t],!e.isArc||"wa"!==e[t]&&"at"!==e[t]||(n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1)));return n.join(" ")||"x"},clip:function(e){var t,n=this;return e?(t=e.members,l(t,n),t.push(n),n.destroyClip=function(){l(t,n)},e=e.getCSS(n)):(n.destroyClip&&n.destroyClip(),e={clip:we?"inherit":"rect(auto)"}),n.css(e)},css:A.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&_(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),A.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=oe.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,n){var i,e=e.split(/[ ,]/);return i=e.length,9!==i&&11!==i||(e[i-4]=e[i-2]=t(e[i-2])-10*n),e.join(" ")},shadow:function(e,n,i){var r,o,a,s,l,c,u,d=[],p=this.element,f=this.renderer,m=p.style,g=p.path;if(g&&"string"!=typeof g.value&&(g="x"),l=g,e){for(c=Be(e.width,3),u=(e.opacity||.15)/c,r=1;r<=3;r++)s=2*c+1-2*r,i&&(l=this.cutOffPath(g.value,s+.5)),a=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',l,'" coordsize="10 10" style="',p.style.cssText,'" />'],o=h(f.prepVML(a),null,{left:t(m.left)+Be(e.offsetX,1),top:t(m.top)+Be(e.offsetY,1)}),i&&(o.cutOff=s+1),a=['<stroke color="',e.color||"black",'" opacity="',u*r,'"/>'],h(f.prepVML(a),null,null,o),n?n.element.appendChild(o):p.parentNode.insertBefore(o,p),d.push(o);this.shadows=d}return this},updateShadows:De,setAttr:function(e,t){we?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){(n.getElementsByTagName("stroke")[0]||h(this.renderer.prepVML(["<stroke/>"]),null,null,n))[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var i=this.shadows,e=e||[];if(this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e),i)for(n=i.length;n--;)i[n].path=i[n].cutOff?this.cutOffPath(e,i[n].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,n){var i=n.nodeName;"SPAN"===i?n.style.color=e:"IMG"!==i&&(n.filled=e!==Ie,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},opacitySetter:De,rotationSetter:function(e,t,n){n=n.style,this[t]=n[t]=e,n.left=-se(fe(e*ge)+1)+"px",n.top=se(he(e*ge))+"px"},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,this[t]=e,o(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){"inherit"===e&&(e="visible"),this.shadows&&Ve(this.shadows,function(n){n.style[t]=e}),"DIV"===n.nodeName&&(e="hidden"===e?"-999em":0,we||(n.style[t]=e?"visible":"hidden"),
t="top"),n.style[t]=e},xSetter:function(e,t,n){this[t]=e,"x"===t?t="left":"y"===t&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},ie.VMLElement=We=f(A,We),We.prototype.ySetter=We.prototype.widthSetter=We.prototype.heightSetter=We.prototype.xSetter;var ct={Element:We,isIE8:ve.indexOf("MSIE 8.0")>-1,init:function(e,t,n,i){var r;if(this.alignedObjects=[],i=this.createElement(Oe).css(Ue(this.getStyle(i),{position:"relative"})),r=i.element,e.appendChild(i.element),this.isVML=!0,this.box=r,this.boxWrapper=i,this.cache={},this.setSize(t,n,!1),!re.namespaces.hcv){re.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{re.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(e){re.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,r){var o=this.createElement(),a=i(e);return Ue(o,{members:[],count:0,left:(a?e.x:e)+1,top:(a?e.y:t)+1,width:(a?e.width:n)-1,height:(a?e.height:r)-1,getCSS:function(e){var t=e.element,n=t.nodeName,e=e.inverted,i=this.top-("shape"===n?t.offsetTop:0),r=this.left,t=r+this.width,o=i+this.height,i={clip:"rect("+se(e?r:i)+"px,"+se(e?o:t)+"px,"+se(e?t:o)+"px,"+se(e?i:r)+"px)"};return!e&&we&&"DIV"===n&&Ue(i,{width:t+"px",height:o+"px"}),i},updateClipping:function(){Ve(o.members,function(e){e.element&&e.css(o.getCSS(e))})}})},color:function(e,t,n,i){var r,o,a,s=this,l=/^rgba/,c=Ie;if(e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern"),a){var u,d,p,f,m,g,v,y,b=e.linearGradient||e.radialGradient,w="",e=e.stops,x=[],$=function(){o=['<fill colors="'+x.join(",")+'" opacity="',m,'" o:opacity2="',f,'" type="',a,'" ',w,'focus="100%" method="any" />'],h(s.prepVML(o),null,null,t)};if(p=e[0],y=e[e.length-1],p[0]>0&&e.unshift([0,p[1]]),y[0]<1&&e.push([1,y[1]]),Ve(e,function(e,t){l.test(e[1])?(r=st(e[1]),u=r.get("rgb"),d=r.get("a")):(u=e[1],d=1),x.push(100*e[0]+"% "+u),t?(m=d,g=u):(f=d,v=u)}),"fill"===n)if("gradient"===a)n=b.x1||b[0]||0,e=b.y1||b[1]||0,p=b.x2||b[2]||0,b=b.y2||b[3]||0,w='angle="'+(90-180*ae.atan((b-e)/(p-n))/me)+'"',$();else{var k,c=b.r,_=2*c,C=2*c,S=b.cx,T=b.cy,E=t.radialReference,c=function(){E&&(k=i.getBBox(),S+=(E[0]-k.x)/k.width-.5,T+=(E[1]-k.y)/k.height-.5,_*=E[2]/k.width,C*=E[2]/k.height),w='src="'+L.global.VMLRadialGradientURL+'" size="'+_+","+C+'" origin="0.5,0.5" position="'+S+","+T+'" color2="'+v+'" ',$()};i.added?c():i.onAdd=c,c=g}else c=u}else l.test(e)&&"IMG"!==t.tagName?(r=st(e),o=["<",n,' opacity="',r.get("a"),'"/>'],h(this.prepVML(o),null,null,t),c=r.get("rgb")):(c=t.getElementsByTagName(n),c.length&&(c[0].opacity=1,c[0].type="solid"),c=e);return c},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=e.indexOf('style="')===-1?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:lt.prototype.html,path:function(e){var t={coordsize:"10 10"};return r(e)?t.d=e:i(e)&&Ue(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var r=this.symbol("circle");return i(e)&&(n=e.r,t=e.y,e=e.x),r.isCircle=!0,r.r=n,r.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,class:"highcharts-"+e}),this.createElement(Oe).attr(t)},image:function(e,t,n,i,r){var o=this.createElement("img").attr({src:e});return arguments.length>1&&o.attr({x:t,y:n,width:i,height:r}),o},createElement:function(e){return"rect"===e?this.symbol(e):lt.prototype.createElement.call(this,e)},invertChild:function(e,n){var i=this,r=n.style,o="IMG"===e.tagName&&e.style;p(e,{flip:"x",left:t(r.width)-(o?t(o.top):1),top:t(r.height)-(o?t(o.left):1),rotation:-90}),Ve(e.childNodes,function(t){i.invertChild(t,e)})},symbols:{arc:function(e,t,n,i,r){var o=r.start,a=r.end,s=r.r||n||i,n=r.innerR,i=he(o),l=fe(o),c=he(a),u=fe(a);return a-o===0?["x"]:(o=["wa",e-s,t-s,e+s,t+s,e+s*i,t+s*l,e+s*c,t+s*u],r.open&&!n&&o.push("e","M",e,t),o.push("at",e-n,t-n,e+n,t+n,e+n*c,t+n*u,e+n*i,t+n*l,"x","e"),o.isArc=!0,o)},circle:function(e,t,n,i,r){return r&&(n=i=2*r.r),r&&r.isCircle&&(e-=n/2,t-=i/2),["wa",e,t,e+n,t+i,e+n,t+i/2,e+n,t+i/2,"e"]},rect:function(e,t,n,i,r){return lt.prototype.symbols[c(r)&&r.r?"callout":"square"].call(0,e,t,n,i,r)}}};ie.VMLRenderer=We=function(){this.init.apply(this,arguments)},We.prototype=e(lt.prototype,ct),O=We}lt.prototype.measureSpanWidth=function(e,t){var n,i=re.createElement("span");return n=re.createTextNode(e),i.appendChild(n),p(i,t),this.box.appendChild(i),n=i.offsetWidth,_(i),n};var ut;Te&&(ie.CanVGRenderer=We=function(){_e="http://www.w3.org/1999/xhtml"},We.prototype.symbols={},ut=function(){function e(){var e,n=t.length;for(e=0;e<n;e++)t[e]();t=[]}var t=[];return{push:function(n,i){0===t.length&&ze(i,e),t.push(n)}}}(),O=We),D.prototype={addLabel:function(){var t,n=this.axis,i=n.options,r=n.chart,o=n.categories,a=n.names,l=this.pos,u=i.labels,d=n.tickPositions,p=l===d[0],h=l===d[d.length-1],a=o?Be(o[l],a[l],l):l,o=this.label,d=d.info;n.isDatetimeAxis&&d&&(t=i.dateTimeLabelFormats[d.higherRanks[l]||d.unitName]),this.isFirst=p,this.isLast=h,i=n.labelFormatter.call({axis:n,chart:r,isFirst:p,isLast:h,dateTimeLabelFormat:t,value:n.isLog?S(s(a)):a}),c(o)?o&&o.attr({text:i}):(this.labelLength=(this.label=o=c(i)&&u.enabled?r.renderer.text(i,0,0,u.useHTML).css(e(u.style)).add(n.labelGroup):null)&&o.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t,n=this.axis,i=e.x,r=n.chart.chartWidth,o=n.chart.spacing,a=Be(n.labelLeft,de(n.pos,o[3])),o=Be(n.labelRight,ue(n.pos+n.len,r-o[1])),s=this.label,l=this.rotation,c={left:0,center:.5,right:1}[n.labelAlign],u=s.getBBox().width,d=n.slotWidth,p=1,h={};l?l<0&&i-c*u<a?t=se(i/he(l*ge)-a):l>0&&i+c*u>o&&(t=se((r-i)/he(l*ge))):(r=i+(1-c)*u,i-c*u<a?d=e.x+d*(1-c)-a:r>o&&(d=o-e.x+d*c,p=-1),d=de(n.slotWidth,d),d<n.slotWidth&&"center"===n.labelAlign&&(e.x+=p*(n.slotWidth-d-c*(n.slotWidth-de(u,d)))),(u>d||n.autoRotation&&s.styles.width)&&(t=d)),t&&(h.width=t,n.options.labels.style.textOverflow||(h.textOverflow="ellipsis"),s.css(h))},getPosition:function(e,t,n,i){var r=this.axis,o=r.chart,a=i&&o.oldChartHeight||o.chartHeight;return{x:e?r.translate(t+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:e?a-r.bottom+r.offset-(r.opposite?r.height:0):a-r.translate(t+n,null,null,i)-r.transB}},getLabelPosition:function(e,t,n,i,r,o,a,s){var l=this.axis,c=l.transA,u=l.reversed,d=l.staggerLines,p=l.tickRotCorr||{x:0,y:0},n=Be(r.y,p.y+(2===l.side?8:-(n.getBBox().height/2))),e=e+r.x+p.x-(o&&i?o*c*(u?-1:1):0),t=t+n-(o&&!i?o*c*(u?1:-1):0);return d&&(t+=a/(s||1)%d*(l.labelOffset/d)),{x:e,y:se(t)}},getMarkPath:function(e,t,n,i,r,o){return o.crispLine(["M",e,t,"L",e+(r?0:-n),t+(r?n:0)],i)},render:function(e,t,n){var i=this.axis,r=i.options,o=i.chart.renderer,a=i.horiz,s=this.type,l=this.label,c=this.pos,u=r.labels,d=this.gridLine,p=s?s+"Grid":"grid",h=s?s+"Tick":"tick",f=r[p+"LineWidth"],m=r[p+"LineColor"],g=r[p+"LineDashStyle"],v=r[h+"Length"],p=Be(r[h+"Width"],!s&&i.isXAxis?1:0),y=r[h+"Color"],b=r[h+"Position"],h=this.mark,w=u.step,x=!0,$=i.tickmarkOffset,k=this.getPosition(a,c,$,t),_=k.x,k=k.y,C=a&&_===i.pos+i.len||!a&&k===i.pos?-1:1,n=Be(n,1);this.isActive=!0,f&&(c=i.getPlotLinePath(c+$,f*C,t,!0),d===P&&(d={stroke:m,"stroke-width":f},g&&(d.dashstyle=g),s||(d.zIndex=1),t&&(d.opacity=0),this.gridLine=d=f?o.path(c).attr(d).add(i.gridGroup):null),!t&&d&&c&&d[this.isNew?"attr":"animate"]({d:c,opacity:n})),p&&v&&("inside"===b&&(v=-v),i.opposite&&(v=-v),s=this.getMarkPath(_,k,v,p*C,a,o),h?h.animate({d:s,opacity:n}):this.mark=o.path(s).attr({stroke:y,"stroke-width":p,opacity:n}).add(i.axisGroup)),l&&!isNaN(_)&&(l.xy=k=this.getLabelPosition(_,k,l,a,u,$,e,w),this.isFirst&&!this.isLast&&!Be(r.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Be(r.showLastLabel,1)?x=!1:a&&!i.isRadial&&!u.step&&!u.rotation&&!t&&0!==n&&this.handleOverflow(k),w&&e%w&&(x=!1),x&&!isNaN(k.y)?(k.opacity=n,l[this.isNew?"attr":"animate"](k),this.isNew=!1):l.attr("y",-9999))},destroy:function(){k(this,this.axis)}},ie.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},ie.PlotLineOrBand.prototype={render:function(){var t,n=this,i=n.axis,r=i.horiz,o=n.options,s=o.label,l=n.label,u=o.width,d=o.to,p=o.from,h=c(p)&&c(d),f=o.value,m=o.dashStyle,g=n.svgElem,v=[],y=o.color,b=o.zIndex,w=o.events,k={},_=i.chart.renderer;if(i.isLog&&(p=a(p),d=a(d),f=a(f)),u)v=i.getPlotLinePath(f,u),k={stroke:y,"stroke-width":u},m&&(k.dashstyle=m);else{if(!h)return;v=i.getPlotBandPath(p,d,o),y&&(k.fill=y),o.borderWidth&&(k.stroke=o.borderColor,k["stroke-width"]=o.borderWidth)}if(c(b)&&(k.zIndex=b),g)v?g.animate({d:v},null,g.onGetPath):(g.hide(),g.onGetPath=function(){g.show()},l&&(n.label=l=l.destroy()));else if(v&&v.length&&(n.svgElem=g=_.path(v).attr(k).add(),w))for(t in o=function(e){g.on(e,function(t){w[e].apply(n,[t])})},w)o(t);return s&&c(s.text)&&v&&v.length&&i.width>0&&i.height>0?(s=e({align:r&&h&&"center",x:r?!h&&4:10,verticalAlign:!r&&h&&"middle",y:r?h?16:10:h?6:-4,rotation:r&&!h&&90},s),l||(k={align:s.textAlign||s.align,rotation:s.rotation},c(b)&&(k.zIndex=b),n.label=l=_.text(s.text,0,0,s.useHTML).attr(k).css(s.style).add()),i=[v[1],v[4],h?v[6]:v[1]],h=[v[2],v[5],h?v[7]:v[2]],v=x(i),r=x(h),l.align(s,!1,{x:v,y:r,width:$(i)-v,height:$(h)-r}),l.show()):l&&l.hide(),n},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,k(this)}};var dt=ie.Axis=function(){this.init.apply(this,arguments)};dt.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return ie.numberFormat(this.total,-1)},style:e(it.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(e,t){var n=t.isX;this.chart=e,this.horiz=e.inverted?!n:n,this.coll=(this.isXAxis=n)?"xAxis":"yAxis",this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var i=this.options,r=i.type;this.labelFormatter=i.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.reversed=i.reversed,this.visible=i.visible!==!1,this.zoomEnabled=i.zoomEnabled!==!1,this.categories=i.categories||"category"===r,this.names=this.names||[],this.isLog="logarithmic"===r,this.isDatetimeAxis="datetime"===r,this.isLinked=c(i.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=i.minRange||i.maxZoom,this.range=i.range,this.offset=i.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=Be(i.crosshair,d(e.options.tooltip.crosshairs)[n?0:1],!1);var o,i=this.options.events;Ke(this,e.axes)===-1&&(n&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&n&&this.reversed===P&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in i)Ze(this,o,i[o]);this.isLog&&(this.val2lin=a,this.lin2val=s)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(L[this.coll],t))},defaultLabelFormatter:function(){var e,t=this.axis,n=this.value,i=t.categories,r=this.dateTimeLabelFormat,o=L.lang.numericSymbols,a=o&&o.length,s=t.options.labels.format,t=t.isLog?n:t.tickInterval;if(s)e=v(s,this);else if(i)e=n;else if(r)e=F(r,n);else if(a&&t>=1e3)for(;a--&&e===P;)i=Math.pow(1e3,a+1),t>=i&&10*n%i===0&&null!==o[a]&&(e=ie.numberFormat(n/i,-1)+o[a]);return e===P&&(e=pe(n)>=1e4?ie.numberFormat(n,-1):ie.numberFormat(n,-1,P,"")),e},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),Ve(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var i,r=n.options,o=r.threshold;e.hasVisibleSeries=!0,e.isLog&&o<=0&&(o=null),e.isXAxis?(r=n.xData,r.length&&(e.dataMin=de(Be(e.dataMin,r[0]),x(r)),e.dataMax=ue(Be(e.dataMax,r[0]),$(r)))):(n.getExtremes(),i=n.dataMax,n=n.dataMin,c(n)&&c(i)&&(e.dataMin=de(Be(e.dataMin,n),n),e.dataMax=ue(Be(e.dataMax,i),i)),c(o)&&(e.threshold=o),r.softThreshold&&!e.isLog||(e.softThreshold=!1))}})},translate:function(e,t,n,i,r,a){var s=this.linkedParent||this,l=1,c=0,u=i?s.oldTransA:s.transA,i=i?s.oldMin:s.min,d=s.minPixelPadding,r=(s.doPostTranslate||s.isLog&&r)&&s.lin2val;return u||(u=s.transA),n&&(l*=-1,c=s.len),s.reversed&&(l*=-1,c-=l*(s.sector||s.len)),t?(e=e*l+c,e-=d,e=e/u+i,r&&(e=s.lin2val(e))):(r&&(e=s.val2lin(e)),"between"===a&&(a=.5),e=l*(e-i)*u+c+l*d+(o(a)?u*a*s.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,i,r){var o,a,s,l=this.chart,c=this.left,u=this.top,d=n&&l.oldChartHeight||l.chartHeight,p=n&&l.oldChartWidth||l.chartWidth;o=this.transB;var h=function(e,t,n){return(e<t||e>n)&&(i?e=de(ue(t,e),n):s=!0),e},r=Be(r,this.translate(e,null,null,n)),e=n=se(r+o);return o=a=se(d-r-o),isNaN(r)?s=!0:this.horiz?(o=u,a=d-this.bottom,e=n=h(e,c,c+this.width)):(e=c,n=p-this.right,o=a=h(o,u,u+this.height)),s&&!i?null:l.renderer.crispLine(["M",e,o,"L",n,a],t||1)},getLinearTickPositions:function(e,t,n){var i,r=S(le(t/e)*e),a=S(ce(n/e)*e),s=[];if(t===n&&o(t))return[t];for(t=r;t<=a&&(s.push(t),t=S(t+e),t!==i);)i=t;return s},getMinorTickPositions:function(){var e,t=this.options,n=this.tickPositions,i=this.minorTickInterval,r=[],o=this.pointRangePadding||0;e=this.min-o;var o=this.max+o,a=o-e;if(a&&a/i<this.len/3)if(this.isLog)for(o=n.length,e=1;e<o;e++)r=r.concat(this.getLogTickPositions(i,n[e-1],n[e],!0));else if(this.isDatetimeAxis&&"auto"===t.minorTickInterval)r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(i),e,o,t.startOfWeek));else for(n=e+(n[0]-e)%i;n<=o;n+=i)r.push(n);return 0!==r.length&&this.trimTicks(r,t.startOnTick,t.endOnTick),r},adjustForMinRange:function(){var e,t,n,i,r,o,a,s=this.options,l=this.min,u=this.max,d=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&this.minRange===P&&!this.isLog&&(c(s.min)||c(s.max)?this.minRange=null:(Ve(this.series,function(e){for(r=e.xData,n=o=e.xIncrement?1:r.length-1;n>0;n--)i=r[n]-r[n-1],(t===P||i<t)&&(t=i)}),this.minRange=de(5*t,this.dataMax-this.dataMin))),u-l<this.minRange&&(a=this.minRange,e=(a-u+l)/2,e=[l-e,Be(s.min,l-e)],d&&(e[2]=this.dataMin),l=$(e),u=[l+a,Be(s.max,l+a)],d&&(u[2]=this.dataMax),u=x(u),u-l<a&&(e[0]=u-a,e[1]=Be(s.min,u-a),l=$(e))),this.min=l,this.max=u},setAxisTranslation:function(e){var t,i=this,r=i.max-i.min,o=i.axisPointRange||0,a=0,s=0,l=i.linkedParent,u=!!i.categories,d=i.transA,p=i.isXAxis;(p||u||o)&&(l?(a=l.minPointOffset,s=l.pointRangePadding):Ve(i.series,function(e){var r=u?1:p?e.pointRange:i.axisPointRange||0,l=e.options.pointPlacement,d=e.closestPointRange;o=ue(o,r),i.single||(a=ue(a,n(l)?0:r/2),s=ue(s,"on"===l?0:r)),!e.noSharedTooltip&&c(d)&&(t=c(t)?de(t,d):d)}),l=i.ordinalSlope&&t?i.ordinalSlope/t:1,i.minPointOffset=a*=l,i.pointRangePadding=s*=l,i.pointRange=de(o,r),p&&(i.closestPointRange=t)),e&&(i.oldTransA=d),i.translationSlope=i.transA=d=i.len/(r+s||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=d*a},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var t,n,i,r,s=this,l=s.chart,u=s.options,d=s.isLog,p=s.isDatetimeAxis,h=s.isXAxis,f=s.isLinked,m=u.maxPadding,g=u.minPadding,v=u.tickInterval,w=u.tickPixelInterval,x=s.categories,$=s.threshold,k=s.softThreshold;!p&&!x&&!f&&this.getTickAmount(),i=Be(s.userMin,u.min),r=Be(s.userMax,u.max),f?(s.linkedParent=l[s.coll][u.linkedTo],l=s.linkedParent.getExtremes(),s.min=Be(l.min,l.dataMin),s.max=Be(l.max,l.dataMax),u.type!==s.linkedParent.options.type&&C(11,1)):(!k&&c($)&&(s.dataMin>=$?(t=$,g=0):s.dataMax<=$&&(n=$,m=0)),s.min=Be(i,t,s.dataMin),s.max=Be(r,n,s.dataMax)),d&&(!e&&de(s.min,Be(s.dataMin,s.min))<=0&&C(10,1),s.min=S(a(s.min),15),s.max=S(a(s.max),15)),s.range&&c(s.max)&&(s.userMin=s.min=i=ue(s.min,s.minFromRange()),s.userMax=r=s.max,s.range=null),s.beforePadding&&s.beforePadding(),s.adjustForMinRange(),x||s.axisPointRange||s.usePercentage||f||!c(s.min)||!c(s.max)||!(l=s.max-s.min)||(!c(i)&&g&&(s.min-=l*g),!c(r)&&m&&(s.max+=l*m)),o(u.floor)&&(s.min=ue(s.min,u.floor)),o(u.ceiling)&&(s.max=de(s.max,u.ceiling)),k&&c(s.dataMin)&&($=$||0,!c(i)&&s.min<$&&s.dataMin>=$?s.min=$:!c(r)&&s.max>$&&s.dataMax<=$&&(s.max=$)),s.tickInterval=s.min===s.max||void 0===s.min||void 0===s.max?1:f&&!v&&w===s.linkedParent.options.tickPixelInterval?v=s.linkedParent.tickInterval:Be(v,this.tickAmount?(s.max-s.min)/ue(this.tickAmount-1,1):void 0,x?1:(s.max-s.min)*w/ue(s.len,w)),h&&!e&&Ve(s.series,function(e){e.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(!0),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),s.pointRange&&(s.tickInterval=ue(s.pointRange,s.tickInterval)),e=Be(u.minTickInterval,s.isDatetimeAxis&&s.closestPointRange),!v&&s.tickInterval<e&&(s.tickInterval=e),p||d||v||(s.tickInterval=b(s.tickInterval,null,y(s.tickInterval),Be(u.allowDecimals,!(s.tickInterval>.5&&s.tickInterval<5&&s.max>1e3&&s.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(s.tickInterval=s.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,t,n=this.options,i=n.tickPositions,r=n.tickPositioner,o=n.startOnTick,a=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n.minorTickInterval&&this.tickInterval?this.tickInterval/5:n.minorTickInterval,this.tickPositions=e=i&&i.slice(),!e&&(e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&(e=[e[0],e.pop()]),this.tickPositions=e,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=e=r),this.isLinked||(this.trimTicks(e,o,a),this.min===this.max&&c(this.min)&&!this.tickAmount&&(t=!0,this.min-=.5,this.max+=.5),this.single=t,!i&&!r&&this.adjustTickAmount())},trimTicks:function(e,t,n){var i=e[0],r=e[e.length-1],o=this.minPointOffset||0;t?this.min=i:this.min-o>i&&e.shift(),n?this.max=r:this.max+o<r&&e.pop(),0===e.length&&c(i)&&e.push((r+i)/2)},getTickAmount:function(){var e,t={},n=this.options,i=n.tickAmount,r=n.tickPixelInterval;!c(n.tickInterval)&&this.len<r&&!this.isRadial&&!this.isLog&&n.startOnTick&&n.endOnTick&&(i=2),!i&&this.chart.options.chart.alignTicks!==!1&&n.alignTicks!==!1&&(Ve(this.chart[this.coll],function(n){var i=n.options,r=n.horiz,i=[r?i.left:i.top,r?i.width:i.height,i.pane].join(",");n.series.length&&(t[i]?e=!0:t[i]=1)}),e&&(i=ce(this.len/r)+1)),i<4&&(this.finalTickAmt=i,i=5),this.tickAmount=i},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,r=t&&t.length;if(r<n){for(;t.length<n;)t.push(S(t[t.length-1]+e));this.transA*=(r-1)/(n-1),this.max=t[t.length-1]}else r>n&&(this.tickInterval*=2,this.setTickPositions());if(c(i)){for(e=n=t.length;e--;)(3===i&&e%2===1||i<=2&&e>0&&e<n-1)&&t.splice(e,1);this.finalTickAmt=P}},setScale:function(){var e,t;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),t=this.len!==this.oldAxisLength,Ve(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(e=!0)}),t||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(e,t,n,i,r){var o=this,a=o.chart,n=Be(n,!0);Ve(o.series,function(e){delete e.kdTree}),r=Ue(r,{min:e,max:t}),Je(o,"setExtremes",r,function(){o.userMin=e,o.userMax=t,o.eventArgs=r,n&&a.redraw(i)})},zoom:function(e,t){var n=this.dataMin,i=this.dataMax,r=this.options,o=de(n,Be(r.min,n)),r=ue(i,Be(r.max,i));return this.allowZoomOutside||(c(n)&&e<=o&&(e=o),c(i)&&t>=r&&(t=r)),this.displayBtn=e!==P||t!==P,this.setExtremes(e,t,!1,P,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,i=this.horiz,r=Be(t.width,e.plotWidth-n+(t.offsetRight||0)),o=Be(t.height,e.plotHeight),a=Be(t.top,e.plotTop),t=Be(t.left,e.plotLeft+n),n=/%$/;n.test(o)&&(o=parseFloat(o)/100*e.plotHeight),n.test(a)&&(a=parseFloat(a)/100*e.plotHeight+e.plotTop),this.left=t,this.top=a,this.width=r,this.height=o,this.bottom=e.chartHeight-o-a,this.right=e.chartWidth-r-t,this.len=ue(i?r:o,0),this.pos=i?t:a},getExtremes:function(){var e=this.isLog;return{min:e?S(s(this.min)):this.min,max:e?S(s(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=t?s(this.min):this.min,t=t?s(this.max):this.max;return null===e?e=t<0?t:n:n>e?e=n:t<e&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(Be(e,0)-90*this.side+720)%360,e>15&&e<165?"right":e>195&&e<345?"left":"center"},unsquish:function(){var e,t,n,i=this.ticks,r=this.options.labels,o=this.horiz,a=this.tickInterval,s=a,l=this.len/(((this.categories?1:0)+this.max-this.min)/a),u=r.rotation,d=this.chart.renderer.fontMetrics(r.style.fontSize,i[0]&&i[0].label),p=Number.MAX_VALUE,h=function(e){return e/=l||1,e=e>1?ce(e):1,e*a};return o?(n=!r.staggerLines&&!r.step&&(c(u)?[u]:l<Be(r.autoRotationLimit,80)&&r.autoRotation))&&Ve(n,function(n){var i;(n===u||n&&n>=-90&&n<=90)&&(t=h(pe(d.h/fe(ge*n))),i=t+pe(n/360),i<p&&(p=i,e=n,s=t))}):r.step||(s=h(d.h)),this.autoRotation=n,this.labelRotation=Be(e,u),s},renderUnsquish:function(){var t,i=this.chart,r=i.renderer,o=this.tickPositions,a=this.ticks,s=this.options.labels,l=this.horiz,c=i.margin,u=this.categories?o.length:o.length-1,d=this.slotWidth=l&&!s.step&&!s.rotation&&(this.staggerLines||1)*i.plotWidth/u||!l&&(c[3]&&c[3]-i.spacing[3]||.33*i.chartWidth),p=ue(1,se(d-2*(s.padding||5))),h={},c=r.fontMetrics(s.style.fontSize,a[0]&&a[0].label),u=s.style.textOverflow,f=0;if(n(s.rotation)||(h.rotation=s.rotation||0),this.autoRotation)Ve(o,function(e){(e=a[e])&&e.labelLength>f&&(f=e.labelLength)}),f>p&&f>c.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(d&&(t={width:p+"px"},!u))for(t.textOverflow="clip",d=o.length;!l&&d--;)p=o[d],(p=a[p].label)&&("ellipsis"===p.styles.textOverflow&&p.css({textOverflow:"clip"}),p.getBBox().height>this.len/o.length-(c.h-c.f)&&(p.specCss={textOverflow:"ellipsis"}));h.rotation&&(t={width:(f>.5*i.chartHeight?.33*i.chartHeight:i.chartHeight)+"px"},!u)&&(t.textOverflow="ellipsis"),this.labelAlign=h.align=s.align||this.autoLabelAlign(this.labelRotation),Ve(o,function(n){var i=(n=a[n])&&n.label;i&&(i.attr(h),t&&i.css(e(t,i.specCss)),delete i.specCss,n.rotation=h.rotation)}),this.tickRotCorr=r.rotCorr(c.b,this.labelRotation||0,2===this.side)},hasData:function(){return this.hasVisibleSeries||c(this.min)&&c(this.max)&&!!this.tickPositions},getOffset:function(){var e,t,n,i,r=this,o=r.chart,a=o.renderer,s=r.options,l=r.tickPositions,u=r.ticks,d=r.horiz,p=r.side,h=o.inverted?[1,0,3,2][p]:p,f=0,m=0,g=s.title,v=s.labels,y=0,b=o.axisOffset,o=o.clipOffset,w=[-1,1,1,-1][p],x=r.axisParent;if(e=r.hasData(),r.showAxis=t=e||Be(s.showEmpty,!0),r.staggerLines=r.horiz&&v.staggerLines,r.axisGroup||(r.gridGroup=a.g("grid").attr({zIndex:s.gridZIndex||1}).add(x),r.axisGroup=a.g("axis").attr({zIndex:s.zIndex||2}).add(x),r.labelGroup=a.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels").add(x)),e||r.isLinked)Ve(l,function(e){u[e]?u[e].addLabel():u[e]=new D(r,e)}),r.renderUnsquish(),Ve(l,function(e){0!==p&&2!==p&&{1:"left",3:"right"}[p]!==r.labelAlign||(y=ue(u[e].getLabelSize(),y))}),r.staggerLines&&(y*=r.staggerLines,r.labelOffset=y);else for(i in u)u[i].destroy(),delete u[i];g&&g.text&&g.enabled!==!1&&(r.axisTitle||(r.axisTitle=a.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:g.textAlign||{low:"left",middle:"center",high:"right"}[g.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(g.style).add(r.axisGroup),r.axisTitle.isNew=!0),t&&(f=r.axisTitle.getBBox()[d?"height":"width"],n=g.offset,m=c(n)?0:Be(g.margin,d?5:10)),r.axisTitle[t?"show":"hide"]()),r.offset=w*Be(s.offset,b[p]),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},a=2===p?r.tickRotCorr.y:0,d=y+m+(y&&w*(d?Be(v.y,r.tickRotCorr.y+8):v.x)-a),r.axisTitleMargin=Be(n,d),b[p]=ue(b[p],r.axisTitleMargin+f+w*r.offset,d),s=s.offset?0:2*le(s.lineWidth/2),o[h]=ue(o[h],s)},getLinePath:function(e){var t=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i,i=t.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(e*=-1),t.renderer.crispLine(["M",r?this.left:o,r?i:this.top,"L",r?t.chartWidth-this.right:o,r?i:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,n=this.left,i=this.top,r=this.len,o=this.options.title,a=e?n:i,s=this.opposite,l=this.offset,c=o.x||0,u=o.y||0,d=t(o.style.fontSize||12),r={low:a+(e?0:r),middle:a+r/2,high:a+(e?r:0)}[o.align],n=(e?i+this.height:n)+(e?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?d:0);return{x:e?r+c:n+(s?this.width:0)+l+c,y:e?n+u-(s?this.height:0)+l:r+u}},render:function(){var e,t,n,i=this,r=i.chart,o=r.renderer,a=i.options,l=i.isLog,u=i.isLinked,d=i.tickPositions,p=i.axisTitle,h=i.ticks,f=i.minorTicks,m=i.alternateBands,g=a.stackLabels,v=a.alternateGridColor,y=i.tickmarkOffset,b=a.lineWidth,w=r.hasRendered&&c(i.oldMin)&&!isNaN(i.oldMin),x=i.showAxis,$=o.globalAnimation;i.labelEdge.length=0,i.overlap=!1,Ve([h,f,m],function(e){for(var t in e)e[t].isActive=!1}),(i.hasData()||u)&&(i.minorTickInterval&&!i.categories&&Ve(i.getMinorTickPositions(),function(e){f[e]||(f[e]=new D(i,e,"minor")),w&&f[e].isNew&&f[e].render(null,!0),f[e].render(null,!1,1)}),d.length&&(Ve(d,function(e,t){(!u||e>=i.min&&e<=i.max)&&(h[e]||(h[e]=new D(i,e)),w&&h[e].isNew&&h[e].render(t,!0,.1),h[e].render(t))}),y&&(0===i.min||i.single))&&(h[-1]||(h[-1]=new D(i,-1,null,!0)),h[-1].render(-1)),v&&Ve(d,function(e,r){n=d[r+1]!==P?d[r+1]+y:i.max-y,r%2===0&&e<i.max&&n<=i.max-y&&(m[e]||(m[e]=new ie.PlotLineOrBand(i)),t=e+y,m[e].options={from:l?s(t):t,to:l?s(n):n,color:v},m[e].render(),m[e].isActive=!0)}),i._addedPlotLB||(Ve((a.plotLines||[]).concat(a.plotBands||[]),function(e){i.addPlotBandOrLine(e)}),i._addedPlotLB=!0)),Ve([h,f,m],function(e){var t,n,i=[],o=$?$.duration||500:0,a=function(){for(n=i.length;n--;)e[i[n]]&&!e[i[n]].isActive&&(e[i[n]].destroy(),delete e[i[n]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,i.push(t));e!==m&&r.hasRendered&&o?o&&setTimeout(a,o):a()}),b&&(e=i.getLinePath(b),i.axisLine?i.axisLine.animate({d:e}):i.axisLine=o.path(e).attr({stroke:a.lineColor,"stroke-width":b,zIndex:7}).add(i.axisGroup),i.axisLine[x?"show":"hide"]()),p&&x&&(p[p.isNew?"attr":"animate"](i.getTitlePosition()),p.isNew=!1),g&&g.enabled&&i.renderStackTotals(),i.isDirty=!1},redraw:function(){this.visible&&(this.render(),Ve(this.plotLinesAndBands,function(e){e.render()})),Ve(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t,n=this,i=n.stacks,r=n.plotLinesAndBands;e||Qe(n);for(t in i)k(i[t]),i[t]=null;for(Ve([n.ticks,n.minorTicks,n.alternateBands],function(e){k(e)}),e=r.length;e--;)r[e].destroy();Ve("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(e){n[e]&&(n[e]=n[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){var n,i=this.crosshair,r=i.animation;!this.crosshair||(c(t)||!Be(this.crosshair.snap,!0))===!1||t&&t.series&&t.series[this.coll]!==this?this.hideCrosshair():(Be(i.snap,!0)?c(t)&&(n=this.isXAxis?t.plotX:this.len-t.plotY):n=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,n=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:Be(t.stackY,t.y))||null:this.getPlotLinePath(null,null,null,null,n)||null,null===n?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[r?"animate":"attr"]({d:n},r):(r=this.categories&&!this.isRadial,r={"stroke-width":i.width||(r?this.transA:1),stroke:i.color||(r?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:i.zIndex||2},i.dashStyle&&(r.dashstyle=i.dashStyle),this.cross=this.chart.renderer.path(n).attr(r).add()))},hideCrosshair:function(){this.cross&&this.cross.hide()}},Ue(dt.prototype,{getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t,null,null,!0),i=this.getPlotLinePath(e,null,null,!0);return i&&n&&i.toString()!==n.toString()?i.push(n[4],n[5],n[1],n[2]):i=null,i},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=new ie.PlotLineOrBand(this,e).render(),i=this.userOptions;return n&&(t&&(i[t]=i[t]||[],i[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=t.length;r--;)t[r].id===e&&t[r].destroy();Ve([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(t){for(r=t.length;r--;)t[r].id===e&&l(t,t[r])})}}),dt.prototype.getTimeTicks=function(e,t,n,i){var r,o=[],a={},s=L.global.useUTC,l=new B(t-g(t)),u=e.unitRange,d=e.count;if(c(t)){l[X](u>=U.second?0:d*le(l.getMilliseconds()/d)),u>=U.second&&l[Z](u>=U.minute?0:d*le(l.getSeconds()/d)),u>=U.minute&&l[Q](u>=U.hour?0:d*le(l[q]()/d)),u>=U.hour&&l[J](u>=U.day?0:d*le(l[z]()/d)),u>=U.day&&l[ee](u>=U.month?1:d*le(l[V]()/d)),u>=U.month&&(l[te](u>=U.year?0:d*le(l[G]()/d)),r=l[Y]()),u>=U.year&&(r-=r%d,l[ne](r)),u===U.week&&l[ee](l[V]()-l[K]()+Be(i,1)),t=1,(j||W)&&(l=l.getTime(),l=new B(l+g(l))),r=l[Y]();for(var i=l.getTime(),p=l[G](),h=l[V](),f=(U.day+(s?g(l):6e4*l.getTimezoneOffset()))%U.day;i<n;)o.push(i),u===U.year?i=H(r+t*d,0):u===U.month?i=H(r,p+t*d):s||u!==U.day&&u!==U.week?i+=u*d:i=H(r,p,h+t*d*(u===U.day?1:7)),t++;o.push(i),Ve(Ge(o,function(e){return u<=U.hour&&e%U.day===f}),function(e){a[e]="day"})}return o.info=Ue(e,{higherRanks:a,
totalRange:u*d}),o},dt.prototype.normalizeTimeTickInterval=function(e,t){var n,i=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=i[i.length-1],o=U[r[0]],a=r[1];for(n=0;n<i.length&&(r=i[n],o=U[r[0]],a=r[1],!(i[n+1]&&e<=(o*a[a.length-1]+U[i[n+1][0]])/2));n++);return o===U.year&&e<5*o&&(a=[1,2,5]),i=b(e/o,a,"year"===r[0]?ue(y(e/o),1):1),{unitRange:o,count:i,unitName:r[0]}},dt.prototype.getLogTickPositions=function(e,t,n,i){var r=this.options,o=this.len,l=[];if(i||(this._minorAutoInterval=null),e>=.5)e=se(e),l=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var c,u,d,p,h,o=le(t),r=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<n+1&&!h;o++)for(u=r.length,c=0;c<u&&!h;c++)d=a(s(o)*r[c]),d>t&&(!i||p<=n)&&p!==P&&l.push(p),p>n&&(h=!0),p=d;else t=s(t),n=s(n),e=r[i?"minorTickInterval":"tickInterval"],e=Be("auto"===e?null:e,this._minorAutoInterval,(n-t)*(r.tickPixelInterval/(i?5:1))/((i?o/this.tickPositions.length:o)||1)),e=b(e,null,y(e)),l=Xe(this.getLinearTickPositions(e,t,n),a),i||(this._minorAutoInterval=e/5);return i||(this.tickInterval=e),l};var pt=ie.Tooltip=function(){this.init.apply(this,arguments)};pt.prototype={init:function(e,n){var i=n.borderWidth,r=n.style,o=t(r.padding);this.chart=e,this.options=n,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,n.shape||"callout",null,null,n.useHTML,null,"tooltip").attr({padding:o,fill:n.backgroundColor,"stroke-width":i,r:n.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-9999}),Te||this.label.shadow(n.shadow),this.shared=n.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,n,i){var r=this,o=r.now,a=r.options.animation!==!1&&!r.isHidden&&(pe(e-o.x)>1||pe(t-o.y)>1),s=r.followPointer||r.len>1;Ue(o,{x:a?(2*o.x+e)/3:e,y:a?(o.y+t)/2:t,anchorX:s?P:a?(2*o.anchorX+n)/3:n,anchorY:s?P:a?(o.anchorY+i)/2:i}),r.label.attr(o),a&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(e,t,n,i)},32))},hide:function(e){var t=this;clearTimeout(this.hideTimer),this.isHidden||(this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},Be(e,this.options.hideDelay,500)))},getAnchor:function(e,t){var n,i,r,o=this.chart,a=o.inverted,s=o.plotTop,l=o.plotLeft,c=0,u=0,e=d(e);return n=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===P&&(t=o.pointer.normalize(t)),n=[t.chartX-o.plotLeft,t.chartY-s]),n||(Ve(e,function(e){i=e.series.yAxis,r=e.series.xAxis,c+=e.plotX+(!a&&r?r.left-l:0),u+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!a&&i?i.top-s:0)}),c/=e.length,u/=e.length,n=[a?o.plotWidth-u:c,this.shared&&!a&&e.length>1&&t?t.chartY-s:a?o.plotHeight-c:u]),Xe(n,se)},getPosition:function(e,t,n){var i,r=this.chart,o=this.distance,a={},s=n.h||0,l=["y",r.chartHeight,t,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],c=["x",r.chartWidth,e,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],u=Be(n.ttBelow,r.inverted&&!n.negative||!r.inverted&&n.negative),d=function(e,t,n,i,r,l){var c=n<i-o,d=i+o+n<t,p=i-o-n;if(i+=o,u&&d)a[e]=i;else if(!u&&c)a[e]=p;else if(c)a[e]=de(l-n,p-s<0?p:p-s);else{if(!d)return!1;a[e]=ue(r,i+s+n>t?i:i+s)}},p=function(e,t,n,i){return!(i<o||i>t-o)&&void(a[e]=i<n/2?1:i>t-n/2?t-n-2:i-n/2)},h=function(e){var t=l;l=c,c=t,i=e},f=function(){d.apply(0,l)!==!1?p.apply(0,c)===!1&&!i&&(h(!0),f()):i?a.x=a.y=0:(h(!0),f())};return(r.inverted||this.len>1)&&h(),f(),a},defaultFormatter:function(e){var t,n=this.points||d(this);return t=[e.tooltipFooterHeaderFormatter(n[0])],t=t.concat(e.bodyFormatter(n)),t.push(e.tooltipFooterHeaderFormatter(n[0],!0)),t.join("")},refresh:function(e,t){var n,i,r,o,a=this.chart,s=this.label,l=this.options,c={},u=[];o=l.formatter||this.defaultFormatter;var p,c=a.hoverPoints,h=this.shared;clearTimeout(this.hideTimer),this.followPointer=d(e)[0].series.tooltipOptions.followPointer,r=this.getAnchor(e,t),n=r[0],i=r[1],!h||e.series&&e.series.noSharedTooltip?c=e.getLabelConfig():(a.hoverPoints=e,c&&Ve(c,function(e){e.setState()}),Ve(e,function(e){e.setState("hover"),u.push(e.getLabelConfig())}),c={x:e[0].category,y:e[0].y},c.points=u,this.len=u.length,e=e[0]),o=o.call(c,this),c=e.series,this.distance=Be(c.tooltipOptions.distance,16),o===!1?this.hide():(this.isHidden&&(nt(s),s.attr("opacity",1).show()),s.attr({text:o}),p=l.borderColor||e.color||c.color||"#606060",s.attr({stroke:p}),this.updatePosition({plotX:n,plotY:i,negative:e.negative,ttBelow:e.ttBelow,h:r[2]||0}),this.isHidden=!1),Je(a,"tooltipRefresh",{text:o,x:n+a.plotLeft,y:i+a.plotTop,borderColor:p})},updatePosition:function(e){var t=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(se(n.x),se(n.y||0),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,n){var i,r,o,t=t.dateTimeLabelFormats,a=n&&n.closestPointRange,s={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(a){o=F("%m-%d %H:%M:%S.%L",e.x);for(r in U){if(a===U.week&&+F("%w",e.x)===n.options.startOfWeek&&"00:00:00.000"===o.substr(6)){r="week";break}if(U[r]>a){r=l;break}if(s[r]&&o.substr(s[r])!=="01-01 00:00:00.000".substr(s[r]))break;"week"!==r&&(l=r)}r&&(i=t[r])}else i=t.day;return i||t.year},tooltipFooterHeaderFormatter:function(e,t){var n=t?"footer":"header",i=e.series,r=i.tooltipOptions,a=r.xDateFormat,s=i.xAxis,l=s&&"datetime"===s.options.type&&o(e.key),n=r[n+"Format"];return l&&!a&&(a=this.getXDateFormat(e,r,s)),l&&a&&(n=n.replace("{point.key}","{point.key:"+a+"}")),v(n,{point:e,series:i})},bodyFormatter:function(e){return Xe(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}};var ht;I=re.documentElement.ontouchstart!==P;var ft=ie.Pointer=function(e,t){this.init(e,t)};if(ft.prototype={init:function(e,t){var n,i=t.chart,r=i.events,o=Te?"":i.zoomType,i=e.inverted;this.options=t,this.chart=e,this.zoomX=n=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=n&&!i||o&&i,this.zoomVert=o&&!i||n&&i,this.hasZoom=n||o,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},ie.Tooltip&&t.tooltip.enabled&&(e.tooltip=new pt(e,t.tooltip),this.followTouchMove=Be(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,t){var n,i,e=e||window.event,e=et(e);return e.target||(e.target=e.srcElement),i=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,t||(this.chartPosition=t=Ye(this.chart.container)),i.pageX===P?(n=ue(e.x,e.clientX-t.left),i=e.y):(n=i.pageX-t.left,i=i.pageY-t.top),Ue(e,{chartX:se(n),chartY:se(i)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return Ve(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},runPointActions:function(e){var t,n,i,r,o,a=this.chart,s=a.series,l=a.tooltip,c=!!l&&l.shared,u=a.hoverPoint,d=a.hoverSeries,p=Number.MAX_VALUE,h=[];if(!c&&!d)for(t=0;t<s.length;t++)!s[t].directTouch&&s[t].options.stickyTracking||(s=[]);if(d&&(c?d.noSharedTooltip:d.directTouch)&&u?r=u:(Ve(s,function(t){n=t.noSharedTooltip&&c,i=!c&&t.directTouch,t.visible&&!n&&!i&&Be(t.options.enableMouseTracking,!0)&&(o=t.searchPoint(e,!n&&1===t.kdDimensions))&&h.push(o)}),Ve(h,function(e){e&&"number"==typeof e.dist&&e.dist<p&&(p=e.dist,r=e)})),r&&(r!==this.prevKDPoint||l&&l.isHidden)){if(c&&!r.series.noSharedTooltip){for(t=h.length;t--;)(h[t].clientX!==r.clientX||h[t].series.noSharedTooltip)&&h.splice(t,1);h.length&&l&&l.refresh(h,e),Ve(h,function(t){t.onMouseOver(e,t!==(d&&d.directTouch&&u||r))})}else l&&l.refresh(r,e),d&&d.directTouch||r.onMouseOver(e);this.prevKDPoint=r}else s=d&&d.tooltipOptions.followPointer,l&&s&&!l.isHidden&&(s=l.getAnchor([{}],e),l.updatePosition({plotX:s[0],plotY:s[1]}));l&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(e){Me[ht]&&Me[ht].pointer.onDocumentMouseMove(e)},Ze(re,"mousemove",this._onDocumentMouseMove)),Ve(a.axes,function(t){t.drawCrosshair(e,Be(r,u))})},reset:function(e,t){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.hoverPoints,a=n.tooltip,s=a&&a.shared?o:r;(e=e&&a&&s)&&d(s)[0].plotX===P&&(e=!1),e?(a.refresh(s),r&&(r.setState(r.state,!0),Ve(n.axes,function(e){Be(e.options.crosshair&&e.options.crosshair.snap,!0)?e.drawCrosshair(null,r):e.hideCrosshair()}))):(r&&r.onMouseOut(),o&&Ve(o,function(e){e.setState()}),i&&i.onMouseOut(),a&&a.hide(t),this._onDocumentMouseMove&&(Qe(re,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Ve(n.axes,function(e){e.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(e,t){var n,i=this.chart;Ve(i.series,function(r){n=e||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(t?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(t||i.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,n=this.chart,i=n.options.chart,r=e.chartX,o=e.chartY,a=this.zoomHor,s=this.zoomVert,l=n.plotLeft,c=n.plotTop,u=n.plotWidth,d=n.plotHeight,p=this.selectionMarker,h=this.mouseDownX,f=this.mouseDownY,m=i.panKey&&e[i.panKey+"Key"];p&&p.touch||(r<l?r=l:r>l+u&&(r=l+u),o<c?o=c:o>c+d&&(o=c+d),this.hasDragged=Math.sqrt(Math.pow(h-r,2)+Math.pow(f-o,2)),this.hasDragged>10&&(t=n.isInsidePlot(h-l,f-c),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!m&&!p&&(this.selectionMarker=p=n.renderer.rect(l,c,a?1:u,s?1:d,0).attr({fill:i.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),p&&a&&(r-=h,p.attr({width:pe(r),x:(r>0?0:r)+h})),p&&s&&(r=o-f,p.attr({height:pe(r),y:(r>0?0:r)+f})),t&&!p&&i.panning&&n.pan(e,i.panning)))},drop:function(e){var t=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,o={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},a=this.selectionMarker,s=a.attr?a.attr("x"):a.x,l=a.attr?a.attr("y"):a.y,u=a.attr?a.attr("width"):a.width,d=a.attr?a.attr("height"):a.height;(this.hasDragged||i)&&(Ve(n.axes,function(n){if(n.zoomEnabled&&c(n.min)&&(i||t[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var a=n.horiz,p="touchend"===e.type?n.minPixelPadding:0,h=n.toValue((a?s:l)+p),a=n.toValue((a?s+u:l+d)-p);o[n.coll].push({axis:n,min:de(h,a),max:ue(h,a)}),r=!0}}),r&&Je(n,"selection",o,function(e){n.zoom(Ue(e,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(p(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){Me[ht]&&Me[ht].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,e=this.normalize(e,n);n&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=Me[ht];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;ht=t.index,e=this.normalize(e),e.returnValue=!1,"mousedown"===t.mouseIsDown&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=u(e,"class")){if(n.indexOf(t)!==-1)return!0;if(n.indexOf("highcharts-container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,e=e.relatedTarget||e.toElement;!t||t.options.stickyTracking||this.inClass(e,"highcharts-tooltip")||this.inClass(e,"highcharts-series-"+t.index)||t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,i=t.plotLeft,r=t.plotTop,e=this.normalize(e);e.originalEvent=e,t.cancelClick||(n&&this.inClass(e.target,"highcharts-tracker")?(Je(n.series,"click",Ue(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(Ue(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-i,e.chartY-r)&&Je(t,"click",e)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},Ze(t,"mouseleave",e.onContainerMouseLeave),1===Pe&&Ze(re,"mouseup",e.onDocumentMouseUp),I&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},1===Pe&&Ze(re,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;Qe(this.chart.container,"mouseleave",this.onContainerMouseLeave),Pe||(Qe(re,"mouseup",this.onDocumentMouseUp),Qe(re,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},Ue(ie.Pointer.prototype,{pinchTranslate:function(e,t,n,i,r,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,i,r,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,i,r,o)},pinchTranslateDirection:function(e,t,n,i,r,o,a,s){var l,c,u,d=this.chart,p=e?"x":"y",h=e?"X":"Y",f="chart"+h,m=e?"width":"height",g=d["plot"+(e?"Left":"Top")],v=s||1,y=d.inverted,b=d.bounds[e?"h":"v"],w=1===t.length,x=t[0][f],$=n[0][f],k=!w&&t[1][f],_=!w&&n[1][f],n=function(){!w&&pe(x-k)>20&&(v=s||pe($-_)/pe(x-k)),c=(g-$)/v+x,l=d["plot"+(e?"Width":"Height")]/v};n(),t=c,t<b.min?(t=b.min,u=!0):t+l>b.max&&(t=b.max-l,u=!0),u?($-=.8*($-a[p][0]),w||(_-=.8*(_-a[p][1])),n()):a[p]=[$,_],y||(o[p]=c-g,o[m]=l),o=y?1/v:v,r[m]=l,r[p]=t,i[y?e?"scaleY":"scaleX":"scale"+h]=v,i["translate"+h]=o*g+($-o*x)},pinch:function(e){var t=this,n=t.chart,i=t.pinchDown,r=e.touches,o=r.length,a=t.lastValidTouch,s=t.hasZoom,l=t.selectionMarker,c={},u=1===o&&(t.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||t.runChartClick),d={};o>1&&(t.initiated=!0),s&&t.initiated&&!u&&e.preventDefault(),Xe(r,function(e){return t.normalize(e)}),"touchstart"===e.type?(Ve(r,function(e,t){i[t]={chartX:e.chartX,chartY:e.chartY}}),a.x=[i[0].chartX,i[1]&&i[1].chartX],a.y=[i[0].chartY,i[1]&&i[1].chartY],Ve(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],i=e.minPixelPadding,r=e.toPixels(Be(e.options.min,e.dataMin)),o=e.toPixels(Be(e.options.max,e.dataMax)),a=de(r,o),r=ue(r,o);t.min=de(e.pos,a-i),t.max=ue(e.pos+e.len,r+i)}}),t.res=!0):i.length&&(l||(t.selectionMarker=l=Ue({destroy:De,touch:!0},n.plotBox)),t.pinchTranslate(i,r,c,l,d,a),t.hasPinched=s,t.scaleGroups(c,d),!s&&t.followTouchMove&&1===o?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(e,t){var n=this.chart;ht=n.index,1===e.touches.length?(e=this.normalize(e),n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)&&!n.openMenu?(t&&this.runPointActions(e),this.pinch(e)):t&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(e){this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(e){Me[ht]&&Me[ht].pointer.drop(e)}}),oe.PointerEvent||oe.MSPointerEvent){var mt={},gt=!!oe.PointerEvent,vt=function(){var e,t=[];t.item=function(e){return this[e]};for(e in mt)mt.hasOwnProperty(e)&&t.push({pageX:mt[e].pageX,pageY:mt[e].pageY,target:mt[e].target});return t},yt=function(e,t,n,i){e=e.originalEvent||e,"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!Me[ht]||(i(e),i=Me[ht].pointer,i[t]({type:n,target:e.currentTarget,preventDefault:De,touches:vt()}))};Ue(ft.prototype,{onContainerPointerDown:function(e){yt(e,"onContainerTouchStart","touchstart",function(e){mt[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){yt(e,"onContainerTouchMove","touchmove",function(e){mt[e.pointerId]={pageX:e.pageX,pageY:e.pageY},mt[e.pointerId].target||(mt[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){yt(e,"onDocumentTouchEnd","touchend",function(e){delete mt[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,gt?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,gt?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(re,gt?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),He(ft.prototype,"init",function(e,t,n){e.call(this,t,n),this.hasZoom&&p(t.container,{"-ms-touch-action":Ie,"touch-action":Ie})}),He(ft.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Ze)}),He(ft.prototype,"destroy",function(e){this.batchMSEvents(Qe),e.call(this)})}var bt=ie.Legend=function(e,t){this.init(e,t)};bt.prototype={init:function(t,n){var i=this,r=n.itemStyle,o=n.itemMarginTop||0;this.options=n,n.enabled&&(i.itemStyle=r,i.itemHiddenStyle=e(r,n.itemHiddenStyle),i.itemMarginTop=o,i.padding=r=Be(n.padding,8),i.initialItemX=r,i.initialItemY=r-5,i.maxItemWidth=0,i.chart=t,i.itemHeight=0,i.symbolWidth=Be(n.symbolWidth,16),i.pages=[],i.render(),Ze(i.chart,"endResize",function(){i.positionCheckboxes()}))},colorizeItem:function(e,t){var n,i=this.options,r=e.legendItem,o=e.legendLine,a=e.legendSymbol,s=this.itemHiddenStyle.color,i=t?i.itemStyle.color:s,l=t?e.legendColor||e.color||"#CCC":s,s=e.options&&e.options.marker,c={fill:l};if(r&&r.css({fill:i,color:i}),o&&o.attr({stroke:l}),a){if(s&&a.isMarker)for(n in c.stroke=l,s=e.convertAttribs(s))r=s[n],r!==P&&(c[n]=r);a.attr(c)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,i=e._legendItemPos,r=i[0],i=i[1],o=e.checkbox;(e=e.legendGroup)&&e.element&&e.translate(t?r:this.legendWidth-r-2*n-4,i),o&&(o.x=r,o.y=i)},destroyItem:function(e){var t=e.checkbox;Ve(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&_(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t,n=this.group.alignAttr,i=this.clipHeight||this.legendHeight;n&&(t=n.translateY,Ve(this.allItems,function(r){var o,a=r.checkbox;a&&(o=t+a.y+(e||0)+3,p(a,{left:n.translateX+r.checkboxOffset+a.x-20+"px",top:o+"px",display:o>t-6&&o<t+i-6?"":Ie}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),n=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?v(t.labelFormat,e):t.labelFormatter.call(e)})},renderItem:function(t){var n=this.chart,i=n.renderer,r=this.options,o="horizontal"===r.layout,a=this.symbolWidth,s=r.symbolPadding,l=this.itemStyle,c=this.itemHiddenStyle,u=this.padding,d=o?Be(r.itemDistance,20):0,p=!r.rtl,h=r.width,f=r.itemMarginBottom||0,m=this.itemMarginTop,g=this.initialItemX,v=t.legendItem,y=t.series&&t.series.drawLegendSymbol?t.series:t,b=y.options,b=this.createCheckboxForItem&&b&&b.showCheckbox,w=r.useHTML;v||(t.legendGroup=i.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),t.legendItem=v=i.text("",p?a+s:-s,this.baseline||0,w).css(e(t.visible?l:c)).attr({align:p?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=i.fontMetrics(l.fontSize,v),this.baseline=this.fontMetrics.f+3+m,v.attr("y",this.baseline)),y.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,v,w,l,c),this.colorizeItem(t,t.visible),b&&this.createCheckboxForItem(t)),this.setText(t),i=v.getBBox(),a=t.checkboxOffset=r.itemWidth||t.legendItemWidth||a+s+i.width+d+(b?20:0),this.itemHeight=s=se(t.legendItemHeight||i.height),o&&this.itemX-g+a>(h||n.chartWidth-2*u-g-r.x)&&(this.itemX=g,this.itemY+=m+this.lastLineHeight+f,this.lastLineHeight=0),this.maxItemWidth=ue(this.maxItemWidth,a),this.lastItemY=m+this.itemY+f,this.lastLineHeight=ue(s,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],o?this.itemX+=a:(this.itemY+=m+s+f,this.lastLineHeight=s),this.offsetWidth=h||ue((o?this.itemX-g-d:a)+u,this.offsetWidth)},getAllItems:function(){var e=[];return Ve(this.chart.series,function(t){var n=t.options;Be(n.showInLegend,!c(n.linkedTo)&&P,!0)&&(e=e.concat(t.legendItems||("point"===n.legendType?t.data:t)))}),e},adjustMargins:function(e,t){var n=this.chart,i=this.options,r=i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0);this.display&&!i.floating&&Ve([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,a){o.test(r)&&!c(e[a])&&(n[Le[a]]=ue(n[Le[a]],n.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*i[a%2?"x":"y"]+Be(i.margin,12)+t[a]))})},render:function(){var e,t,n,i,r=this,o=r.chart,a=o.renderer,s=r.group,l=r.box,c=r.options,u=r.padding,d=c.borderWidth,p=c.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,s||(r.group=s=a.g("legend").attr({zIndex:7}).add(),r.contentGroup=a.g().attr({zIndex:1}).add(s),r.scrollGroup=a.g().add(r.contentGroup)),r.renderTitle(),e=r.getAllItems(),w(e,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),c.reversed&&e.reverse(),r.allItems=e,r.display=t=!!e.length,r.lastLineHeight=0,Ve(e,function(e){r.renderItem(e)}),n=(c.width||r.offsetWidth)+u,i=r.lastItemY+r.lastLineHeight+r.titleHeight,i=r.handleOverflow(i),i+=u,(d||p)&&(l?n>0&&i>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:n,height:i})),l.isNew=!1):(r.box=l=a.rect(0,0,n,i,c.borderRadius,d||0).attr({stroke:c.borderColor,"stroke-width":d||0,fill:p||Ie}).add(s).shadow(c.shadow),l.isNew=!0),l[t?"show":"hide"]()),r.legendWidth=n,r.legendHeight=i,Ve(e,function(e){r.positionItem(e)}),t&&s.align(Ue({width:n,height:i},c),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t,n,i=this,r=this.chart,o=r.renderer,a=this.options,s=a.y,s=r.spacingBox.height+("top"===a.verticalAlign?-s:s)-this.padding,l=a.maxHeight,c=this.clipRect,u=a.navigation,d=Be(u.animation,!0),p=u.arrowSize||12,h=this.nav,f=this.pages,m=this.padding,g=this.allItems,v=function(e){c.attr({height:e}),i.contentGroup.div&&(i.contentGroup.div.style.clip="rect("+m+"px,9999px,"+(m+e)+"px,0)")};return"horizontal"===a.layout&&(s/=2),l&&(s=de(s,l)),f.length=0,e>s?(this.clipHeight=t=ue(s-20-this.titleHeight-m,0),this.currentPage=Be(this.currentPage,1),this.fullHeight=e,Ve(g,function(e,i){var r=e._legendItemPos[1],o=se(e.legendItem.getBBox().height),a=f.length;(!a||r-f[a-1]>t&&(n||r)!==f[a-1])&&(f.push(n||r),a++),i===g.length-1&&r+o-f[a-1]>t&&f.push(r),r!==n&&(n=r)}),c||(c=i.clipRect=o.clipRect(0,m,9999,0),i.contentGroup.clip(c)),v(t),h||(this.nav=h=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,p,p).on("click",function(){i.scroll(-1,d)}).add(h),this.pager=o.text("",15,10).css(u.style).add(h),this.down=o.symbol("triangle-down",0,0,p,p).on("click",function(){i.scroll(1,d)}).add(h)),i.scroll(0),e=s):h&&(v(r.chartHeight),h.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pages,i=n.length,r=this.currentPage+e,o=this.clipHeight,a=this.options.navigation,s=a.activeColor,a=a.inactiveColor,l=this.pager,c=this.padding;r>i&&(r=i),r>0&&(t!==P&&T(t,this.chart),this.nav.attr({translateX:c,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===r?a:s}).css({cursor:1===r?"default":"pointer"}),l.attr({text:r+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===i?a:s}).css({cursor:r===i?"default":"pointer"}),n=-n[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=r,this.positionCheckboxes(n))}},ct=ie.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||e.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-n+1,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t,n=this.options,i=n.marker;t=e.symbolWidth;var r,o=this.chart.renderer,a=this.legendGroup,e=e.baseline-se(.3*e.fontMetrics.b);n.lineWidth&&(r={"stroke-width":n.lineWidth},n.dashStyle&&(r.dashstyle=n.dashStyle),this.legendLine=o.path(["M",0,e,"L",t,e]).attr(r).add(a)),i&&i.enabled!==!1&&(n=i.radius,this.legendSymbol=t=o.symbol(this.symbol,t/2-n,e-n,2*n,2*n).add(a),t.isMarker=!0)}},(/Trident\/7\.0/.test(ve)||$e)&&He(bt.prototype,"positionItem",function(e,t){var n=this,i=function(){t._legendItemPos&&e.call(n,t)};i(),setTimeout(i)}),We=ie.Chart=function(){this.init.apply(this,arguments)},We.prototype={callbacks:[],init:function(t,n){var i,r=t.series;t.series=null,i=e(L,t),i.series=t.series=r,this.userOptions=t,r=i.chart,this.margin=this.splashArray("margin",r),this.spacing=this.splashArray("spacing",r);var o=r.events;this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes;var a,s=this;if(s.index=Me.length,Me.push(s),Pe++,r.reflow!==!1&&Ze(s,"load",function(){s.initReflow()}),o)for(a in o)Ze(s,a,o[a]);s.xAxis=[],s.yAxis=[],s.animation=!Te&&Be(r.animation,!0),s.pointCount=s.colorCounter=s.symbolCounter=0,s.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=Re[e.type||t.type||t.defaultSeriesType])||C(17,!0),t=new t,t.init(this,e),t},isInsidePlot:function(e,t,n){var i=n?t:e,e=n?e:t;return i>=0&&i<=this.plotWidth&&e>=0&&e<=this.plotHeight},redraw:function(e){var t,n,i=this.axes,r=this.series,o=this.pointer,a=this.legend,s=this.isDirtyLegend,l=this.hasCartesianSeries,c=this.isDirtyBox,u=r.length,d=u,p=this.renderer,h=p.isHidden(),f=[];for(T(e,this),h&&this.cloneRenderTo(),this.layOutTitles();d--;)if(e=r[d],e.options.stacking&&(t=!0,e.isDirty)){n=!0;break}if(n)for(d=u;d--;)e=r[d],e.options.stacking&&(e.isDirty=!0);Ve(r,function(e){e.isDirty&&"point"===e.options.legendType&&(e.updateTotals&&e.updateTotals(),s=!0)}),s&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),t&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,Ve(i,function(e){e.setScale()})),this.getMargins(),l&&(Ve(i,function(e){e.isDirty&&(c=!0)}),Ve(i,function(e){var n=e.min+","+e.max;e.extKey!==n&&(e.extKey=n,f.push(function(){Je(e,"afterSetExtremes",Ue(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(c||t)&&e.redraw()})),c&&this.drawChartBox(),Ve(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),o&&o.reset(!0),p.draw(),Je(this,"redraw"),h&&this.cloneRenderTo(!0),Ve(f,function(e){e.call()})},get:function(e){var t,n,i=this.axes,r=this.series;for(t=0;t<i.length;t++)if(i[t].options.id===e)return i[t];for(t=0;t<r.length;t++)if(r[t].options.id===e)return r[t];for(t=0;t<r.length;t++)for(n=r[t].points||[],i=0;i<n.length;i++)if(n[i].id===e)return n[i];return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=d(t.xAxis||{}),t=t.yAxis=d(t.yAxis||{});Ve(n,function(e,t){e.index=t,e.isX=!0}),Ve(t,function(e,t){e.index=t}),n=n.concat(t),Ve(n,function(t){new dt(e,t)})},getSelectedPoints:function(){var e=[];return Ve(this.series,function(t){e=e.concat(Ge(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return Ge(this.series,function(e){return e.selected})},setTitle:function(t,n,i){var r,o,a=this,s=a.options;o=s.title=e(s.title,t),r=s.subtitle=e(s.subtitle,n),s=r,Ve([["title",t,o],["subtitle",n,s]],function(e){var t=e[0],n=a[t],i=e[1],e=e[2];n&&i&&(a[t]=n=n.destroy()),e&&e.text&&!n&&(a[t]=a.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,class:"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),a.layOutTitles(i)},layOutTitles:function(e){var t=0,n=this.title,i=this.subtitle,r=this.options,o=r.title,r=r.subtitle,a=this.renderer,s=this.spacingBox.width-44;!n||(n.css({width:(o.width||s)+"px"}).align(Ue({y:a.fontMetrics(o.style.fontSize,n).b-3},o),!1,"spacingBox"),o.floating||o.verticalAlign)||(t=n.getBBox().height),i&&(i.css({width:(r.width||s)+"px"}).align(Ue({y:t+(o.margin-13)+a.fontMetrics(r.style.fontSize,n).b},r),!1,"spacingBox"),!r.floating&&!r.verticalAlign&&(t=ce(t+i.getBBox().height))),n=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&n&&(this.isDirtyBox=n,this.hasRendered&&Be(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,n=this.renderToClone||this.renderTo;c(t)||(this.containerWidth=qe(n,"width")),c(e)||(this.containerHeight=qe(n,"height")),this.chartWidth=ue(0,t||this.containerWidth||600),this.chartHeight=ue(0,Be(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),_(t),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),p(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),re.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var e,i,r,o,a=this.options,s=a.chart;this.renderTo=e=s.renderTo,o="highcharts-"+Ae++,n(e)&&(this.renderTo=e=re.getElementById(e)),e||C(13,!0),i=t(u(e,"data-highcharts-chart")),!isNaN(i)&&Me[i]&&Me[i].hasRendered&&Me[i].destroy(),u(e,"data-highcharts-chart",this.index),e.innerHTML="",!s.skipClone&&!e.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,r=this.chartHeight,this.container=e=h(Oe,{className:"highcharts-container"+(s.className?" "+s.className:""),id:o},Ue({position:"relative",overflow:"hidden",width:i+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=new(ie[s.renderer]||O)(e,i,r,s.style,s.forExport,a.exporting&&a.exporting.allowHTML),Te&&this.renderer.create(this,e,i,r),this.renderer.chartIndex=this.index},getMargins:function(e){var t=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!c(n[0])&&(this.plotTop=ue(this.plotTop,i+this.options.title.margin+t[0])),this.legend.adjustMargins(n,t),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],n=e.margin;e.hasCartesianSeries&&Ve(e.axes,function(e){e.visible&&e.getOffset()}),Ve(Le,function(i,r){c(n[r])||(e[i]+=t[r])}),e.setChartSize()},reflow:function(e){var t=this,n=t.options.chart,i=t.renderTo,r=n.width||qe(i,"width"),o=n.height||qe(i,"height"),n=e?e.target:oe,i=function(){t.container&&(t.setSize(r,o,!1),t.hasUserSize=null)};t.hasUserSize||t.isPrinting||!r||!o||n!==oe&&n!==re||(r===t.containerWidth&&o===t.containerHeight||(clearTimeout(t.reflowTimeout),e?t.reflowTimeout=setTimeout(i,100):i()),t.containerWidth=r,t.containerHeight=o)},initReflow:function(){var e=this,t=function(t){e.reflow(t)};Ze(oe,"resize",t),Ze(e,"destroy",function(){Qe(oe,"resize",t)})},setSize:function(e,t,n){var i,r,o,a=this,s=a.renderer;a.isResizing+=1,o=function(){a&&Je(a,"endResize",null,function(){a.isResizing-=1})},T(n,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,c(e)&&(a.chartWidth=i=ue(0,se(e)),a.hasUserSize=!!i),c(t)&&(a.chartHeight=r=ue(0,se(t))),e=s.globalAnimation,(e?tt:p)(a.container,{width:i+"px",height:r+"px"},e),a.setChartSize(!0),s.setSize(i,r,n),a.maxTicks=null,Ve(a.axes,function(e){e.isDirty=!0,e.setScale()}),Ve(a.series,function(e){e.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(n),a.oldChartHeight=null,Je(a,"resize"),e=s.globalAnimation,e===!1?o():setTimeout(o,e&&e.duration||500)},setChartSize:function(e){var t,n,i,r,o=this.inverted,a=this.renderer,s=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,d=this.clipOffset;this.plotLeft=t=se(this.plotLeft),this.plotTop=n=se(this.plotTop),this.plotWidth=i=ue(0,se(s-t-this.marginRight)),
this.plotHeight=r=ue(0,se(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:u[3],y:u[0],width:s-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=a.plotBox={x:t,y:n,width:i,height:r},s=2*le(this.plotBorderWidth/2),o=ce(ue(s,d[3])/2),a=ce(ue(s,d[0])/2),this.clipBox={x:o,y:a,width:le(this.plotSizeX-ue(s,d[1])/2-o),height:ue(0,le(this.plotSizeY-ue(s,d[2])/2-a))},e||Ve(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this;Ve(Le,function(t,n){e[t]=Be(e.margin[n],e.spacing[n])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t=this.options.chart,n=this.renderer,i=this.chartWidth,r=this.chartHeight,o=this.chartBackground,a=this.plotBackground,s=this.plotBorder,l=this.plotBGImage,c=t.borderWidth||0,u=t.backgroundColor,d=t.plotBackgroundColor,p=t.plotBackgroundImage,h=t.plotBorderWidth||0,f=this.plotLeft,m=this.plotTop,g=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox;e=c+(t.shadow?8:0),(c||u)&&(o?o.animate(o.crisp({width:i-e,height:r-e})):(o={fill:u||Ie},c&&(o.stroke=t.borderColor,o["stroke-width"]=c),this.chartBackground=n.rect(e/2,e/2,i-e,r-e,t.borderRadius,c).attr(o).addClass("highcharts-background").add().shadow(t.shadow))),d&&(a?a.animate(y):this.plotBackground=n.rect(f,m,g,v,0).attr({fill:d}).add().shadow(t.plotShadow)),p&&(l?l.animate(y):this.plotBGImage=n.image(p,f,m,g,v).add()),b?b.animate({width:w.width,height:w.height}):this.clipRect=n.clipRect(w),h&&(s?s.animate(s.crisp({x:f,y:m,width:g,height:v,strokeWidth:-h})):this.plotBorder=n.rect(f,m,g,v,0,-h).attr({stroke:t.plotBorderColor,"stroke-width":h,fill:Ie,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e,t,n,i=this,r=i.options.chart,o=i.options.series;Ve(["inverted","angular","polar"],function(a){for(e=Re[r.type||r.defaultSeriesType],n=i[a]||r[a]||e&&e.prototype[a],t=o&&o.length;!n&&t--;)(e=Re[o[t].type])&&e.prototype[a]&&(n=!0);i[a]=n})},linkSeries:function(){var e=this,t=e.series;Ve(t,function(e){e.linkedSeries.length=0}),Ve(t,function(t){var i=t.options.linkedTo;n(i)&&(i=":previous"===i?e.series[t.index-1]:e.get(i))&&(i.linkedSeries.push(t),t.linkedParent=i,t.visible=Be(t.options.visible,i.options.visible,t.visible))})},renderSeries:function(){Ve(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,n=e.options.labels;n.items&&Ve(n.items,function(i){var r=Ue(n.style,i.style),o=t(r.left)+e.plotLeft,a=t(r.top)+e.plotTop+12;delete r.left,delete r.top,e.renderer.text(i.html,o,a).attr({zIndex:2}).css(r).add()})},render:function(){var e,t,n,i,r=this.axes,o=this.renderer,a=this.options;this.setTitle(),this.legend=new bt(this,a.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),e=this.plotWidth,t=this.plotHeight-=13,Ve(r,function(e){e.setScale()}),this.getAxisMargins(),n=e/this.plotWidth>1.1,i=t/this.plotHeight>1.1,(n||i)&&(this.maxTicks=null,Ve(r,function(e){(e.horiz&&n||!e.horiz&&i)&&e.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Ve(r,function(e){e.visible&&e.render()}),this.seriesGroup||(this.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(a.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e,t=this,n=t.axes,i=t.series,r=t.container,o=r&&r.parentNode;for(Je(t,"destroy"),Me[t.index]=P,Pe--,t.renderTo.removeAttribute("data-highcharts-chart"),Qe(t),e=n.length;e--;)n[e]=n[e].destroy();for(e=i.length;e--;)i[e]=i[e].destroy();Ve("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())}),r&&(r.innerHTML="",Qe(r),o&&_(r));for(e in t)delete t[e]},isReadyToRender:function(){var e=this;return!(!Ce&&oe==oe.top&&"complete"!==re.readyState||Te&&!oe.canvg)||(Te?ut.push(function(){e.firstRender()},e.options.global.canvasToolsURL):re.attachEvent("onreadystatechange",function(){re.detachEvent("onreadystatechange",e.firstRender),"complete"===re.readyState&&e.firstRender()}),!1)},firstRender:function(){var e=this,t=e.options,n=e.callback;e.isReadyToRender()&&(e.getContainer(),Je(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),Ve(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Je(e,"beforeRender"),ie.Pointer&&(e.pointer=new ft(e,t)),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),Ve(e.callbacks,function(t){e.index!==P&&t.apply(e,[e])}),Je(e,"load"),e.cloneRenderTo(!0))},splashArray:function(e,t){var n=t[e],n=i(n)?n:[n,n,n,n];return[Be(t[e+"Top"],n[0]),Be(t[e+"Right"],n[1]),Be(t[e+"Bottom"],n[2]),Be(t[e+"Left"],n[3])]}};var wt=ie.CenteredSeriesMixin={getCenter:function(){var e,t,n=this.options,i=this.chart,r=2*(n.slicedOffset||0),o=i.plotWidth-2*r,i=i.plotHeight-2*r,a=n.center,a=[Be(a[0],"50%"),Be(a[1],"50%"),n.size||"100%",n.innerSize||0],s=de(o,i);for(e=0;e<4;++e)t=a[e],n=e<2||2===e&&/%$/.test(t),a[e]=(/%$/.test(t)?[o,i,s,a[2]][e]*parseFloat(t)/100:parseFloat(t))+(n?r:0);return a[3]>a[2]&&(a[3]=a[2]),a}},xt=function(){};xt.prototype={init:function(e,t,n){return this.series=e,this.color=e.color,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(e,t){var n=this.series,i=n.options.pointValKey||n.pointValKey,e=xt.prototype.optionsToObject.call(this,e);return Ue(this,e),this.options=this.options?Ue(this.options,e):e,i&&(this.y=this[i]),this.x===P&&n&&(this.x=t===P?n.autoIncrement():t),this},optionsToObject:function(e){var t={},n=this.series,i=n.options.keys,o=i||n.pointArrayMap||["y"],a=o.length,s=0,l=0;if("number"==typeof e||null===e)t[o[0]]=e;else if(r(e))for(!i&&e.length>a&&(n=typeof e[0],"string"===n?t.name=e[0]:"number"===n&&(t.x=e[0]),s++);l<a;)i&&void 0===e[s]||(t[o[l]]=e[s]),s++,l++;else"object"==typeof e&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e,t=this.series.chart,n=t.hoverPoints;t.pointCount--,n&&(this.setState(),l(n,this),!n.length)&&(t.hoverPoints=null),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Qe(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n=6;n--;)e=t[n],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,i=Be(n.valueDecimals,""),r=n.valuePrefix||"",o=n.valueSuffix||"";return Ve(t.pointArrayMap||["y"],function(t){t="{point."+t,(r||o)&&(e=e.replace(t+"}",r+t+"}"+o)),e=e.replace(t+"}",t+":,."+i+"f}")}),v(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var i=this,r=this.series.options;(r.point.events[e]||i.options&&i.options.events&&i.options.events[e])&&this.importEvents(),"click"===e&&r.allowPointSelect&&(n=function(e){i.select&&i.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),Je(this,e,t,n)},visible:!0};var $t=ie.Series=function(){};$t.prototype={isCartesian:!0,type:"line",pointClass:xt,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var n,i,r=this,o=e.series,a=function(e,t){return Be(e.options.index,e._i)-Be(t.options.index,t._i)};r.chart=e,r.options=t=r.setOptions(t),r.linkedSeries=[],r.bindAxes(),Ue(r,{name:t.name,state:"",pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),Te&&(t.animation=!1),i=t.events;for(n in i)Ze(r,n,i[n]);(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)&&(e.runTrackerClick=!0),r.getColor(),r.getSymbol(),Ve(r.parallelArrays,function(e){r[e+"Data"]=[]}),r.setData(t.data,!1),r.isCartesian&&(e.hasCartesianSeries=!0),o.push(r),r._i=o.length-1,w(o,a),this.yAxis&&w(this.yAxis.series,a),Ve(o,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e,t=this,n=t.options,i=t.chart;Ve(t.axisTypes||[],function(r){Ve(i[r],function(i){e=i.options,(n[r]===e.index||n[r]!==P&&n[r]===e.id||n[r]===P&&0===e.index)&&(i.series.push(t),t[r]=i,i.isDirty=!0)}),!t[r]&&t.optionalAxis!==r&&C(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,i=arguments;Ve(n.parallelArrays,"number"==typeof t?function(i){var r="y"===i&&n.toYData?n.toYData(e):e[i];n[i+"Data"][t]=r}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(i,2))})},autoIncrement:function(){var e,t=this.options,n=this.xIncrement,i=t.pointIntervalUnit,n=Be(n,t.pointStart,0);return this.pointInterval=e=Be(this.pointInterval,t.pointInterval,1),"month"!==i&&"year"!==i||(t=new B(n),t="month"===i?+t[te](t[G]()+e):+t[ne](t[Y]()+e),e=t-n),this.xIncrement=n+e,n},getSegments:function(){var e,t=-1,n=[],i=this.points,r=i.length;if(r)if(this.options.connectNulls){for(e=r;e--;)null===i[e].y&&i.splice(e,1);i.length&&(n=[i])}else Ve(i,function(e,o){null===e.y?(o>t+1&&n.push(i.slice(t+1,o)),t=o):o===r-1&&n.push(i.slice(t+1,o+1))});this.segments=n},setOptions:function(t){var n=this.chart,i=n.options.plotOptions,n=n.userOptions||{},r=n.plotOptions||{},o=i[this.type];return this.userOptions=t,i=e(o,i.series,t),this.tooltipOptions=e(L.tooltip,L.plotOptions[this.type].tooltip,n.tooltip,r.series&&r.series.tooltip,r[this.type]&&r[this.type].tooltip,t.tooltip),null===o.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,t=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||t.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,color:i.negativeColor,fillColor:i.negativeFillColor}),t.length&&c(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(e,t,n){var i=this.userOptions,r="_"+e+"Index",o=e+"Counter";t||(c(i[r])?t=i[r]:(i[r]=t=this.chart[o]%n.length,this.chart[o]+=1),t=n[t]),this[e]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||it[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:ct.drawLineMarker,setData:function(e,t,i,a){var s,l=this,u=l.points,d=u&&u.length||0,p=l.options,h=l.chart,f=null,m=l.xAxis,g=m&&!!m.categories,v=p.turboThreshold,y=this.xData,b=this.yData,w=(s=l.pointArrayMap)&&s.length,e=e||[];if(s=e.length,t=Be(t,!0),a!==!1&&s&&d===s&&!l.cropped&&!l.hasGroupedData&&l.visible)Ve(e,function(e,t){u[t].update&&u[t].update(e,!1,null,!1)});else{if(l.xIncrement=null,l.pointRange=g?1:p.pointRange,l.colorCounter=0,Ve(this.parallelArrays,function(e){l[e+"Data"].length=0}),v&&s>v){for(i=0;null===f&&i<s;)f=e[i],i++;if(o(f)){for(g=Be(p.pointStart,0),f=Be(p.pointInterval,1),i=0;i<s;i++)y[i]=g,b[i]=e[i],g+=f;l.xIncrement=g}else if(r(f))if(w)for(i=0;i<s;i++)f=e[i],y[i]=f[0],b[i]=f.slice(1,w+1);else for(i=0;i<s;i++)f=e[i],y[i]=f[0],b[i]=f[1];else C(12)}else for(i=0;i<s;i++)e[i]!==P&&(f={series:l},l.pointClass.prototype.applyOptions.apply(f,[e[i]]),l.updateParallelArrays(f,i),g&&c(f.name))&&(m.names[f.x]=f.name);for(n(b[0])&&C(14,!0),l.data=[],l.options.data=e,i=d;i--;)u[i]&&u[i].destroy&&u[i].destroy();m&&(m.minRange=m.userMinRange),l.isDirty=l.isDirtyData=h.isDirtyBox=!0,i=!1}"point"===p.legendType&&(this.processData(),this.generatePoints()),t&&h.redraw(i)},processData:function(e){var t,n=this.xData,i=this.yData,r=n.length;t=0;var o,a,s,l=this.xAxis,c=this.options;s=c.cropThreshold;var u,d,p=this.getExtremesFromAll||c.getExtremesFromAll,h=this.isCartesian;if(h&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(l&&(e=l.getExtremes(),u=e.min,d=e.max),h&&this.sorted&&!p&&(!s||r>s||this.forceCrop)&&(n[r-1]<u||n[0]>d?(n=[],i=[]):(n[0]<u||n[r-1]>d)&&(t=this.cropData(this.xData,this.yData,u,d),n=t.xData,i=t.yData,t=t.start,o=!0)),s=n.length-1;s>=0;s--)r=n[s]-n[s-1],r>0&&(a===P||r<a)?a=r:r<0&&this.requireSorting&&C(15);this.cropped=o,this.cropStart=t,this.processedXData=n,this.processedYData=i,null===c.pointRange&&(this.pointRange=a||1),this.closestPointRange=a},cropData:function(e,t,n,i){var r,o=e.length,a=0,s=o,l=Be(this.cropShoulder,1);for(r=0;r<o;r++)if(e[r]>=n){a=ue(0,r-l);break}for(;r<o;r++)if(e[r]>i){s=r+l;break}return{xData:e.slice(a,s),yData:t.slice(a,s),start:a,end:s}},generatePoints:function(){var e,t,n,i,r=this.options.data,o=this.data,a=this.processedXData,s=this.processedYData,l=this.pointClass,c=a.length,u=this.cropStart||0,p=this.hasGroupedData,h=[];for(o||p||(o=[],o.length=r.length,o=this.data=o),i=0;i<c;i++)t=u+i,p?h[i]=(new l).init(this,[a[i]].concat(d(s[i]))):(o[t]?n=o[t]:r[t]!==P&&(o[t]=n=(new l).init(this,r[t],a[i])),h[i]=n),h[i].index=t;if(o&&(c!==(e=o.length)||p))for(i=0;i<e;i++)i===u&&!p&&(i+=c),o[i]&&(o[i].destroyElements(),o[i].plotX=P);this.data=o,this.points=h},getExtremes:function(e){var t,n=this.yAxis,i=this.processedXData,r=[],o=0;t=this.xAxis.getExtremes();var a,s,l,c,u=t.min,d=t.max,e=e||this.stackedYData||this.processedYData;for(t=e.length,c=0;c<t;c++)if(s=i[c],l=e[c],a=null!==l&&l!==P&&(!n.isLog||l.length||l>0),s=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(i[c+1]||s)>=u&&(i[c-1]||s)<=d,a&&s)if(a=l.length)for(;a--;)null!==l[a]&&(r[o++]=l[a]);else r[o++]=l;this.dataMin=x(r),this.dataMax=$(r)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e,t,n,i,r=this.options,a=r.stacking,s=this.xAxis,l=s.categories,u=this.yAxis,d=this.points,p=d.length,h=!!this.modifyValue,f=r.pointPlacement,m="between"===f||o(f),g=r.threshold,v=r.startFromThreshold?g:0,y=Number.MAX_VALUE,r=0;r<p;r++){var b=d[r],w=b.x,x=b.y;t=b.low;var $=a&&u.stacks[(this.negStacks&&x<(v?0:g)?"-":"")+this.stackKey];u.isLog&&null!==x&&x<=0&&(b.y=x=null,C(10)),b.plotX=e=de(ue(-1e5,s.translate(w,0,0,0,1,f,"flags"===this.type)),1e5),a&&this.visible&&$&&$[w]&&(i=this.getStackIndicator(i,w,this.index),$=$[w],x=$.points[i.key],t=x[0],x=x[1],t===v&&(t=Be(g,u.min)),u.isLog&&t<=0&&(t=null),b.total=b.stackTotal=$.total,b.percentage=$.total&&b.y/$.total*100,b.stackY=x,$.setOffset(this.pointXOffset||0,this.barW||0)),b.yBottom=c(t)?u.translate(t,0,1,0,1):null,h&&(x=this.modifyValue(x,b)),b.plotY=t="number"==typeof x&&x!==1/0?de(ue(-1e5,u.translate(x,0,1,0,1)),1e5):P,b.isInside=t!==P&&t>=0&&t<=u.len&&e>=0&&e<=s.len,b.clientX=m?s.translate(w,0,0,0,1):e,b.negative=b.y<(g||0),b.category=l&&l[b.x]!==P?l[b.x]:b.x,r&&(y=de(y,pe(e-n))),n=e}this.closestPointRangePx=y,this.getSegments()},setClip:function(e){var t=this.chart,n=this.options,i=t.renderer,r=t.inverted,o=this.clipBox,a=o||t.clipBox,s=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,a.height,n.xAxis,n.yAxis].join(","),l=t[s],c=t[s+"m"];l||(e&&(a.width=0,t[s+"m"]=c=i.clipRect(-99,r?-t.plotLeft:-t.plotTop,99,r?t.chartWidth:t.chartHeight)),t[s]=l=i.clipRect(a)),e&&(l.count+=1),n.clip!==!1&&(this.group.clip(e||o?l:t.clipRect),this.markerGroup.clip(c),this.sharedClipKey=s),e||(l.count-=1,l.count<=0&&s&&t[s]&&(o||(t[s]=t[s].destroy()),t[s+"m"]&&(t[s+"m"]=t[s+"m"].destroy())))},animate:function(e){var t,n=this.chart,r=this.options.animation;r&&!i(r)&&(r=it[this.type].animation),e?this.setClip(r):(t=this.sharedClipKey,(e=n[t])&&e.animate({width:n.plotSizeX},r),n[t+"m"]&&n[t+"m"].animate({width:n.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){this.setClip(),Je(this,"afterAnimate")},drawPoints:function(){var e,t,n,i,r,o,a,s,l,c,u,d,p=this.points,h=this.chart,f=this.options.marker,m=this.pointAttr[""],g=this.markerGroup,v=Be(f.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*f.radius);if(f.enabled!==!1||this._hasPointMarkers)for(i=p.length;i--;)r=p[i],t=le(r.plotX),n=r.plotY,l=r.graphic,c=r.marker||{},u=!!r.marker,e=v&&c.enabled===P||c.enabled,d=r.isInside,e&&n!==P&&!isNaN(n)&&null!==r.y?(e=r.pointAttr[r.selected?"select":""]||m,o=e.r,a=Be(c.symbol,this.symbol),s=0===a.indexOf("url"),l?l[d?"show":"hide"](!0).animate(Ue({x:t-o,y:n-o},l.symbolName?{width:2*o,height:2*o}:{})):d&&(o>0||s)&&(r.graphic=h.renderer.symbol(a,t-o,n-o,2*o,2*o,u?c:f).attr(e).add(g))):l&&(r.graphic=l.destroy())},convertAttribs:function(e,t,n,i){var r,o,a=this.pointAttrToOptions,s={},e=e||{},t=t||{},n=n||{},i=i||{};for(r in a)o=a[r],s[r]=Be(e[o],t[r],n[r],i[r]);return s},getAttribs:function(){var e,t=this,n=t.options,i=it[t.type].marker?n.marker:n,r=i.states,o=r.hover,a=t.color,s=t.options.negativeColor;e={stroke:a,fill:a};var l,u,d=t.points||[],p=[],h=t.pointAttrToOptions;l=t.hasPointSpecificOptions;var f=i.lineColor,m=i.fillColor;u=n.turboThreshold;var g,v=t.zones,y=t.zoneAxis||"y";if(n.marker?(o.radius=o.radius||i.radius+o.radiusPlus,o.lineWidth=o.lineWidth||i.lineWidth+o.lineWidthPlus):(o.color=o.color||st(o.color||a).brighten(o.brightness).get(),o.negativeColor=o.negativeColor||st(o.negativeColor||s).brighten(o.brightness).get()),p[""]=t.convertAttribs(i,e),Ve(["hover","select"],function(e){p[e]=t.convertAttribs(r[e],p[""])}),t.pointAttr=p,a=d.length,!u||a<u||l)for(;a--;){if(u=d[a],(i=u.options&&u.options.marker||u.options)&&i.enabled===!1&&(i.radius=0),v.length){for(l=0,e=v[l];u[y]>=e.value;)e=v[++l];u.color=u.fillColor=Be(e.color,t.color)}if(l=n.colorByPoint||u.color,u.options)for(g in h)c(i[h[g]])&&(l=!0);l?(i=i||{},l=[],r=i.states||{},e=r.hover=r.hover||{},n.marker&&(!u.negative||e.fillColor||o.fillColor)||(e[t.pointAttrToOptions.fill]=e.color||!u.options.color&&o[u.negative&&s?"negativeColor":"color"]||st(u.color).brighten(e.brightness||o.brightness).get()),e={color:u.color},m||(e.fillColor=u.color),f||(e.lineColor=u.color),i.hasOwnProperty("color")&&!i.color&&delete i.color,l[""]=t.convertAttribs(Ue(e,i),p[""]),l.hover=t.convertAttribs(r.hover,p.hover,l[""]),l.select=t.convertAttribs(r.select,p.select,l[""])):l=p,u.pointAttr=l}},destroy:function(){var e,t,n,i,r=this,o=r.chart,a=/AppleWebKit\/533/.test(ve),s=r.data||[];for(Je(r,"destroy"),Qe(r),Ve(r.axisTypes||[],function(e){(i=r[e])&&(l(i.series,r),i.isDirty=i.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=s.length;e--;)(t=s[e])&&t.destroy&&t.destroy();r.points=null,clearTimeout(r.animationTimeout);for(n in r)r[n]instanceof A&&!r[n].survive&&(e=a&&"group"===n?"hide":"destroy",r[n][e]());o.hoverSeries===r&&(o.hoverSeries=null),l(o.series,r);for(n in r)delete r[n]},getSegmentPath:function(e){var t=this,n=[],i=t.options.step;return Ve(e,function(r,o){var a,s=r.plotX,l=r.plotY;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,r,o)):(n.push(o?"L":"M"),i&&o&&(a=e[o-1],"right"===i?n.push(a.plotX,l,"L"):"center"===i?n.push((a.plotX+s)/2,a.plotY,"L",(a.plotX+s)/2,l,"L"):n.push(s,a.plotY,"L")),n.push(r.plotX,r.plotY))}),n},getGraphPath:function(){var e,t=this,n=[],i=[];return Ve(t.segments,function(r){e=t.getSegmentPath(r),r.length>1?n=n.concat(e):i.push(r[0])}),t.singlePoints=i,t.graphPath=n},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color,t.dashStyle]],i=t.lineWidth,r="square"!==t.linecap,o=this.getGraphPath(),a=this.fillGraph&&this.color||Ie;Ve(this.zones,function(i,r){n.push(["zoneGraph"+r,i.color||e.color,i.dashStyle||t.dashStyle])}),Ve(n,function(n,s){var l=n[0],c=e[l];c?c.animate({d:o}):(i||a)&&o.length&&(c={stroke:n[1],"stroke-width":i,fill:a,zIndex:1},n[2]?c.dashstyle=n[2]:r&&(c["stroke-linecap"]=c["stroke-linejoin"]="round"),e[l]=e.chart.renderer.path(o).attr(c).add(e.group).shadow(s<2&&t.shadow))})},applyZones:function(){var e,t,n,i,r,o,a,s=this,l=this.chart,c=l.renderer,u=this.zones,d=this.clips||[],p=this.graph,h=this.area,f=ue(l.chartWidth,l.chartHeight),m=this[(this.zoneAxis||"y")+"Axis"],g=m.reversed,v=l.inverted,y=m.horiz,b=!1;u.length&&(p||h)&&m.min!==P&&(p&&p.hide(),h&&h.hide(),i=m.getExtremes(),Ve(u,function(u,w){e=g?y?l.plotWidth:0:y?0:m.toPixels(i.min),e=de(ue(Be(t,e),0),f),t=de(ue(se(m.toPixels(Be(u.value,i.max),!0)),0),f),b&&(e=t=m.toPixels(i.max)),r=Math.abs(e-t),o=de(e,t),a=ue(e,t),m.isXAxis?(n={x:v?a:o,y:0,width:r,height:f},y||(n.x=l.plotHeight-n.x)):(n={x:0,y:v?a:o,width:f,height:r},y&&(n.y=l.plotWidth-n.y)),l.inverted&&c.isVML&&(n=m.isXAxis?{x:0,y:g?o:a,height:n.width,width:l.chartWidth}:{x:n.y-l.plotLeft-l.spacingBox.x,y:0,width:n.height,height:l.chartHeight}),d[w]?d[w].animate(n):(d[w]=c.clipRect(n),p&&s["zoneGraph"+w].clip(d[w]),h&&s["zoneArea"+w].clip(d[w])),b=u.value>i.max}),this.clips=d)},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};Ve(["group","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;t.xAxis&&(Ze(n,"resize",e),Ze(t,"destroy",function(){Qe(n,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,n,i,r){var o=this[e],a=!o;return a&&(this[e]=o=this.chart.renderer.g(t).attr({visibility:n,zIndex:i||.1}).add(r),o.addClass("highcharts-series-"+this.index)),o[a?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this,n=t.chart,i=t.options,r=(e=i.animation)&&!!t.animate&&n.renderer.isSVG&&Be(e.duration,500)||0,o=t.visible?"visible":"hidden",a=i.zIndex,s=t.hasRendered,l=n.seriesGroup;e=t.plotGroup("group","series",o,a,l),t.markerGroup=t.plotGroup("markerGroup","markers",o,a,l),r&&t.animate(!0),t.getAttribs(),e.inverted=!!t.isCartesian&&n.inverted,t.drawGraph&&(t.drawGraph(),t.applyZones()),Ve(t.points,function(e){e.redraw&&e.redraw()}),t.drawDataLabels&&t.drawDataLabels(),t.visible&&t.drawPoints(),t.drawTracker&&t.options.enableMouseTracking!==!1&&t.drawTracker(),n.inverted&&t.invertGroups(),i.clip!==!1&&!t.sharedClipKey&&!s&&e.clip(n.clipRect),r&&t.animate(),s||(r?t.animationTimeout=setTimeout(function(){t.afterAnimate()},r):t.afterAnimate()),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.isDirty,i=this.group,r=this.xAxis,o=this.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:Be(r&&r.left,e.plotLeft),translateY:Be(o&&o.top,e.plotTop)})),this.translate(),this.render(),t&&Je(this,"updatedData"),(n||t)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:r?i.len-e.chartX+i.pos:e.chartY-i.pos},t)},buildKDTree:function(){function e(t,i,r){var o,a;if(a=t&&t.length)return o=n.kdAxisArray[i%r],t.sort(function(e,t){return e[o]-t[o]}),a=Math.floor(a/2),{point:t[a],left:e(t.slice(0,a),i+1,r),right:e(t.slice(a+1),i+1,r)}}function t(){var t=Ge(n.points||[],function(e){return null!==e.y});n.kdTree=e(t,i,i)}var n=this,i=n.kdDimensions;delete n.kdTree,n.options.kdSync?t():setTimeout(t)},searchKDTree:function(e,t){function n(e,t,s,l){var u,d,p=t.point,h=i.kdAxisArray[s%l],f=p;return d=c(e[r])&&c(p[r])?Math.pow(e[r]-p[r],2):null,u=c(e[o])&&c(p[o])?Math.pow(e[o]-p[o],2):null,u=(d||0)+(u||0),p.dist=c(u)?Math.sqrt(u):Number.MAX_VALUE,p.distX=c(d)?Math.sqrt(d):Number.MAX_VALUE,h=e[h]-p[h],u=h<0?"left":"right",d=h<0?"right":"left",t[u]&&(u=n(e,t[u],s+1,l),f=u[a]<f[a]?u:p),t[d]&&Math.sqrt(h*h)<f[a]&&(e=n(e,t[d],s+1,l),f=e[a]<f[a]?e:f),f}var i=this,r=this.kdAxisArray[0],o=this.kdAxisArray[1],a=t?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return n(e,this.kdTree,this.kdDimensions,this.kdDimensions)}},M.prototype={destroy:function(){k(this,this.axis)},render:function(e){var t=this.options,n=t.format,n=n?v(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,i=n.chart,r=i.inverted,o=n.reversed,o=this.isNegative&&!o||!this.isNegative&&o,a=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0),n=pe(a-n),s=i.xAxis[0].translate(this.x)+e,l=i.plotHeight,o={x:r?o?a:a-n:s,y:r?l-s-t:o?l-a-n:l-a,width:r?n:t,height:r?t:n};(r=this.label)&&(r.align(this.alignOptions,null,o),o=r.alignAttr,r[this.options.crop===!1||i.isInsidePlot(o.x,o.y)?"show":"hide"](!0))}},We.prototype.getStacks=function(){var e=this;Ve(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),Ve(e.series,function(t){!t.options.stacking||t.visible!==!0&&e.options.chart.ignoreHiddenSeries!==!1||(t.stackKey=t.type+Be(t.options.stack,""))})},dt.prototype.buildStacks=function(){var e=this.series,t=Be(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)e[t?n:e.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<e.length;n++)e[n].setPercentStacks()}},dt.prototype.renderStackTotals=function(){var e,t,n=this.chart,i=n.renderer,r=this.stacks,o=this.stackTotalGroup;o||(this.stackTotalGroup=o=i.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(n.plotLeft,n.plotTop);for(e in r)for(t in n=r[e])n[t].render(o)},dt.prototype.resetStacks=function(){var e,t,n=this.stacks;if(!this.isXAxis)for(e in n)for(t in n[e])n[e][t].touched<this.stacksTouched?(n[e][t].destroy(),delete n[e][t]):(n[e][t].total=null,n[e][t].cum=0)},dt.prototype.cleanStacks=function(){var e,t,n;if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(t in e)for(n in e[t])e[t][n].cum=e[t][n].total}},$t.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e,t,n,i,r,o,a,s=this.processedXData,l=this.processedYData,c=[],u=l.length,d=this.options,p=d.threshold,h=d.startFromThreshold?p:0,f=d.stack,d=d.stacking,m=this.stackKey,g="-"+m,v=this.negStacks,y=this.yAxis,b=y.stacks,w=y.oldStacks;for(y.stacksTouched+=1,r=0;r<u;r++)o=s[r],a=l[r],e=this.getStackIndicator(e,o,this.index),i=e.key,n=(t=v&&a<(h?0:p))?g:m,b[n]||(b[n]={}),b[n][o]||(w[n]&&w[n][o]?(b[n][o]=w[n][o],b[n][o].total=null):b[n][o]=new M(y,y.options.stackLabels,t,o,f)),n=b[n][o],n.points[i]=[Be(n.cum,h)],n.touched=y.stacksTouched,"percent"===d?(t=t?m:g,v&&b[t]&&b[t][o]?(t=b[t][o],n.total=t.total=ue(t.total,n.total)+pe(a)||0):n.total=S(n.total+(pe(a)||0))):n.total=S(n.total+(a||0)),n.cum=Be(n.cum,h)+(a||0),n.points[i].push(n.cum),c[r]=n.cum;"percent"===d&&(y.usePercentage=!0),this.stackedYData=c,y.oldStacks={}}},$t.prototype.setPercentStacks=function(){var e,t=this,n=t.stackKey,i=t.yAxis.stacks,r=t.processedXData;Ve([n,"-"+n],function(n){for(var o,a,s,l=r.length;l--;)a=r[l],e=t.getStackIndicator(e,a,t.index),o=(s=i[n]&&i[n][a])&&s.points[e.key],(a=o)&&(s=s.total?100/s.total:0,a[0]=S(a[0]*s),a[1]=S(a[1]*s),t.stackedYData[l]=a[1])})},$t.prototype.getStackIndicator=function(e,t,n){return c(e)&&e.x===t?e.index++:e={x:t,index:0},e.key=[n,t,e.index].join(","),e},Ue(We.prototype,{addSeries:function(e,t,n){var i,r=this;return e&&(t=Be(t,!0),Je(r,"addSeries",{options:e},function(){i=r.initSeries(e),r.isDirtyLegend=!0,r.linkSeries(),t&&r.redraw(n)})),i},addAxis:function(t,n,i,r){var o=n?"xAxis":"yAxis",a=this.options;new dt(this,e(t,{index:this[o].length,isX:n})),a[o]=d(a[o]||{}),a[o].push(t),Be(i,!0)&&this.redraw(r)},showLoading:function(e){var t=this,n=t.options,i=t.loadingDiv,r=n.loading,o=function(){i&&p(i,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};i||(t.loadingDiv=i=h(Oe,{className:"highcharts-loading"},Ue(r.style,{zIndex:10,display:Ie}),t.container),t.loadingSpan=h("span",null,r.labelStyle,i),Ze(t,"redraw",o)),t.loadingSpan.innerHTML=e||n.lang.loading,t.loadingShown||(p(i,{opacity:0,display:""}),tt(i,{opacity:r.style.opacity},{duration:r.showDuration||0}),t.loadingShown=!0),o()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&tt(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){p(t,{display:Ie})}}),this.loadingShown=!1}}),Ue(xt.prototype,{update:function(e,t,n,o){function a(){l.applyOptions(e),null===l.y&&u&&(l.graphic=u.destroy()),i(e)&&!r(e)&&(l.redraw=function(){u&&u.element&&e&&e.marker&&e.marker.symbol&&(l.graphic=u.destroy()),e&&e.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),s=l.index,c.updateParallelArrays(l,s),h&&l.name&&(h[l.x]=l.name),p.data[s]=l.options,c.isDirty=c.isDirtyData=!0,!c.fixedBox&&c.hasCartesianSeries&&(d.isDirtyBox=!0),"point"===p.legendType&&(d.isDirtyLegend=!0),t&&d.redraw(n)}var s,l=this,c=l.series,u=l.graphic,d=c.chart,p=c.options,h=c.xAxis&&c.xAxis.names,t=Be(t,!0);o===!1?a():l.firePointEvent("update",{options:e},a)},remove:function(e,t){this.series.removePoint(Ke(this,this.series.data),e,t)}}),Ue($t.prototype,{addPoint:function(e,t,n,i){var r,o=this,a=o.options,s=o.data,l=o.graph,c=o.area,u=o.chart,d=o.xAxis&&o.xAxis.names,p=l&&l.shift||0,h=["graph","area"],l=a.data,f=o.xData;if(T(i,u),n){for(i=o.zones.length;i--;)h.push("zoneGraph"+i,"zoneArea"+i);Ve(h,function(e){o[e]&&(o[e].shift=p+(a.step?2:1))})}if(c&&(c.isArea=!0),t=Be(t,!0),c={series:o},o.pointClass.prototype.applyOptions.apply(c,[e]),h=c.x,i=f.length,o.requireSorting&&h<f[i-1])for(r=!0;i&&f[i-1]>h;)i--;o.updateParallelArrays(c,"splice",i,0,0),o.updateParallelArrays(c,i),d&&c.name&&(d[h]=c.name),l.splice(i,0,e),r&&(o.data.splice(i,0,null),o.processData()),"point"===a.legendType&&o.generatePoints(),n&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),o.updateParallelArrays(c,"shift"),l.shift())),o.isDirty=!0,o.isDirtyData=!0,t&&(o.getAttribs(),u.redraw())},removePoint:function(e,t,n){var i=this,r=i.data,o=r[e],a=i.points,s=i.chart,l=function(){r.length===a.length&&a.splice(e,1),r.splice(e,1),i.options.data.splice(e,1),i.updateParallelArrays(o||{series:i},"splice",e,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,t&&s.redraw()};T(n,s),t=Be(t,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(e,t){var n=this,i=n.chart,e=Be(e,!0);n.isRemoving||(n.isRemoving=!0,Je(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,i.linkSeries(),e&&i.redraw(t)})),n.isRemoving=!1},update:function(t,n){var i,r=this,o=this.chart,a=this.userOptions,s=this.type,l=Re[s].prototype,c=["group","markerGroup","dataLabelsGroup"];(t.type&&t.type!==s||void 0!==t.zIndex)&&(c.length=0),Ve(c,function(e){c[e]=r[e],delete r[e]}),t=e(a,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(i in l)this[i]=P;Ue(this,Re[t.type||s].prototype),Ve(c,function(e){r[e]=c[e]}),this.init(o,t),o.linkSeries(),Be(n,!0)&&o.redraw(!1)}}),Ue(dt.prototype,{update:function(t,n){var i=this.chart,t=i.options[this.coll][this.options.index]=e(this.userOptions,t);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=P,this.init(i,Ue(t,{events:P})),i.isDirtyBox=!0,Be(n,!0)&&i.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);l(t.axes,this),l(t[n],this),t.options[n].splice(this.options.index,1),Ve(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,Be(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var kt=f($t);Re.line=kt,it.area=e(je,{softThreshold:!1,threshold:0});var _t=f($t,{type:"area",getSegments:function(){
var e,t,n,i,r,o=this,a=[],s=[],l=[],c=this.xAxis,u=this.yAxis,d=u.stacks[this.stackKey],p={},h=this.points,f=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(i=0;i<h.length;i++)p[h[i].x]=h[i];for(r in d)null!==d[r].total&&l.push(+r);l.sort(function(e,t){return e-t}),Ve(l,function(r){var a,l=null;if(!f||p[r]&&null!==p[r].y)if(p[r])s.push(p[r]);else{for(i=o.index;i<=u.series.length;i++)if(n=o.getStackIndicator(null,r,i),a=d[r].points[n.key]){l=a[1];break}e=c.translate(r),t=u.getThreshold(l),s.push({y:null,plotX:e,clientX:e,plotY:t,yBottom:t,onMouseOver:De})}}),s.length&&a.push(s)}else $t.prototype.getSegments.call(this),a=this.segments;this.segments=a},getSegmentPath:function(e){var t,n=$t.prototype.getSegmentPath.call(this,e),i=[].concat(n),r=this.options;t=n.length;var o,a=this.yAxis.getThreshold(r.threshold);if(3===t&&i.push("L",n[1],n[2]),r.stacking&&!this.closedStacks)for(t=e.length-1;t>=0;t--)o=Be(e[t].yBottom,a),t<e.length-1&&r.step&&i.push(e[t+1].plotX,o),i.push(e[t].plotX,o);else this.closeSegment(i,e,a);return this.areaPath=this.areaPath.concat(i),n},closeSegment:function(e,t,n){e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[],$t.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,i=[["area",this.color,n.fillColor]];Ve(this.zones,function(t,r){i.push(["zoneArea"+r,t.color||e.color,t.fillColor||n.fillColor])}),Ve(i,function(i){var r=i[0],o=e[r];o?o.animate({d:t}):e[r]=e.chart.renderer.path(t).attr({fill:Be(i[2],st(i[1]).setOpacity(Be(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:ct.drawRectangle});Re.area=_t,it.spline=e(je),kt=f($t,{type:"spline",getPointSpline:function(e,t,n){var i,r,o,a,s=t.plotX,l=t.plotY,c=e[n-1],u=e[n+1];if(c&&u){e=c.plotY,o=u.plotX;var d,u=u.plotY;i=(1.5*s+c.plotX)/2.5,r=(1.5*l+e)/2.5,o=(1.5*s+o)/2.5,a=(1.5*l+u)/2.5,d=(a-r)*(o-s)/(o-i)+l-a,r+=d,a+=d,r>e&&r>l?(r=ue(e,l),a=2*l-r):r<e&&r<l&&(r=de(e,l),a=2*l-r),a>u&&a>l?(a=ue(u,l),r=2*l-a):a<u&&a<l&&(a=de(u,l),r=2*l-a),t.rightContX=o,t.rightContY=a}return n?(t=["C",c.rightContX||c.plotX,c.rightContY||c.plotY,i||s,r||l,s,l],c.rightContX=c.rightContY=null):t=["M",s,l],t}}),Re.spline=kt,it.areaspline=e(it.area),_t=_t.prototype,kt=f(kt,{type:"areaspline",closedStacks:!0,getSegmentPath:_t.getSegmentPath,closeSegment:_t.closeSegment,drawGraph:_t.drawGraph,drawLegendSymbol:ct.drawRectangle}),Re.areaspline=kt,it.column=e(je,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),kt=f($t,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){$t.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&Ve(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t,n=this,i=n.options,r=n.xAxis,o=n.yAxis,a=r.reversed,s={},l=0;i.grouping===!1?l=1:Ve(n.chart.series,function(i){var r=i.options,a=i.yAxis;i.type===n.type&&i.visible&&o.len===a.len&&o.pos===a.pos&&(r.stacking?(e=i.stackKey,s[e]===P&&(s[e]=l++),t=s[e]):r.grouping!==!1&&(t=l++),i.columnIndex=t)});var c=de(pe(r.transA)*(r.ordinalSlope||i.pointRange||r.closestPointRange||r.tickInterval||1),r.len),u=c*i.groupPadding,d=(c-2*u)/l,i=de(i.maxPointWidth||r.len,Be(i.pointWidth,d*(1-2*i.pointPadding)));return n.columnMetrics={width:i,offset:(d-i)/2+(u+((a?l-(n.columnIndex||0):n.columnIndex)||0)*d-c/2)*(a?-1:1)}},crispCol:function(e,t,n,i){var r=this.chart,o=this.borderWidth,a=-(o%2?.5:0),o=o%2?.5:1;return r.inverted&&r.renderer.isVML&&(o+=1),n=Math.round(e+n)+a,e=Math.round(e)+a,n-=e,a=pe(t)<=.5,i=Math.round(t+i)+o,t=Math.round(t)+o,i-=t,a&&(t-=1,i+=1),{x:e,y:t,width:n,height:i}},translate:function(){var e=this,t=e.chart,n=e.options,i=e.borderWidth=Be(n.borderWidth,e.closestPointRange*e.xAxis.transA<2?0:1),r=e.yAxis,o=e.translatedThreshold=r.getThreshold(n.threshold),a=Be(n.minPointLength,5),s=e.getColumnMetrics(),l=s.width,c=e.barW=ue(l,1+2*i),u=e.pointXOffset=s.offset;t.inverted&&(o-=.5),n.pointPadding&&(c=ce(c)),$t.prototype.translate.apply(e),Ve(e.points,function(n){var i,s=de(Be(n.yBottom,o),9e4),d=999+pe(s),d=de(ue(-d,n.plotY),r.len+d),p=n.plotX+u,h=c,f=de(d,s),m=ue(d,s)-f;pe(m)<a&&a&&(m=a,i=!r.reversed&&!n.negative||r.reversed&&n.negative,f=pe(f-o)>a?s-a:o-(i?a:0)),n.barX=p,n.pointWidth=l,n.tooltipPos=t.inverted?[r.len+r.pos-t.plotLeft-d,e.xAxis.len-p-h/2,m]:[p+h/2,d+r.pos-t.plotTop,m],n.shapeType="rect",n.shapeArgs=e.crispCol(p,f,h,m)})},getSymbol:De,drawLegendSymbol:ct.drawRectangle,drawGraph:De,drawPoints:function(){var t,n,i=this,r=this.chart,o=i.options,a=r.renderer,s=o.animationLimit||250;Ve(i.points,function(l){var u=l.plotY,d=l.graphic;u===P||isNaN(u)||null===l.y?d&&(l.graphic=d.destroy()):(t=l.shapeArgs,u=c(i.borderWidth)?{"stroke-width":i.borderWidth}:{},n=l.pointAttr[l.selected?"select":""]||i.pointAttr[""],d?(nt(d),d.attr(u)[r.pointCount<s?"animate":"attr"](e(t))):l.graphic=a[l.shapeType](t).attr(u).attr(n).add(l.group||i.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius))})},animate:function(e){var t=this.yAxis,n=this.options,i=this.chart.inverted,r={};Ce&&(e?(r.scaleY=.001,e=de(t.pos+t.len,ue(t.pos,t.toPixels(n.threshold))),i?r.translateX=e-t.len:r.translateY=e,this.group.attr(r)):(r.scaleY=1,r[i?"translateX":"translateY"]=t.pos,this.group.animate(r,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&Ve(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),$t.prototype.remove.apply(e,arguments)}}),Re.column=kt,it.bar=e(it.column),_t=f(kt,{type:"bar",inverted:!0}),Re.bar=_t,it.scatter=e(je,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),_t=f($t,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&$t.prototype.drawGraph.call(this)}}),Re.scatter=_t,it.pie=e(je,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),je={type:"pie",isCartesian:!1,pointClass:f(xt,{init:function(){xt.prototype.init.apply(this,arguments);var e,t=this;return t.name=Be(t.name,"Slice"),e=function(e){t.slice("select"===e.type)},Ze(t,"select",e),Ze(t,"unselect",e),t},setVisible:function(e,t){var n=this,i=n.series,r=i.chart,o=i.options.ignoreHiddenPoint,t=Be(t,o);e!==n.visible&&(n.visible=n.options.visible=e=e===P?!n.visible:e,i.options.data[Ke(n,i.data)]=n.options,Ve(["graphic","dataLabel","connector","shadowGroup"],function(t){n[t]&&n[t][e?"show":"hide"](!0)}),n.legendItem&&r.legend.colorizeItem(n,e),!e&&"hover"===n.state&&n.setState(""),o&&(i.isDirty=!0),t&&r.redraw())},slice:function(e,t,n){var i=this.series;T(n,i.chart),Be(t,!0),this.sliced=this.options.sliced=e=c(e)?e:!this.sliced,i.options.data[Ke(this,i.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(e){var t=this,n=t.points,i=t.startAngleRad;e||(Ve(n,function(e){var n=e.graphic,r=e.shapeArgs;n&&(n.attr({r:e.startR||t.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},t.options.animation))}),t.animate=null)},updateTotals:function(){var e,t,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(e=0;e<r;e++)t=i[e],n+=o&&!t.visible?0:t.y;for(this.total=n,e=0;e<r;e++)t=i[e],t.percentage=n>0&&(t.visible||!o)?t.y/n*100:0,t.total=n},generatePoints:function(){$t.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t,n,i,r,o,a=0,s=this.options,l=s.slicedOffset,c=l+s.borderWidth,u=s.startAngle||0,d=this.startAngleRad=me/180*(u-90),u=(this.endAngleRad=me/180*(Be(s.endAngle,u+360)-90))-d,p=this.points,h=s.dataLabels.distance,s=s.ignoreHiddenPoint,f=p.length;for(e||(this.center=e=this.getCenter()),this.getX=function(t,n){return i=ae.asin(de((t-e[1])/(e[2]/2+h),1)),e[0]+(n?-1:1)*he(i)*(e[2]/2+h)},r=0;r<f;r++)o=p[r],t=d+a*u,s&&!o.visible||(a+=o.percentage/100),n=d+a*u,o.shapeType="arc",o.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:se(1e3*t)/1e3,end:se(1e3*n)/1e3},i=(n+t)/2,i>1.5*me?i-=2*me:i<-me/2&&(i+=2*me),o.slicedTranslation={translateX:se(he(i)*l),translateY:se(fe(i)*l)},t=he(i)*e[2]/2,n=fe(i)*e[2]/2,o.tooltipPos=[e[0]+.7*t,e[1]+.7*n],o.half=i<-me/2||i>me/2?1:0,o.angle=i,c=de(c,h/2),o.labelPos=[e[0]+t+he(i)*h,e[1]+n+fe(i)*h,e[0]+t+he(i)*c,e[1]+n+fe(i)*c,e[0]+t,e[1]+n,h<0?"center":o.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var e,t,n,i,r,o=this,a=o.chart.renderer,s=o.options.shadow;s&&!o.shadowGroup&&(o.shadowGroup=a.g("shadow").add(o.group)),Ve(o.points,function(l){null!==l.y&&(t=l.graphic,i=l.shapeArgs,n=l.shadowGroup,s&&!n&&(n=l.shadowGroup=a.g("shadow").add(o.shadowGroup)),e=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(e),t?t.setRadialReference(o.center).animate(Ue(i,e)):(r={"stroke-linejoin":"round"},l.visible||(r.visibility="hidden"),l.graphic=t=a[l.shapeType](i).setRadialReference(o.center).attr(l.pointAttr[l.selected?"select":""]).attr(r).attr(e).add(o.group).shadow(s,n)))})},searchPoint:De,sortByAngle:function(e,t){e.sort(function(e,n){return void 0!==e.angle&&(n.angle-e.angle)*t})},drawLegendSymbol:ct.drawRectangle,getCenter:wt.getCenter,getSymbol:De},je=f($t,je),Re.pie=je,$t.prototype.drawDataLabels=function(){var t,n,i,r,o=this,a=o.options,s=a.cursor,l=a.dataLabels,u=o.points,d=o.hasRendered||0,p=o.chart.renderer;(l.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(l),r=o.plotGroup("dataLabelsGroup","data-labels",l.defer?"hidden":"visible",l.zIndex||6),Be(l.defer,!0)&&(r.attr({opacity:+d}),d||Ze(o,"afterAnimate",function(){o.visible&&r.show(),r[a.animation?"animate":"attr"]({opacity:1},{duration:200})})),n=l,Ve(u,function(u){var d,h,f,m,g=u.dataLabel,y=u.connector,b=!0,w={};if(t=u.dlOptions||u.options&&u.options.dataLabels,d=Be(t&&t.enabled,n.enabled),g&&!d)u.dataLabel=g.destroy();else if(d){if(l=e(n,t),m=l.style,d=l.rotation,h=u.getLabelConfig(),i=l.format?v(l.format,h):l.formatter.call(h,l),m.color=Be(l.color,m.color,o.color,"black"),g)c(i)?(g.attr({text:i}),b=!1):(u.dataLabel=g=g.destroy(),y&&(u.connector=y.destroy()));else if(c(i)){g={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:d,padding:l.padding,zIndex:1},"contrast"===m.color&&(w.color=l.inside||l.distance<0||a.stacking?p.getContrast(u.color||o.color):"#000000"),s&&(w.cursor=s);for(f in g)g[f]===P&&delete g[f];g=u.dataLabel=p[d?"text":"label"](i,0,-999,l.shape,null,null,l.useHTML).attr(g).css(Ue(m,w)).add(r).shadow(l.shadow)}g&&o.alignDataLabel(u,g,l,null,b)}}))},$t.prototype.alignDataLabel=function(e,t,n,i,r){var o=this.chart,a=o.inverted,s=Be(e.plotX,-999),l=Be(e.plotY,-999),c=t.getBBox(),u=o.renderer.fontMetrics(n.style.fontSize).b,d=this.visible&&(e.series.forceDL||o.isInsidePlot(s,se(l),a)||i&&o.isInsidePlot(s,a?i.x+1:i.y+i.height-1,a));d&&(i=Ue({x:a?o.plotWidth-l:s,y:se(a?o.plotHeight-s:l),width:0,height:0},i),Ue(n,{width:c.width,height:c.height}),n.rotation?(e=o.renderer.rotCorr(u,n.rotation),t[r?"attr":"animate"]({x:i.x+n.x+i.width/2+e.x,y:i.y+n.y+i.height/2}).attr({align:n.align})):(t.align(n,null,i),a=t.alignAttr,"justify"===Be(n.overflow,"justify")?this.justifyDataLabel(t,n,a,c,i,r):Be(n.crop,!0)&&(d=o.isInsidePlot(a.x,a.y)&&o.isInsidePlot(a.x+c.width,a.y+c.height)),n.shape&&t.attr({anchorX:e.plotX,anchorY:e.plotY}))),d||(nt(t),t.attr({y:-999}),t.placed=!1)},$t.prototype.justifyDataLabel=function(e,t,n,i,r,o){var a,s,l=this.chart,c=t.align,u=t.verticalAlign,d=e.box?0:e.padding||0;a=n.x+d,a<0&&("right"===c?t.align="left":t.x=-a,s=!0),a=n.x+i.width-d,a>l.plotWidth&&("left"===c?t.align="right":t.x=l.plotWidth-a,s=!0),a=n.y+d,a<0&&("bottom"===u?t.verticalAlign="top":t.y=-a,s=!0),a=n.y+i.height-d,a>l.plotHeight&&("top"===u?t.verticalAlign="bottom":t.y=l.plotHeight-a,s=!0),s&&(e.placed=!o,e.align(t,null,r))},Re.pie&&(Re.pie.prototype.drawDataLabels=function(){var e,t,n,i,r,o,a,s,l,c,u,d=this,p=d.data,h=d.chart,f=d.options.dataLabels,m=Be(f.connectorPadding,10),g=Be(f.connectorWidth,1),v=h.plotWidth,y=h.plotHeight,b=Be(f.softConnector,!0),w=f.distance,x=d.center,k=x[2]/2,_=x[1],C=w>0,S=[[],[]],T=[0,0,0,0],E=function(e,t){return t.y-e.y};if(d.visible&&(f.enabled||d._hasPointLabels)){for($t.prototype.drawDataLabels.apply(d),Ve(p,function(e){e.dataLabel&&e.visible&&S[e.half].push(e)}),c=2;c--;){var A,D=[],M=[],P=S[c],O=P.length;if(O){for(d.sortByAngle(P,c-.5),u=p=0;!p&&P[u];)p=P[u]&&P[u].dataLabel&&(P[u].dataLabel.getBBox().height||21),u++;if(w>0){for(r=de(_+k+w,h.plotHeight),u=ue(0,_-k-w);u<=r;u+=p)D.push(u);if(r=D.length,O>r){for(e=[].concat(P),e.sort(E),u=O;u--;)e[u].rank=u;for(u=O;u--;)P[u].rank>=r&&P.splice(u,1);O=P.length}for(u=0;u<O;u++){e=P[u],o=e.labelPos,e=9999;var I,N;for(N=0;N<r;N++)I=pe(D[N]-o[1]),I<e&&(e=I,A=N);if(A<u&&null!==D[u])A=u;else for(r<O-u+A&&null!==D[u]&&(A=r-O+u);null===D[A];)A++;M.push({i:A,y:D[A]}),D[A]=null}M.sort(E)}for(u=0;u<O;u++)e=P[u],o=e.labelPos,i=e.dataLabel,l=e.visible===!1?"hidden":"inherit",e=o[1],w>0?(r=M.pop(),A=r.i,s=r.y,(e>s&&null!==D[A+1]||e<s&&null!==D[A-1])&&(s=de(ue(0,e),h.plotHeight))):s=e,a=f.justify?x[0]+(c?-1:1)*(k+w):d.getX(s===_-k-w||s===_+k+w?e:s,c),i._attr={visibility:l,align:o[6]},i._pos={x:a+f.x+({left:m,right:-m}[o[6]]||0),y:s+f.y-10},i.connX=a,i.connY=s,null===this.options.size&&(r=i.width,a-r<m?T[3]=ue(se(r-a+m),T[3]):a+r>v-m&&(T[1]=ue(se(a+r-v+m),T[1])),s-p/2<0?T[0]=ue(se(-s+p/2),T[0]):s+p/2>y&&(T[2]=ue(se(s+p/2-y),T[2])))}}(0===$(T)||this.verifyDataLabelOverflow(T))&&(this.placeDataLabels(),C&&g&&Ve(this.points,function(e){t=e.connector,o=e.labelPos,(i=e.dataLabel)&&i._pos&&e.visible?(l=i._attr.visibility,a=i.connX,s=i.connY,n=b?["M",a+("left"===o[6]?5:-5),s,"C",a,s,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",a+("left"===o[6]?5:-5),s,"L",o[2],o[3],"L",o[4],o[5]],t?(t.animate({d:n}),t.attr("visibility",l)):e.connector=t=d.chart.renderer.path(n).attr({"stroke-width":g,stroke:f.connectorColor||e.color||"#606060",visibility:l}).add(d.dataLabelsGroup)):t&&(e.connector=t.destroy())}))}},Re.pie.prototype.placeDataLabels=function(){Ve(this.points,function(e){var t=e.dataLabel;t&&e.visible&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999}))})},Re.pie.prototype.alignDataLabel=De,Re.pie.prototype.verifyDataLabelOverflow=function(e){var t,n=this.center,i=this.options,r=i.center,o=i.minSize||80,a=o;return null!==r[0]?a=ue(n[2]-ue(e[1],e[3]),o):(a=ue(n[2]-e[1]-e[3],o),n[0]+=(e[3]-e[1])/2),null!==r[1]?a=ue(de(a,n[2]-ue(e[0],e[2])),o):(a=ue(de(a,n[2]-e[0]-e[2]),o),n[1]+=(e[0]-e[2])/2),a<n[2]?(n[2]=a,n[3]=Math.min(/%$/.test(i.innerSize||0)?a*parseFloat(i.innerSize||0)/100:parseFloat(i.innerSize||0),a),this.translate(n),Ve(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):t=!0,t}),Re.column&&(Re.column.prototype.alignDataLabel=function(t,n,i,r,o){var a=this.chart.inverted,s=t.series,l=t.dlBox||t.shapeArgs,c=Be(t.below,t.plotY>Be(this.translatedThreshold,s.yAxis.len)),u=Be(i.inside,!!this.options.stacking);l&&(r=e(l),a&&(r={x:s.yAxis.len-r.y-r.height,y:s.xAxis.len-r.x-r.width,width:r.height,height:r.width}),!u)&&(a?(r.x+=c?0:r.width,r.width=0):(r.y+=c?r.height:0,r.height=0)),i.align=Be(i.align,!a||u?"center":c?"right":"left"),i.verticalAlign=Be(i.verticalAlign,a||u?"middle":c?"top":"bottom"),$t.prototype.alignDataLabel.call(this,t,n,i,r,o)}),function(e){var t=e.Chart,n=e.each,i=e.pick,r=HighchartsAdapter.addEvent;t.prototype.callbacks.push(function(e){function t(){var t=[];n(e.series,function(e){var r=e.options.dataLabels,o=e.dataLabelCollections||["dataLabel"];(r.enabled||e._hasPointLabels)&&!r.allowOverlap&&e.visible&&n(o,function(r){n(e.points,function(e){e[r]&&(e[r].labelrank=i(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[r]))})})}),e.hideOverlappingLabels(t)}t(),r(e,"redraw",t)}),t.prototype.hideOverlappingLabels=function(e){var t,i,r,o,a,s,l,c=e.length;for(i=0;i<c;i++)(t=e[i])&&(t.oldOpacity=t.opacity,t.newOpacity=1);for(e.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)}),i=0;i<c;i++)for(r=e[i],t=i+1;t<c;++t)o=e[t],r&&o&&r.placed&&o.placed&&0!==r.newOpacity&&0!==o.newOpacity&&(a=r.alignAttr,s=o.alignAttr,l=2*(r.box?0:r.padding),a=!(s.x>a.x+(r.width-l)||s.x+(o.width-l)<a.x||s.y>a.y+(r.height-l)||s.y+(o.height-l)<a.y))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);n(e,function(e){var t,n;e&&(n=e.newOpacity,e.oldOpacity!==n&&e.placed&&(n?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=n,e[e.isOld?"animate":"attr"](e.alignAttr,null,t)),e.isOld=!0)})}}(ie),je=ie.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,n=t.pointer,i=e.options.cursor,r=i&&{cursor:i},o=function(e){for(var n,i=e.target;i&&!n;)n=i.point,i=i.parentNode;n!==P&&n!==t.hoverPoint&&n.onMouseOver(e)};Ve(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||(Ve(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(e){n.onTrackerMouseOut(e)}).css(r),I)&&e[t].on("touchstart",o)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e,t=this,n=t.options,i=n.trackByArea,r=[].concat(i?t.areaPath:t.graphPath),o=r.length,a=t.chart,s=a.pointer,l=a.renderer,c=a.options.tooltip.snap,u=t.tracker,d=n.cursor,p=d&&{cursor:d},d=t.singlePoints,h=function(){a.hoverSeries!==t&&t.onMouseOver()},f="rgba(192,192,192,"+(Ce?1e-4:.002)+")";if(o&&!i)for(e=o+1;e--;)"M"===r[e]&&r.splice(e+1,0,r[e+1]-c,r[e+2],"L"),(e&&"M"===r[e]||e===o)&&r.splice(e,0,"L",r[e-2]+c,r[e-1]);for(e=0;e<d.length;e++)o=d[e],r.push("M",o.plotX-c,o.plotY,"L",o.plotX+c,o.plotY);u?u.attr({d:r}):(t.tracker=l.path(r).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:f,fill:i?f:Ie,"stroke-width":n.lineWidth+(i?0:2*c),zIndex:2}).add(t.group),Ve([t.tracker,t.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",h).on("mouseout",function(e){s.onTrackerMouseOut(e)}).css(p),I&&e.on("touchstart",h)}))}},Re.column&&(kt.prototype.drawTracker=je.drawTrackerPoint),Re.pie&&(Re.pie.prototype.drawTracker=je.drawTrackerPoint),Re.scatter&&(_t.prototype.drawTracker=je.drawTrackerPoint),Ue(bt.prototype,{setItemEvents:function(e,t,n,i,r){var o=this;(n?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),t.css(o.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?i:r),e.setState()}).on("click",function(t){var n=function(){e.setVisible&&e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):Je(e,"legendItemClick",t,n)})},createCheckboxForItem:function(e){e.checkbox=h("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Ze(e.checkbox,"click",function(t){Je(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),L.legend.itemStyle.cursor="pointer",Ue(We.prototype,{showResetZoom:function(){var e=this,t=L.lang,n=e.options.chart.resetZoomButton,i=n.theme,r=i.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,o)},zoomOut:function(){var e=this;Je(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,n,r=this.pointer,o=!1;!e||e.resetSelection?Ve(this.axes,function(e){t=e.zoom()}):Ve(e.xAxis.concat(e.yAxis),function(e){var n=e.axis,i=n.isXAxis;(r[i?"zoomX":"zoomY"]||r[i?"pinchX":"pinchY"])&&(t=n.zoom(e.min,e.max),n.displayBtn&&(o=!0))}),n=this.resetZoomButton,o&&!n?this.showResetZoom():!o&&i(n)&&(this.resetZoomButton=n.destroy()),t&&this.redraw(Be(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var n,i=this,r=i.hoverPoints;r&&Ve(r,function(e){e.setState()}),Ve("xy"===t?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],o=i[t?"xAxis":"yAxis"][0],a=i[t?"mouseDownX":"mouseDownY"],s=(o.pointRange||0)/2,l=o.getExtremes(),c=o.toValue(a-r,!0)+s,s=o.toValue(a+i[t?"plotWidth":"plotHeight"]-r,!0)-s,a=a>r;o.series.length&&(a||c>de(l.dataMin,l.min))&&(!a||s<ue(l.dataMax,l.max))&&(o.setExtremes(c,s,!1,!1,{trigger:"pan"}),n=!0),i[t?"mouseDownX":"mouseDownY"]=r}),n&&i.redraw(!1),p(i.container,{cursor:"move"})}}),Ue(xt.prototype,{select:function(e,t){var n=this,i=n.series,r=i.chart,e=Be(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,i.options.data[Ke(n,i.data)]=n.options,n.setState(e&&"select"),t||Ve(r.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,i.options.data[Ke(e,i.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e,t){var n=this.series,i=n.chart,r=i.tooltip,o=i.hoverPoint;i.hoverSeries!==n&&n.onMouseOver(),o&&o!==this&&o.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),r&&(!r.shared||n.noSharedTooltip)&&r.refresh(this,e),this.setState("hover"),!t)&&(i.hoverPoint=this)},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut"),t&&Ke(this,t)!==-1||(this.setState(),e.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,n=e(this.series.options.point,this.options).events;this.events=n;for(t in n)Ze(this,t,n[t]);this.hasImportedEvents=!0}},setState:function(t,n){var i,r=le(this.plotX),o=this.plotY,a=this.series,s=a.options.states,l=it[a.type].marker&&a.options.marker,c=l&&!l.enabled,u=l&&l.states[t],d=u&&u.enabled===!1,p=a.stateMarkerGraphic,h=this.marker||{},f=a.chart,m=a.halo,t=t||"";i=this.pointAttr[t]||a.pointAttr[t],t===this.state&&!n||this.selected&&"select"!==t||s[t]&&s[t].enabled===!1||t&&(d||c&&u.enabled===!1)||t&&h.states&&h.states[t]&&h.states[t].enabled===!1||(this.graphic?(l=l&&this.graphic.symbolName&&i.r,this.graphic.attr(e(i,l?{x:r-l,y:o-l,width:2*l,height:2*l}:{})),p&&p.hide()):(t&&u&&(l=u.radius,h=h.symbol||a.symbol,p&&p.currentSymbol!==h&&(p=p.destroy()),p?p[n?"animate":"attr"]({x:r-l,y:o-l}):h&&(a.stateMarkerGraphic=p=f.renderer.symbol(h,r-l,o-l,2*l,2*l).attr(i).add(a.markerGroup),p.currentSymbol=h)),p&&(p[t&&f.isInsidePlot(r,o,f.inverted)?"show":"hide"](),p.element.point=this)),(r=s[t]&&s[t].halo)&&r.size?(m||(a.halo=m=f.renderer.path().add(f.seriesGroup)),m.attr(Ue({fill:st(this.color||a.color).setOpacity(r.opacity).get()},r.attributes))[n?"animate":"attr"]({d:this.haloPath(r.size)})):m&&m.attr({d:[]}),this.state=t)},haloPath:function(e){var t=this.series,n=t.chart,i=t.getPlotBox(),r=n.inverted;return n.renderer.symbols.circle(i.translateX+(r?t.yAxis.len-this.plotY:this.plotX)-e,i.translateY+(r?t.xAxis.len-this.plotX:this.plotY)-e,2*e,2*e)}}),Ue($t.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&Je(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,i=t.hoverPoint;t.hoverSeries=null,i&&i.onMouseOut(),this&&e.events.mouseOut&&Je(this,"mouseOut"),n&&!e.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),this.setState()},setState:function(e){var t=this.options,n=this.graph,i=t.states,r=t.lineWidth,t=0,e=e||"";if(this.state!==e&&(this.state=e,!(i[e]&&i[e].enabled===!1)&&(e&&(r=i[e].lineWidth||r+(i[e].lineWidthPlus||0)),n&&!n.dashstyle)))for(e={"stroke-width":r},n.attr(e);this["zoneGraph"+t];)this["zoneGraph"+t].attr(e),t+=1},setVisible:function(e,t){var n,i=this,r=i.chart,o=i.legendItem,a=r.options.chart.ignoreHiddenSeries,s=i.visible;n=(i.visible=e=i.userOptions.visible=e===P?!s:e)?"show":"hide",Ve(["group","dataLabelsGroup","markerGroup","tracker"],function(e){i[e]&&i[e][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),o&&r.legend.colorizeItem(i,e),i.isDirty=!0,i.options.stacking&&Ve(r.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),Ve(i.linkedSeries,function(t){t.setVisible(e,!1)}),a&&(r.isDirtyBox=!0),t!==!1&&r.redraw(),Je(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===P?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),Je(this,e?"select":"unselect")},drawTracker:je.drawTrackerGraph}),Ue(ie,{Color:st,Point:xt,Tick:D,Renderer:O,SVGElement:A,SVGRenderer:lt,arrayMin:x,arrayMax:$,charts:Me,dateFormat:F,error:C,format:v,pathAnim:R,getOptions:function(){return L},hasBidiBug:Se,isTouchDevice:ke,setOptions:function(t){return L=e(!0,L,t),E(),L},addEvent:Ze,removeEvent:Qe,createElement:h,discardElement:_,css:p,each:Ve,map:Xe,merge:e,splat:d,extendClass:f,pInt:t,svg:Ce,canvas:Te,vml:!Ce&&!Te,product:"Highcharts",version:"4.1.9"})}(),define("highcharts",["jquery"],function(){}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="highcharts-ng"),function(){"use strict";function e(){return{indexOf:function(e,t,n){void 0===n&&(n=0),0>n&&(n+=e.length),0>n&&(n=0);for(var i=e.length;i>n;n++)if(n in e&&e[n]===t)return n;return-1},prependMethod:function(e,t,n){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return n.apply(this,e),i?i.apply(this,e):void 0}},deepExtend:function e(t,n){if(angular.isArray(n)){t=angular.isArray(t)?t:[];for(var i=0;i<n.length;i++)t[i]=e(t[i]||{},n[i])}else if(angular.isObject(n))for(var r in n)t[r]=e(t[r]||{},n[r]);else t=n;return t}}}function t(e,t){var n=0,i=function(e){var t=!1;return angular.forEach(e,function(e){angular.isDefined(e.id)||(e.id="series-"+n++,t=!0)}),t},r=["xAxis","yAxis"],o={stock:"StockChart",map:"Map",chart:"Chart"},a=function(t,n,i){var o={},a={chart:{events:{}},title:{},subtitle:{},series:[],credits:{},plotOptions:{},navigator:{enabled:!1}};return o=i.options?e.deepExtend(a,i.options):a,o.chart.renderTo=n[0],angular.forEach(r,function(n){angular.isDefined(i[n])&&(o[n]=angular.copy(i[n]),(angular.isDefined(i[n].currentMin)||angular.isDefined(i[n].currentMax))&&(e.prependMethod(o.chart.events,"selection",function(e){var i=this;t.$apply(e[n]?function(){t.config[n].currentMin=e[n][0].min,t.config[n].currentMax=e[n][0].max}:function(){t.config[n].currentMin=i[n][0].dataMin,t.config[n].currentMax=i[n][0].dataMax})}),e.prependMethod(o.chart.events,"addSeries",function(){t.config[n].currentMin=this[n][0].min||t.config[n].currentMin,t.config[n].currentMax=this[n][0].max||t.config[n].currentMax})))}),i.title&&(o.title=i.title),i.subtitle&&(o.subtitle=i.subtitle),i.credits&&(o.credits=i.credits),i.size&&(i.size.width&&(o.chart.width=i.size.width),i.size.height&&(o.chart.height=i.size.height)),o},s=function(e,t){var n=e.getExtremes();(t.currentMin!==n.dataMin||t.currentMax!==n.dataMax)&&e.setExtremes(t.currentMin,t.currentMax,!1)},l=function(e,t,n){(t.currentMin||t.currentMax)&&e[n][0].setExtremes(t.currentMin,t.currentMax,!0)},c=function(t){return e.deepExtend({},t,{data:null,visible:null})},u=function(e){return void 0===e.config?"Chart":o[(""+e.config.chartType).toLowerCase()]||(e.config.useHighStocks?"StockChart":"Chart")};return{restrict:"EAC",replace:!0,template:"<div></div>",scope:{config:"=",disableDataWatch:"="},link:function(n,o){var d={},p=function(t){var r,o=[];if(t){var a=i(t);if(a)return!1;if(angular.forEach(t,function(e){o.push(e.id);var t=h.get(e.id);t?angular.equals(d[e.id],c(e))?(void 0!==e.visible&&t.visible!==e.visible&&t.setVisible(e.visible,!1),t.setData(angular.copy(e.data),!1)):t.update(angular.copy(e),!1):h.addSeries(angular.copy(e),!1),d[e.id]=c(e)}),n.config.noData){var s=!1;for(r=0;r<t.length;r++)if(t[r].data&&t[r].data.length>0){s=!0;break}s?h.hideLoading():h.showLoading(n.config.noData)}}for(r=h.series.length-1;r>=0;r--){var l=h.series[r];"highcharts-navigator-series"!==l.options.id&&e.indexOf(o,l.options.id)<0&&l.remove(!1)}return!0},h=!1,f=function(){h&&h.destroy(),d={};var e=n.config||{},t=a(n,o,e),i=e.func||void 0,s=u(n);h=new Highcharts[s](t,i);for(var c=0;c<r.length;c++)e[r[c]]&&l(h,e[r[c]],r[c]);e.loading&&h.showLoading(),e.getHighcharts=function(){return h}};f(),n.disableDataWatch?n.$watchCollection("config.series",function(e){p(e),h.redraw()}):n.$watch("config.series",function(e){var t=p(e);t&&h.redraw()},!0),n.$watch("config.title",function(e){h.setTitle(e,!0)},!0),n.$watch("config.subtitle",function(e){h.setTitle(!0,e)},!0),n.$watch("config.loading",function(e){e?h.showLoading(e===!0?null:e):h.hideLoading()}),n.$watch("config.noData",function(e){n.config&&n.config.loading&&h.showLoading(e)},!0),n.$watch("config.credits.enabled",function(e){e?h.credits.show():h.credits&&h.credits.hide()}),n.$watch(u,function(e,t){e!==t&&f()}),angular.forEach(r,function(e){n.$watch("config."+e,function(t,n){if(t!==n&&t){if(angular.isArray(t))for(var i=0;i<t.length;i++){var r=t[i];i<h[e].length&&(h[e][i].update(r,!1),s(h[e][i],angular.copy(r)))}else h[e][0].update(t,!1),s(h[e][0],angular.copy(t));h.redraw()}},!0)}),n.$watch("config.options",function(e,t,n){e!==t&&(f(),p(n.config.series),h.redraw())},!0),n.$watch("config.size",function(e,t){e!==t&&e&&h.setSize(e.width||void 0,e.height||void 0)},!0),n.$on("highchartsng.reflow",function(){h.reflow()}),n.$on("$destroy",function(){if(h){try{h.destroy()}catch(e){}t(function(){o.remove()},0)}})}}}angular.module("highcharts-ng",[]).factory("highchartsNGUtils",e).directive("highchart",["highchartsNGUtils","$timeout",t])}(),define("highcharts-ng",["angular","highcharts"],function(){}),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("fileUpload",t):"object"==typeof exports?exports["angular-file-upload"]=t():e["angular-file-upload"]=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e.default:e},r=i(n(2)),o=i(n(3)),a=i(n(4)),s=i(n(5)),l=i(n(6)),c=i(n(7)),u=i(n(1)),d=i(n(8)),p=i(n(9)),h=i(n(10)),f=i(n(11)),m=i(n(12));angular.module(r.name,[]).value("fileUploaderOptions",o).factory("FileUploader",a).factory("FileLikeObject",s).factory("FileItem",l).factory("FileDirective",c).factory("FileSelect",u).factory("FileDrop",d).factory("FileOver",p).directive("nvFileSelect",h).directive("nvFileDrop",f).directive("nvFileOver",m).run(["FileUploader","FileLikeObject","FileItem","FileDirective","FileSelect","FileDrop","FileOver",function(e,t,n,i,r,o,a){e.FileLikeObject=t,e.FileItem=n,e.FileDirective=i,e.FileSelect=r,e.FileDrop=o,e.FileOver=a}])},function(e,t,n){
"use strict";var i=function(e){return e&&e.__esModule?e.default:e},r=function(){function e(e,t){for(var n in t){var i=t[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(e,t)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0===a?void 0:a.call(i)},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};i(n(2)),e.exports=function(e){var t=function(e){function t(e){s(this,t),this.events={$destroy:"destroy",change:"onChange"},this.prop="select",o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.uploader.isHTML5||this.element.removeAttr("multiple"),this.element.prop("value",null)}return a(t,e),r(t,{getOptions:{value:function(){}},getFilters:{value:function(){}},isEmptyAfterSelection:{value:function(){return!!this.element.attr("multiple")}},onChange:{value:function(){var e=this.uploader.isHTML5?this.element[0].files:this.element[0],t=this.getOptions(),n=this.getFilters();this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(e,t,n),this.isEmptyAfterSelection()&&this.element.prop("value",null)}}}),t}(e);return t},e.exports.$inject=["FileDirective"]},function(e,t){e.exports={name:"angularFileUpload"}},function(e,t){"use strict";e.exports={url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1}},function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e.default:e},r=function(){function e(e,t){for(var n in t){var i=t[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(e,t)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=(i(n(2)),angular.copy),s=angular.extend,l=angular.forEach,c=angular.isObject,u=angular.isNumber,d=angular.isDefined,p=angular.isArray,h=angular.element;e.exports=function(e,t,n,i,f,m){var g=i.File,v=i.FormData,y=function(){function i(t){o(this,i);var n=a(e);s(this,n,t,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}return r(i,{addToQueue:{value:function(e,t,n){var i=this,r=this.isArrayLikeObject(e)?e:[e],o=this._getFilters(n),a=this.queue.length,s=[];l(r,function(e){var n=new f(e);if(i._isValidFile(n,o,t)){var r=new m(i,e,t);s.push(r),i.queue.push(r),i._onAfterAddingFile(r)}else{var a=o[i._failFilterIndex];i._onWhenAddingFileFailed(n,a,t)}}),this.queue.length!==a&&(this._onAfterAddingAll(s),this.progress=this._getTotalProgress()),this._render(),this.autoUpload&&this.uploadAll()}},removeFromQueue:{value:function(e){var t=this.getIndexOfItem(e),n=this.queue[t];n.isUploading&&n.cancel(),this.queue.splice(t,1),n._destroy(),this.progress=this._getTotalProgress()}},clearQueue:{value:function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}},uploadItem:{value:function(e){var t=this.getIndexOfItem(e),n=this.queue[t],i=this.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[i](n))}},cancelItem:{value:function(e){var t=this.getIndexOfItem(e),n=this.queue[t],i=this.isHTML5?"_xhr":"_form";n&&n.isUploading&&n[i].abort()}},uploadAll:{value:function(){var e=this.getNotUploadedItems().filter(function(e){return!e.isUploading});e.length&&(l(e,function(e){return e._prepareToUploading()}),e[0].upload())}},cancelAll:{value:function(){var e=this.getNotUploadedItems();l(e,function(e){return e.cancel()})}},isFile:{value:function(e){return this.constructor.isFile(e)}},isFileLikeObject:{value:function(e){return this.constructor.isFileLikeObject(e)}},isArrayLikeObject:{value:function(e){return this.constructor.isArrayLikeObject(e)}},getIndexOfItem:{value:function(e){return u(e)?e:this.queue.indexOf(e)}},getNotUploadedItems:{value:function(){return this.queue.filter(function(e){return!e.isUploaded})}},getReadyItems:{value:function(){return this.queue.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,t){return e.index-t.index})}},destroy:{value:function(){var e=this;l(this._directives,function(t){l(e._directives[t],function(e){e.destroy()})})}},onAfterAddingAll:{value:function(e){}},onAfterAddingFile:{value:function(e){}},onWhenAddingFileFailed:{value:function(e,t,n){}},onBeforeUploadItem:{value:function(e){}},onProgressItem:{value:function(e,t){}},onProgressAll:{value:function(e){}},onSuccessItem:{value:function(e,t,n,i){}},onErrorItem:{value:function(e,t,n,i){}},onCancelItem:{value:function(e,t,n,i){}},onCompleteItem:{value:function(e,t,n,i){}},onCompleteAll:{value:function(){}},_getTotalProgress:{value:function(e){if(this.removeAfterUpload)return e||0;var t=this.getNotUploadedItems().length,n=t?this.queue.length-t:this.queue.length,i=100/this.queue.length,r=(e||0)*i/100;return Math.round(n*i+r)}},_getFilters:{value:function(e){if(!e)return this.filters;if(p(e))return e;var t=e.match(/[^\s,]+/g);return this.filters.filter(function(e){return-1!==t.indexOf(e.name)})}},_render:{value:function(){t.$$phase||t.$apply()}},_folderFilter:{value:function(e){return!(!e.size&&!e.type)}},_queueLimitFilter:{value:function(){return this.queue.length<this.queueLimit}},_isValidFile:{value:function(e,t,n){var i=this;return this._failFilterIndex=-1,!t.length||t.every(function(t){return i._failFilterIndex++,t.fn.call(i,e,n)})}},_isSuccessCode:{value:function(e){return e>=200&&300>e||304===e}},_transformResponse:{value:function(e,t){var i=this._headersGetter(t);return l(n.defaults.transformResponse,function(t){e=t(e,i)}),e}},_parseHeaders:{value:function(e){var t,n,i,r={};return e?(l(e.split("\n"),function(e){i=e.indexOf(":"),t=e.slice(0,i).trim().toLowerCase(),n=e.slice(i+1).trim(),t&&(r[t]=r[t]?r[t]+", "+n:n)}),r):r}},_headersGetter:{value:function(e){return function(t){return t?e[t.toLowerCase()]||null:e}}},_xhrTransport:{value:function(e){var t=this,n=e._xhr=new XMLHttpRequest,i=new v;if(this._onBeforeUploadItem(e),l(e.formData,function(e){l(e,function(e,t){i.append(t,e)})}),"number"!=typeof e._file.size)throw new TypeError("The file specified is no longer valid");i.append(e.alias,e._file,e.file.name),n.upload.onprogress=function(n){var i=Math.round(n.lengthComputable?100*n.loaded/n.total:0);t._onProgressItem(e,i)},n.onload=function(){var i=t._parseHeaders(n.getAllResponseHeaders()),r=t._transformResponse(n.response,i),o=t._isSuccessCode(n.status)?"Success":"Error",a="_on"+o+"Item";t[a](e,r,n.status,i),t._onCompleteItem(e,r,n.status,i)},n.onerror=function(){var i=t._parseHeaders(n.getAllResponseHeaders()),r=t._transformResponse(n.response,i);t._onErrorItem(e,r,n.status,i),t._onCompleteItem(e,r,n.status,i)},n.onabort=function(){var i=t._parseHeaders(n.getAllResponseHeaders()),r=t._transformResponse(n.response,i);t._onCancelItem(e,r,n.status,i),t._onCompleteItem(e,r,n.status,i)},n.open(e.method,e.url,!0),n.withCredentials=e.withCredentials,l(e.headers,function(e,t){n.setRequestHeader(t,e)}),n.send(i),this._render()}},_iframeTransport:{value:function(e){var t=this,n=h('<form style="display: none;" />'),i=h('<iframe name="iframeTransport'+Date.now()+'">'),r=e._input;e._form&&e._form.replaceWith(r),e._form=n,this._onBeforeUploadItem(e),r.prop("name",e.alias),l(e.formData,function(e){l(e,function(e,t){var i=h('<input type="hidden" name="'+t+'" />');i.val(e),n.append(i)})}),n.prop({action:e.url,method:"POST",target:i.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),i.bind("load",function(){var n="",r=200;try{n=i[0].contentDocument.body.innerHTML}catch(e){r=500}var o={response:n,status:r,dummy:!0},a={},s=t._transformResponse(o.response,a);t._onSuccessItem(e,s,o.status,a),t._onCompleteItem(e,s,o.status,a)}),n.abort=function(){var o,a={status:0,dummy:!0},s={};i.unbind("load").prop("src","javascript:false;"),n.replaceWith(r),t._onCancelItem(e,o,a.status,s),t._onCompleteItem(e,o,a.status,s)},r.after(n),n.append(r).append(i),n[0].submit(),this._render()}},_onWhenAddingFileFailed:{value:function(e,t,n){this.onWhenAddingFileFailed(e,t,n)}},_onAfterAddingFile:{value:function(e){this.onAfterAddingFile(e)}},_onAfterAddingAll:{value:function(e){this.onAfterAddingAll(e)}},_onBeforeUploadItem:{value:function(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)}},_onProgressItem:{value:function(e,t){var n=this._getTotalProgress(t);this.progress=n,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(n),this._render()}},_onSuccessItem:{value:function(e,t,n,i){e._onSuccess(t,n,i),this.onSuccessItem(e,t,n,i)}},_onErrorItem:{value:function(e,t,n,i){e._onError(t,n,i),this.onErrorItem(e,t,n,i)}},_onCancelItem:{value:function(e,t,n,i){e._onCancel(t,n,i),this.onCancelItem(e,t,n,i)}},_onCompleteItem:{value:function(e,t,n,i){e._onComplete(t,n,i),this.onCompleteItem(e,t,n,i);var r=this.getReadyItems()[0];return this.isUploading=!1,d(r)?void r.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),void this._render())}}},{isFile:{value:function(e){return g&&e instanceof g}},isFileLikeObject:{value:function(e){return e instanceof f}},isArrayLikeObject:{value:function(e){return c(e)&&"length"in e}},inherit:{value:function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.super_=t}}}),i}();return y.prototype.isHTML5=!(!g||!v),y.isHTML5=y.prototype.isHTML5,y},e.exports.$inject=["fileUploaderOptions","$rootScope","$http","$window","FileLikeObject","FileItem"]},function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e.default:e},r=function(){function e(e,t){for(var n in t){var i=t[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(e,t)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=(i(n(2)),angular.copy),s=angular.isElement,l=angular.isString;e.exports=function(){var e=function(){function e(t){o(this,e);var n=s(t),i=n?t.value:t,r=l(i)?"FakePath":"Object",a="_createFrom"+r;this[a](i)}return r(e,{_createFromFakePath:{value:function(e){this.lastModifiedDate=null,this.size=null,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)}},_createFromObject:{value:function(e){this.lastModifiedDate=a(e.lastModifiedDate),this.size=e.size,this.type=e.type,this.name=e.name}}}),e}();return e},e.exports.$inject=[]},function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e.default:e},r=function(){function e(e,t){for(var n in t){var i=t[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(e,t)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=(i(n(2)),angular.copy),s=angular.extend,l=angular.element,c=angular.isElement;e.exports=function(e,t){var n=function(){function n(e,i,r){o(this,n);var u=c(i),d=u?l(i):null,p=u?null:i;s(this,{url:e.url,alias:e.alias,headers:a(e.headers),formData:a(e.formData),removeAfterUpload:e.removeAfterUpload,withCredentials:e.withCredentials,method:e.method},r,{uploader:e,file:new t(i),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:p,_input:d}),d&&this._replaceNode(d)}return r(n,{upload:{value:function(){try{this.uploader.uploadItem(this)}catch(e){this.uploader._onCompleteItem(this,"",0,[]),this.uploader._onErrorItem(this,"",0,[])}}},cancel:{value:function(){this.uploader.cancelItem(this)}},remove:{value:function(){this.uploader.removeFromQueue(this)}},onBeforeUpload:{value:function(){}},onProgress:{value:function(e){}},onSuccess:{value:function(e,t,n){}},onError:{value:function(e,t,n){}},onCancel:{value:function(e,t,n){}},onComplete:{value:function(e,t,n){}},_onBeforeUpload:{value:function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}},_onProgress:{value:function(e){this.progress=e,this.onProgress(e)}},_onSuccess:{value:function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(e,t,n)}},_onError:{value:function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(e,t,n)}},_onCancel:{value:function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(e,t,n)}},_onComplete:{value:function(e,t,n){this.onComplete(e,t,n),this.removeAfterUpload&&this.remove()}},_destroy:{value:function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input}},_prepareToUploading:{value:function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}},_replaceNode:{value:function(t){var n=e(t.clone())(t.scope());n.prop("value",null),t.css("display","none"),t.after(n)}}}),n}();return n},e.exports.$inject=["$compile","FileLikeObject"]},function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e.default:e},r=function(){function e(e,t){for(var n in t){var i=t[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(e,t)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=(i(n(2)),angular.extend);e.exports=function(){var e=function(){function e(t){o(this,e),a(this,t),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}return r(e,{bind:{value:function(){for(var e in this.events){var t=this.events[e];this.element.bind(e,this[t])}}},unbind:{value:function(){for(var e in this.events)this.element.unbind(e,this.events[e])}},destroy:{value:function(){var e=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(e,1),this.unbind()}},_saveLinks:{value:function(){for(var e in this.events){var t=this.events[e];this[t]=this[t].bind(this)}}}}),e}();return e.prototype.events={},e},e.exports.$inject=[]},function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e.default:e},r=function(){function e(e,t){for(var n in t){var i=t[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(e,t)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0===a?void 0:a.call(i)},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=(i(n(2)),angular.forEach);e.exports=function(e){var t=function(e){function t(e){s(this,t),this.events={$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},this.prop="drop",o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return a(t,e),r(t,{getOptions:{value:function(){}},getFilters:{value:function(){}},onDrop:{value:function(e){var t=this._getTransfer(e);if(t){var n=this.getOptions(),i=this.getFilters();this._preventAndStop(e),l(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(t.files,n,i)}}},onDragOver:{value:function(e){var t=this._getTransfer(e);this._haveFiles(t.types)&&(t.dropEffect="copy",this._preventAndStop(e),l(this.uploader._directives.over,this._addOverClass,this))}},onDragLeave:{value:function(e){e.currentTarget!==this.element[0]&&(this._preventAndStop(e),l(this.uploader._directives.over,this._removeOverClass,this))}},_getTransfer:{value:function(e){return e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer}},_preventAndStop:{value:function(e){e.preventDefault(),e.stopPropagation()}},_haveFiles:{value:function(e){return!!e&&(e.indexOf?-1!==e.indexOf("Files"):!!e.contains&&e.contains("Files"))}},_addOverClass:{value:function(e){e.addOverClass()}},_removeOverClass:{value:function(e){e.removeOverClass()}}}),t}(e);return t},e.exports.$inject=["FileDirective"]},function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e.default:e},r=function(){function e(e,t){for(var n in t){var i=t[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(e,t)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r&&r.writable)return r.value;var a=r.get;return void 0===a?void 0:a.call(i)},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};i(n(2)),e.exports=function(e){var t=function(e){function t(e){s(this,t),this.events={$destroy:"destroy"},this.prop="over",this.overClass="nv-file-over",o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return a(t,e),r(t,{addOverClass:{value:function(){this.element.addClass(this.getOverClass())}},removeOverClass:{value:function(){this.element.removeClass(this.getOverClass())}},getOverClass:{value:function(){return this.overClass}}}),t}(e);return t},e.exports.$inject=["FileDirective"]},function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e.default:e};i(n(2)),e.exports=function(e,t,n){return{link:function(i,r,o){var a=i.$eval(o.uploader);if(!(a instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');var s=new n({uploader:a,element:r});s.getOptions=e(o.options).bind(s,i),s.getFilters=function(){return o.filters}}}},e.exports.$inject=["$parse","FileUploader","FileSelect"]},function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e.default:e};i(n(2)),e.exports=function(e,t,n){return{link:function(i,r,o){var a=i.$eval(o.uploader);if(!(a instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');if(a.isHTML5){var s=new n({uploader:a,element:r});s.getOptions=e(o.options).bind(s,i),s.getFilters=function(){return o.filters}}}}},e.exports.$inject=["$parse","FileUploader","FileDrop"]},function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e.default:e};i(n(2)),e.exports=function(e,t){return{link:function(n,i,r){var o=n.$eval(r.uploader);if(!(o instanceof e))throw new TypeError('"Uploader" must be an instance of FileUploader');var a=new t({uploader:o,element:i});a.getOverClass=function(){return r.overClass||a.overClass}}}},e.exports.$inject=["FileUploader","FileOver"]}])}),define("app",["angular","ui-router","ui-bootstrap","angular-sanitize","ui-select","ngCookies","sticky","_","ngUnderScore","ngResource","highcharts-ng","fileUpload"],function(e){return e.module("app",["ui.router","ngResource","ngCookies","ngSanitize","ui.bootstrap","ui.select","angularFileUpload","angular-underscore","sticky","highcharts-ng"])}),angular.module("ngLocale",[],["$provide",function(e){var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["上午","下午"],DAY:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ERANAMES:["公元前","公元"],ERAS:["公元前","公元"],FIRSTDAYOFWEEK:6,MONTH:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],SHORTDAY:["周日","周一","周二","周三","周四","周五","周六"],SHORTMONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],WEEKENDRANGE:[5,6],fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"y年M月d日 ah:mm:ss",mediumDate:"y年M月d日",mediumTime:"ah:mm:ss",short:"yy/M/d ah:mm",shortDate:"yy/M/d",shortTime:"ah:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"¥",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤ -",negSuf:"",posPre:"¤ ",posSuf:""}]},id:"zh-cn",pluralCat:function(e,n){return t.OTHER}})}]),define("i18n",["angular"],function(){}),define("service/values",["app"],function(e){e.service("edu",function(){return[{label:"不限",code:0},{label:"初中",code:1},{label:"高中",code:2},{label:"中专",code:3},{label:"大专",code:4},{label:"本科",code:5},{label:"硕士",code:6},{label:"博士",code:7}]}),e.service("salary",function(){return[{label:"面议",code:0},{label:"1500以下",code:1},{label:"1500-1999",code:2},{label:"2000-2999",code:3},{label:"3000-4499",code:4},{label:"4500-5999",code:5},{label:"6000-7999",code:6},{label:"8000-9999",code:7},{label:"10000-14999",code:8},{label:"15000-19999",code:9},{label:"20000-24999",code:10},{label:"25000-29999",code:11},{label:"30000-39999",code:12},{label:"40000-49999",code:13},{label:"50000-59999",code:14},{label:"60000-69999",code:15},{label:"70000--99999",code:16},{label:"100000以上",code:17}]}),e.service("exp",function(){return[{label:"不限",code:0},{label:"无经验",code:1},{label:"应届生",code:2},{label:"1年以下",code:3},{label:"1-3年",code:4},{label:"3-5年",code:5},{label:"5-7年",code:6},{label:"8-9年",code:7},{label:"10年以上",code:8}]}),e.service("staffCondition",function(){return[{label:"--全部--",code:"0"},{label:"按员工姓名搜索",code:"1"},{label:"按员工工号搜索",code:"2"},{label:"按微信昵称搜索",code:"3"}]})}),define("filter/filter",["angular","app","service/values"],function(e,t){t.filter("positionStatus",function(){var e={OPEN:"招聘进行中",CLOSED:"招聘关闭"};return function(t){return e[t]?e[t]:"未知"}}),t.filter("exp",["exp",function(e){return function(t){if(_.findWhere(e,{code:t}))return _.findWhere(e,{code:t}).label}}]),t.filter("salary",["salary",function(e){return function(t){if(_.findWhere(e,{code:t}))return _.findWhere(e,{code:t}).label}}]),t.filter("edu",["edu",function(e){return function(t){if(_.findWhere(e,{code:t}))return _.findWhere(e,{code:t}).label}}]),t.filter("positionReleaseTime",function(){var e={0:"不限",7:"一周内",30:"一月内",90:"三月内",180:"半年内"};return function(t){return e[t]?e[t]:"未知"}}),t.filter("posTag",function(){var e={urgent:"急",hot:"热"};return function(t){return e[t]?e[t]:""}}),t.filter("limitByDot",["$filter",function(e){return function(t,n){return t.length>n?e("limitTo")(t,n)+"...":t}}]),t.filter("cv_source",function(){var e={"51job":{label:"前程无忧",img:"images/ic51.png"},liepin:{label:"猎聘",img:"images/iclp.png"},zhaopin:{label:"智联招聘",img:"images/iczp.png"},dajie:{label:"大街",img:"images/icdj.png"},linkedin:{label:"Linkedin",img:"images/iclk.png"},m91:{label:"魅力91",img:"images/icm91.png"},yjs:{label:"应届生",img:"images/icyjs.png"},chinahr:{label:"中华英才网",img:"images/icyc.png"},58:{label:"58同城",img:"images/ic58.png"},highpin:{label:"卓聘",img:"images/ichp.png"},manual:{label:"新建简历"},referral:{label:"简历推荐"}};return function(t,n){return n?e[t]&&e[t].img:e[t]&&e[t].label}}),t.filter("posProp",function(){var e={SOCIAL:"社会招聘",CAMPUS:"校园招聘"};return function(t){return e[t]?e[t]:"未知"}}),t.filter("greeting",function(){return function(e){var t=parseInt(e);return t>=0&&e<5?"凌晨好":t>=5&&e<12?"上午好":t>=12&&e<13?"中午好":t>=13&&e<19?"下午好":t>=19&&e<24?"晚上好":void 0}}),t.filter("sex",function(){var e={FEMALE:"ion-female",MALE:"ion-male"},t={FEMALE:"女",MALE:"男"};return function(n,i){return 0==i?e[n]:t[n]}}),t.filter("myDate",function(){return function(e){if(e){var t=new Date(e).getTime(),n=(new Date).getTime(),i=n-t;return 1728e5>i&&i>=864e5?"前天":1728e5>i&&i>=864e5?"昨天":864e5>i&&i>=36e5?Math.round(i/36e5)+"小时前":36e5>i&&i>=6e4?Math.round(i/6e4)+"分钟前":6e4>i&&i>=1e3?Math.round(i/1e3)+"秒前":e}return"未知时间"}}),t.filter("limitRepeatIndex",function(){return function(t,n){var i={};return e.forEach(t,function(e,t){/FORWARD/.test(t)&&(i[t]=e)}),i}})}),define("directive/com",["app"],function(e){e.directive("fileread",[function(){return{scope:{fileread:"=",filetype:"=",fileInfo:"=",readerError:"&",readerSuccess:"&"},link:function(e,t,n){var i,r=["jpg","gif","png","jpeg"];FileReader&&(t.on("change",function(t){if(i=new FileReader,i.onload=function(t){e.$apply(function(){e.fileread=t.target.result,e.readerSuccess({fileData:{data:e.fileread,info:e.fileInfo,type:e.filetype}})})},t.target.files[0].size>204800)return e.readerError({msg:"请上传小于200k的文件"}),e.fileInfo=null,void(e.fileread=null);var n=t.target.files[0].name.split(".").pop().toLowerCase();return r.indexOf(n)<0?(e.readerError({msg:"请上传正确的格式"}),e.fileInfo=null,e.fileread=null,!1):(e.$apply(function(){e.fileInfo=t.target.files[0],e.filetype=n}),i.readAsDataURL(t.target.files[0]),void(i.onerror=function(t){e.fileInfo=null,e.fileread=null,e.readerError({msg:t})}))}),e.$on("$destroy",function(){t.off("change"),i&&(i.onload=null)}))}}}]),e.directive("clickReload",["$state",function(e){return{restrict:"A",link:function(t,n,i){n.on("click",function(){e.reload()})}}}]),e.directive("eleModel",["$sce",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){function o(){var e=n.text();i.stripBr&&"<br>"==e&&(e=""),r.$setViewValue(e)}r&&(r.$render=function(){n.html(e.getTrustedHtml(r.$viewValue||""))},n.on("blur keyup change",function(){t.$evalAsync(o)}),o())}}}]),e.directive("popPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}),e.directive("pop",function(e,t){var n=e("pop","pop","event"),i=angular.copy(n.compile);return n.compile=function(e,n){var r=!0;return n.$observe("popShow",function(n){JSON.parse(!r||n||!1)&&t(function(){e.triggerHandler("event")}),r=!1}),i(e,n)},n}),e.directive("clickOuterHide",function(){return{restrict:"A",scope:{onHide:"&",clickOuterHideExcept:"@"},link:function(e,t){angular.element(e.clickOuterHideExcept).on("click",function(e){e.stopPropagation()}),angular.element("body").on("click.outHide",function(){e.$apply(function(){e.onHide(),$(t).hide()})}),t.on("click",function(e){e.stopPropagation()}),e.$on("$destroy",function(){angular.element("body").off("click.outHide"),t.off("click")})}}}),e.directive("clickStopProp",function(){return{restrict:"A",scope:{},link:function(e,t){t.on("click.stopProp",function(e){e.stopPropagation()}),e.$on("$destroy",function(){t.off("click.stopProp")})}}})}),define("service/constant",["app"],function(e){function t(){var e="http://10.21.109.23/",t=location.href;return/localhost:/.test(t)?e:"/"}function n(){var e=location.href;if(/localhost:/.test(e))return"demo";var t=/http:\/\/.*?\/(\w+)/;return t.exec(e)&&t.exec(e)[1]||"demo"}e.constant({APIHOST:t()+n()+"/admin/"})}),define("service/user",["app","service/constant"],function(e){e.service("user",["$resource","APIHOST",function(e,t){return e(t+"user/:id",{id:"@id"},{getUser:{method:"GET",url:t+"user"},logout:{method:"POST",url:t+"user/logout"}})}])}),define("service/company",["app","service/constant"],function(e){e.service("company",["$resource","APIHOST",function(e,t){return e(t+"company/:id",{id:"@id"},{update:{method:"PUT",url:t+"company/image"},image:{method:"PUT",url:t+"companies/image"}})}])}),define("service/alert",["app"],function(e){e.service("alertService",["$rootScope","$timeout",function(e,t){function n(e,n,r){if(_.findWhere(s,{msg:e}))return!1;var o={type:r||"success ",msg:e,close:function(){return i(this)}};return n&&(l=t(function(){i(o)},n)),s.push(o)}function i(e){return r(s.indexOf(e))}function r(e){return s.splice(e,1)}function o(){s=[]}function a(){return s}var s=[],l=null;return{add:n,closeAlert:i,closeAlertIdx:r,clear:o,get:a}}])}),define("service/utils",["app"],function(e){e.factory("utils",[function(){return{getCorporation:function(){var e=location.href;if(/localhost:/.test(e))return"demo";var t=/http:\/\/.*?\/(\w+)/;return t.exec(e)&&t.exec(e)[1]||"demo"},getHost:function(){var e="http://10.21.109.23/",t=location.href;return/localhost:/.test(t)?e:"/"},isLocal:function(){return/localhost:/.test(location.href)},isDomain:function(){return/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/.test(location.host)},getUrlParam:function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==t?null:t[1]||0}}}])}),define("controller/appCtrl",["angular","app","i18n","filter/filter","directive/com","service/user","service/company","service/alert","service/utils","service/constant"],function(e,t){t.controller("appCtrl",["$rootScope","$scope","$state","user","company","alertService","utils","$http","APIHOST",function(e,t,n,i,r,o,a,s,l){var c=t.vm={};if(c.time=(new Date).getHours(),c.alerts=o.get(),e.corp=global_company,e.corp.custom||(e.corp.custom={}),a.isLocal()){var u=new Date;u.setDate(u.getDate()+1),e.user={username:"all",user_id:1,email:"all@demo.com",comp_name:"demo",role:"ALL",0:{id:1,username:"all",email:"all@demo.com",company_id:2,created_at:"2015-10-23 14:23:51",updated_at:"2015-10-23 17:59:16",contact:"contact",mobile:"182347452345",avatar:"/resources/demo/avatar.jpg",role:"ALL"}},r.get({id:e.user[0].company_id},function(t){e.company=t})}else i.getUser(function(t){e.user=t,r.get({id:t[0].id},function(t){e.company=t})});c.logout=function(){i.logout({},e.user,function(){location.href=a.getHost()+a.getCorporation()+"/admin/login.html"})},c.wxback=function(){s.get(l+"statistic/wxback").success(function(e){}),location.href="http://mp.weixin.qq.com"}}]),t.controller("404Ctrl",["$scope",function(e){}])}),define("router",["controller/appCtrl","service/values"],function(){return function(e,t,n){function i(e,t){return["$q","$rootScope",function(n,i){var r=n.defer();return t?require(t,function(){require([e],function(){i.$apply(function(){r.resolve()})})}):require([e],function(){i.$apply(function(){r.resolve()})}),r.promise}]}e.state("rank",{url:"/rank",abstract:!0,template:"<ui-view></ui-view>"}).state("rank.index",{url:"/index",controller:"rankIndexCtrl",title:"排行榜",resolve:{ctrl:i("controller/rankCtrl")},templateUrl:"views/rank/list.html"}).state("rank.share",{url:"/share",controller:"rankShareCtrl",title:"个人转发量排名",resolve:{ctrl:i("controller/rankCtrl")},templateUrl:"views/rank/index.html"}).state("rank.share-view",{url:"/share-view",controller:"rankShareViewCtrl",title:"转发职位被访问排名",resolve:{ctrl:i("controller/rankCtrl")},templateUrl:"views/rank/index.html"}).state("rank.share-apply",{url:"/share-apply",controller:"rankShareApplyCtrl",title:"转发职位被申请排名",resolve:{ctrl:i("controller/rankCtrl")},templateUrl:"views/rank/index.html"}).state("rank.ref",{url:"/ref",controller:"rankRefCtrl",title:"员工推荐排名",resolve:{ctrl:i("controller/rankCtrl")},templateUrl:"views/rank/index.html"}).state("statistic",{url:"/statistic",abstract:!0,template:"<ui-view></ui-view>"}).state("statistic.index",{url:"/index",controller:"statisticIndexCtrl",title:"统计图表",resolve:{ctrl:i("controller/statisticCtrl")},templateUrl:"views/statistic/list.html"}).state("statistic.view",{url:"/view",controller:"statisticViewCtrl",title:"访问量统计",resolve:{ctrl:i("controller/statisticCtrl")},templateUrl:"views/statistic/index.html"}).state("statistic.apply",{url:"/apply",controller:"statisticApplyCtrl",title:"申请量统计",resolve:{ctrl:i("controller/statisticCtrl")},templateUrl:"views/statistic/index.html"
}).state("statistic.share",{url:"/share",controller:"statisticShareCtrl",title:"转发量统计",resolve:{ctrl:i("controller/statisticCtrl")},templateUrl:"views/statistic/index.html"}).state("statistic.shareEffect",{url:"/share-effect",controller:"statisticShareEffectCtrl",title:"转发效果统计",resolve:{ctrl:i("controller/statisticCtrl")},templateUrl:"views/statistic/index.html"}).state("statistic.applyChannel",{url:"/apply-channel",controller:"statisticApplyChannelCtrl",title:"投递渠道统计",resolve:{ctrl:i("controller/statisticCtrl")},templateUrl:"views/statistic/index.html"}).state("statistic.ref",{url:"/ref",controller:"statisticRefCtrl",title:"内部推荐统计",resolve:{ctrl:i("controller/statisticCtrl")},templateUrl:"views/statistic/index.html"}).state("statistic.track",{url:"/track",controller:"statisticTrackCtrl",title:"转发数据详情",resolve:{ctrl:i("controller/statisticCtrl")},templateUrl:"views/statistic/track.html"}).state("statistic.track_detail",{url:"/track_detail?open_id",controller:"statisticTrackDetailCtrl",title:"转发数据追踪",resolve:{ctrl:i("controller/statisticCtrl")},templateUrl:"views/statistic/track_detail.html"}).state("position",{url:"/position",abstract:!0,template:"<ui-view></ui-view>"}).state("position.list",{url:"/list",title:"职位列表",controller:"positionListCtrl",resolve:{ctrl:i("controller/posList")},templateUrl:"views/position/list.html"}).state("position.edit",{url:"/edit/:id",title:"职位编辑",params:{type:"edit"},resolve:{ctrl:i("controller/posNew")},templateUrl:"views/position/new.html",controller:"positionNewCtrl"}).state("position.new",{url:"/new",title:"职位发布",params:{type:"new"},resolve:{ctrl:i("controller/posNew")},templateUrl:"views/position/new.html",controller:"positionNewCtrl"}).state("position.detail",{url:"/:id",title:"职位详情",resolve:{ctrl:i("controller/posDetail")},templateUrl:"views/position/detail.html",controller:"positionDetailCtrl"}).state("resume",{url:"/resume",abstract:!0,template:"<ui-view></ui-view>"}).state("resume.resumeNew",{url:"/new-list?from",title:"新收简历",resolve:{ctrl:i("controller/resumeNewList")},templateUrl:"views/resume/new-list.html",controller:"resumeNewListCtrl"}).state("resume.detail",{url:"/:id",title:"简历详情",resolve:{ctrl:i("controller/resumeDetail")},templateUrl:"views/resume/detail.html",controller:"resumeDetailCtrl"}).state("talent",{url:"/talent",abstract:!0,template:"<ui-view></ui-view>"}).state("talent.talentList",{url:"/talent-list?_page&&gender&name&func&level&refer&exp_position&work_exp&degree&ref_name&order_by&order",title:"人才列表",resolve:{ctrl:i("controller/talentList")},templateUrl:"views/talent/list.html",controller:"talentListCtrl"}).state("rec",{url:"/rec",abstract:!0,template:"<ui-view></ui-view>"}).state("rec.list",{url:"/list?page",title:"内部推荐",resolve:{ctrl:i("controller/recList")},templateUrl:"views/recommend/list.html",controller:"recListCtrl"}).state("rec.detail",{url:"/:id?page",title:"推荐详情",resolve:{ctrl:i("controller/recDetail")},templateUrl:"views/recommend/detail.html",controller:"recDetailCtrl"}).state("setting",{url:"/setting",title:"修改企业宣传信息",resolve:{ctrl:i("controller/setting")},templateUrl:"views/com/setting.html",controller:"settingCtrl"}).state("userInfo",{url:"/user-info",title:"修改用户信息",resolve:{ctrl:i("controller/userInfo")},templateUrl:"views/com/user-info.html",controller:"userInfoCtrl"}).state("about",{url:"/about",title:"公司简介",resolve:{ctrl:i("controller/about")},templateUrl:"views/com/about.html",controller:"aboutCtrl"}).state("identify",{url:"/identify?page&type&keyword&authentication",title:"员工认证",resolve:{ctrl:i("controller/identify")},templateUrl:"views/com/identify.html",controller:"identifyCtrl"}).state("childMember",{url:"/childMember",title:"子会员",resolve:{ctrl:i("controller/childMember")},templateUrl:"views/com/childMember.html",controller:"childMemberCtrl"}).state("childMemberDetail",{url:"/childMember/:id",title:"编辑子会员",params:{type:"edit"},resolve:{ctrl:i("controller/childMember")},templateUrl:"views/com/childMemberDetail.html",controller:"childMemberDetailCtrl"}).state("childMemberNew",{url:"/childMemberNew",title:"创建新会员",params:{type:"new"},resolve:{ctrl:i("controller/childMember")},templateUrl:"views/com/childMemberDetail.html",controller:"childMemberDetailCtrl"}).state("childMemberPosList",{url:"/childMemberPosList?id&role",title:"子会员职位列表",resolve:{ctrl:i("controller/childMember")},templateUrl:"views/com/childMemberPosList.html",controller:"childMemberPosListCtrl"}).state("redPacket",{url:"/red-packet",controller:"redpackCtrl",resolve:{ctrl:i("controller/redpack")},templateUrl:"views/red-packet/redpack.html"}).state("redPacket.rule",{url:"/rule",title:"红包规则",resolve:{ctrl:i("controller/redPacketRule")},templateUrl:"views/red-packet/rule.html",controller:"redPacketRuleCtrl"}).state("redPacket.statistic",{url:"/statistic",title:"红包统计",resolve:{ctrl:i("controller/redPacketStat")},templateUrl:"views/red-packet/statistic.html",controller:"redPacketStatCtrl"}).state("redPacket.account",{url:"/account",title:"红包账户",controller:"redPacketAccountCtrl",resolve:{ctrl:i("controller/redpack")},templateUrl:"views/red-packet/account.html"}).state("redPacket.accountSet",{url:"/accountSet",title:"红包账户设置",controller:"redPacketAccountSetCtrl",resolve:{ctrl:i("controller/redpack")},templateUrl:"views/red-packet/accountSet.html"}).state("redPacket.statDetail",{url:"/stat-detail?view&_sort&_order&_page",title:"红包统计详情",resolve:{ctrl:i("controller/redPacketStatDetail")},templateUrl:"views/red-packet/stat-detail.html",controller:"redPacketStatDetailCtrl"}).state("interview",{url:"/interview",abstract:!0,template:"<ui-view></ui-view>"}).state("interview.list",{url:"/list",title:"工作申请履历",controller:"interviewListCtrl",resolve:{ctrl:i("controller/interviewList")},templateUrl:"views/interview/list.html"}).state("interview.detail",{url:"/:id",title:"履历详情",controller:"interviewDetailCtrl",resolve:{ctrl:i("controller/interviewDetail")},templateUrl:"views/interview/detail.html"}).state("404",{url:"/404",title:"404",templateUrl:"views/com/404.html",controller:"404Ctrl"}),t.when("/","/position/list"),t.when("","/position/list"),t.otherwise("404")}}),define("service/com",["app","service/constant"],function(e){e.service("com",[function(){return{getHost:function(){var e="http://10.21.109.23/",t=location.href;return/localhost:/.test(t)?e:"/"},getCorporation:function(){var e=location.href;if(/localhost:/.test(e))return"demo";var t=/http:\/\/.*?\/(\w+)/;return t.exec(e)&&t.exec(e)[1]||"demo"}}}])}),define("service/myInterceptor",["angular","app","service/alert","service/com"],function(e,t){t.factory("myInterceptor",["$rootScope","$q","$injector","alertService","com",function(e,t,n,i,r){return{request:function(e){return e.headers=e.headers||{},e},responseError:function(e){if("401"==e.status)return location.href=r.getHost()+r.getCorporation()+"/admin/login.html"+location.hash,e;try{return"GET"!=e.config.method?e.data&&e.data.message?(i.add(e.data.message,3e3,"danger"),t.reject(e.data.message)):(i.add("服务器错误请稍后再试！",3e3,"danger"),t.reject("服务器错误请稍后再试")):t.reject(e)}catch(e){return i.add("服务器错误请稍后再试！",3e3,"danger"),t.reject("服务器错误请稍后再试")}},response:function(e){return e}}}])}),define("service/corp",["app","service/constant"],function(e){e.service("corp",["$resource","APIHOST",function(e,t){return e(t+"company/:id",{},{updateBrief:{method:"put",url:t+"company/brief"},getBrief:{method:"get",url:t+"company/brief"}})}])}),define("service/rank",["app","service/constant","service/user","service/corp"],function(e){e.service("rank",["$resource","APIHOST","user","corp",function(e,t,n,i){return e(t+"rank",{},{search:{method:"POST",url:t+"rank/index",isArray:!0},cast:{method:"GET",url:t+"rank/month-range",isArray:!0}})}])}),define("service/hasEmpno",["app","service/constant","service/user","service/corp"],function(e){e.service("hasEmpno",function(){return function(e,t){var n=JSON.stringify(e);n.indexOf("empno")==-1?t.hasEmpno=!1:t.hasEmpno=!0}})}),define("controller/rankCtrl",["app","service/rank","service/alert","service/hasEmpno"],function(e){var t=function(e){var t=[],n=0;return _.each(e,function(e){n||(n=e.cnt);var i=0;n&&(i=e.cnt/n*95),i=""+i+"%",t.push({cnt:e.cnt,nickname:e.nickname,width:i,empno:e.empno})}),t},n=function(e,n,i,r){n.search({method:i},function(e){var n=t(e);r&&r(n)})},i=function(e,n,i,r,o,a){n.search({method:i,start_date:r,end_date:o},function(e){var n=t(e);a&&a(n)})},r=function(e,n,i,r,o){n.search({method:i,month:r},function(e){var n=t(e);o&&o(n)})},o=function(e,t,n){t.cast(function(e){n(e)})};e.controller("rankIndexCtrl",["$rootScope","$scope","$location","$state","rank","hasEmpno",function(e,t,i,r,o,a){e.page="rank";var s=t.vm={};n(t,o,"share_count",function(e){s.share_count=e,a(e,s)}),n(t,o,"share_view_count",function(e){s.share_view_count=e,a(e,s)}),n(t,o,"share_apply_count",function(e){s.share_apply_count=e,a(e,s)}),n(t,o,"ref_count",function(e){s.ref_count=e,a(e,s)})}]),e.controller("rankShareCtrl",["$rootScope","$scope","$location","$state","rank","hasEmpno","$timeout",function(e,t,a,s,l,c,u){t.sub_title=s.current.title,e.page="rank";var d=t.vm={};d.openStartCalendar=function(e){u(function(){d.calendarStartOpened=!0},0)},d.openEndCalendar=function(e){u(function(){d.calendarEndOpened=!0},0)},o(t,l,function(e){d.month_map=e}),d.query=function(){d.startCalendar?i(t,l,"share_count",d.startCalendar,d.endCalendar||void 0,function(e){d.rank_data=e,d.rank_color="#fdc111"}):d.currenyMonth&&r(t,l,"share_count",d.currenyMonth,function(e){d.rank_data=e,d.rank_color="#fdc111"})},n(t,l,"share_count",function(e){d.rank_data=e,d.rank_color="#fdc111",c(e,d)})}]),e.controller("rankShareViewCtrl",["$rootScope","$scope","$location","$state","rank","hasEmpno","$timeout",function(e,t,a,s,l,c,u){t.sub_title=s.current.title,e.page="rank";var d=t.vm={};d.openStartCalendar=function(e){u(function(){d.calendarStartOpened=!0},0)},d.openEndCalendar=function(e){u(function(){d.calendarEndOpened=!0},0)},o(t,l,function(e){d.month_map=e}),d.query=function(){d.startCalendar?i(t,l,"share_view_count",d.startCalendar,d.endCalendar||void 0,function(e){d.rank_data=e,d.rank_color="#01dfd0"}):d.currenyMonth&&r(t,l,"share_view_count",d.currenyMonth,function(e){d.rank_data=e,d.rank_color="#01dfd0"})},n(t,l,"share_view_count",function(e){d.rank_data=e,d.rank_color="#01dfd0",c(e,d)})}]),e.controller("rankShareApplyCtrl",["$rootScope","$scope","$location","$state","rank","hasEmpno","$timeout",function(e,t,a,s,l,c,u){t.sub_title=s.current.title,e.page="rank";var d=t.vm={};d.openStartCalendar=function(e){u(function(){d.calendarStartOpened=!0},0)},d.openEndCalendar=function(e){u(function(){d.calendarEndOpened=!0},0)},o(t,l,function(e){d.month_map=e}),d.query=function(){d.startCalendar?i(t,l,"share_apply_count",d.startCalendar,d.endCalendar||void 0,function(e){d.rank_data=e,d.rank_color="#b8e06d"}):d.currenyMonth&&r(t,l,"share_apply_count",d.currenyMonth,function(e){d.rank_data=e,d.rank_color="#b8e06d"})},n(t,l,"share_apply_count",function(e){d.rank_data=e,d.rank_color="#b8e06d",c(e,d)})}]),e.controller("rankRefCtrl",["$rootScope","$scope","$location","$state","rank","hasEmpno","$timeout",function(e,t,a,s,l,c,u){t.sub_title=s.current.title,e.page="rank";var d=t.vm={};d.openStartCalendar=function(e){u(function(){d.calendarStartOpened=!0},0)},d.openEndCalendar=function(e){u(function(){d.calendarEndOpened=!0},0)},o(t,l,function(e){d.month_map=e}),d.query=function(){d.startCalendar?i(t,l,"ref_count",d.startCalendar,d.endCalendar||void 0,function(e){d.rank_data=e,d.rank_color="#ee6f8a"}):d.currenyMonth&&r(t,l,"ref_count",d.currenyMonth,function(e){d.rank_data=e,d.rank_color="#ee6f8a"})},n(t,l,"ref_count",function(e){d.rank_data=e,d.rank_color="#ee6f8a",c(e,d)})}])}),define("service/statistic",["app","service/constant","service/user","service/corp"],function(e){e.service("statistic",["$resource","APIHOST","user","corp",function(e,t,n,i){return e(t+"statistic",{},{select:{method:"GET",url:t+"statistic/select"},search:{method:"POST",url:t+"statistic/index"},track:{method:"GET",url:t+"statistic/trackuser",isArray:!0},track_detail:{method:"GET",url:t+"statistic/trackuserdetail"}})}])}),define("service/dialog",["angular","app"],function(e,t){t.service("dialog",["$modal","$q","$timeout",function(e,t,n){function i(e,t){t.promise.success=function(n){return e.result.then(function(e){n(e)}),t.promise},t.promise.error=function(n){return e.result.then(null,function(e){n(e)}),t.promise}}return{alert:function(n,r){var o=t.defer(),a={btn:{label:"确定",style:"btn-success"},size:"sm",title:"提示"};a=_.extend(a,r);var s=e.open({size:a.size,backdrop:!1,templateUrl:"views/com/alert.html",controller:["$scope","$modalInstance",function(e,t){e.setting=a,e.msg=n,e.title=a.title,e.close=function(){e.$dismiss()},e.ok=function(){e.$close()}}]});return i(s,o),o.promise},confirm:function(n,r){var o=t.defer(),a={btnOk:{label:"确定",style:"btn-success"},btnCancel:{label:"取消",style:"btn-default"},size:"sm",title:"提示"};a=_.extend(a,r);var s=e.open({size:a.size,backdrop:!1,templateUrl:"views/com/confirm.html",controller:["$scope","$modalInstance",function(e,t){e.setting=a,e.msg=n,e.title=a.title,e.cancel=function(){t.dismiss()},e.ok=function(){t.close()}}]});return i(s,o),o.promise},prompt:function(n,r){var o=t.defer(),a={btnOk:{label:"确定",style:"btn-success"},btnCancel:{label:"取消",style:"btn-default"},size:"sm",title:"提示"};a=_.extend(a,r);var s="",l=e.open({size:a.size,backdrop:!1,templateUrl:"views/com/prompt.html",controller:["$scope","$modalInstance",function(e,t){e.setting=a,e.msg=n,s=e.text,e.title=a.title,e.cancel=function(){t.dismiss()},e.ok=function(){t.close(e.text)}}]});return i(l,o),o.promise},message:function(t,i){var r=e.open({size:"sm",backdrop:!1,templateUrl:"views/com/message.html",controller:["$scope",function(e){e.msg=t,e.close=function(){e.$close()}}]});return 0!=i&&n(function(){r.close()},i||3e3),r}}}])}),define("directive/selectorPosition",["app"],function(e){e.directive("selectorPosition",["$state",function(e){function t(e,t){return t?_.groupBy(e,function(e){return"职位详情"==e[t]&&(e.multiple=!0),e[t]}):e}return{restrict:"E",replace:"true",require:"?ngModel",templateUrl:"views/com/selector-position.html",scope:{view:"=",isShow:"=",groupBy:"@"},link:function(e,n,i,r){function o(){return _.filter(e.view,function(e){return _.findWhere(r.$modelValue,{id:e.id})})}function a(e,t){var n=_.filter(e,function(e){return e.active});t.$setViewValue(n)}if(r||!e.groupBy){var s=e.vm={};s.keyword="",e.$watch("view",function(n){e.viewGrouped=t(e.view,e.groupBy)}),r.$render=function(){var t;_.each(e.view,function(e){e.active=!1}),t=o(),_.each(t,function(e){e.active=!0})},r.$parsers.push(function(e){var t=[];return _.each(e,function(e){t.push({name:e.name,id:e.id})}),t}),e.hide=function(){e.isShow=!1,s.keyword=""},e.ok=function(){e.hide(),a(e.view,r)},e.cancel=function(){e.hide(),r.$render()},e.toggleActive=function(t){t.multiple?(t.active=!t.active,_.each(e.view,function(e){e.multiple||(e.active=!1)})):(_.each(e.view,function(e){e.active=!1}),t.active=!t.active)}}}}}])}),define("controller/statisticCtrl",["app","service/statistic","service/alert","service/dialog","directive/selectorPosition"],function(e){function t(e){return"[object Array]"===Object.prototype.toString.call(e)}function n(e,n,i){e.endCalendar=e.endCalendar.getTime()/1e3,e.startCalendar=e.startCalendar.getTime()/1e3;for(var r in e)t(e[r])&&(e[r]=e[r].join(","));var o="";for(var r in e)o+=r+"="+e[r]+"&";o=o.substr(0,o.length-1),console.log(location.origin+i+"statistic/down-data?"+o),n.statisticExport=location.origin+i+"statistic/down-data?"+o}var i=function(e){var t=[];return _.each(e,function(e){t.push([Date.parse(e.day),parseInt(e.cnt)])}),t},r=function(e){var t=[];return _.each(e,function(e){t.push({name:e.name,y:parseInt(e.cnt)})}),t},o={options:{chart:{type:"column",animation:!0,height:300},plotOptions:{series:{stacking:"normal",animation:!0}}},xAxis:{type:"datetime"},yAxis:{allowDecimals:!1},series:[],title:{text:""},search:function(e,t,r,o,a,s){1==arguments.length&&(t={});var l={methods:["view","share_view"],default_pos:1,default_prop:1,staff:1,type:"view"};global_company.custom&&global_company.custom.identify&&l.methods.push("employer_share_view"),_.extend(l,t);var c=this;return"export"==r?void(l.startCalendar&&l.endCalendar?n(l,s,a):!l.startCalendar&&l.endCalendar?o.alert("请填写开始区间"):l.startCalendar&&!l.endCalendar?o.alert("请填写结束区间"):o.alert("请填写时间区间")):void e.search(l,function(e){c.series=[],global_company.custom&&global_company.custom.identify?(c.series.push({name:"非员工转发",data:i(e.share_view),color:"#fdc111"}),c.series.push({name:"非员工直接访问",data:i(e.view),color:"#b8e06d"}),c.series.push({name:"来自员工转发",data:i(e.employer_share_view),color:"#5F9EA0"})):(c.series.push({name:"来自转发",data:i(e.share_view),color:"#fdc111"}),c.series.push({name:"直接访问",data:i(e.view),color:"#b8e06d"}))})}},a={options:{chart:{type:"column",animation:!0,height:300},plotOptions:{series:{stacking:"normal",animation:!0}}},xAxis:{type:"datetime"},yAxis:{allowDecimals:!1},series:[],title:{text:""},select_no_prop:1,search:function(e,t,r,o,a,s){1==arguments.length&&(t={});var l={methods:["apply","share_apply"],default_pos:1,type:"apply"};global_company.custom&&global_company.custom.identify&&l.methods.push("employer_share_apply"),_.extend(l,t);var c=this;return"export"==r?void(l.startCalendar&&l.endCalendar?n(l,s,a):!l.startCalendar&&l.endCalendar?o.alert("请填写开始区间"):l.startCalendar&&!l.endCalendar?o.alert("请填写结束区间"):o.alert("请填写时间区间")):void e.search(l,function(e){c.series=[],global_company.custom&&global_company.custom.identify?(c.series.push({name:"非员工申请量",data:i(e.apply),color:"#b8e06d"}),c.series.push({name:"员工转发的申请",data:i(e.employer_share_apply),color:"#5F9EA0"})):c.series.push({name:"申请量",data:i(e.apply),color:"#b8e06d"})})}},s={options:{chart:{type:"column",animation:!0,height:300},plotOptions:{series:{stacking:"normal",animation:!0}}},xAxis:{type:"datetime"},yAxis:{allowDecimals:!1},series:[],title:{text:""},search:function(e,t,r,o,a,s){1==arguments.length&&(t={});var l={methods:["share"],default_pos:1,default_prop:1,type:"share"};global_company.custom&&global_company.custom.identify&&l.methods.push("employer_share"),_.extend(l,t);var c=this;return"export"==r?void(l.startCalendar&&l.endCalendar?n(l,s,a):!l.startCalendar&&l.endCalendar?o.alert("请填写开始区间"):l.startCalendar&&!l.endCalendar?o.alert("请填写结束区间"):o.alert("请填写时间区间")):void e.search(l,function(e){c.series=[],global_company.custom&&global_company.custom.identify?(c.series.push({name:"非员工转发",data:i(e.share),color:"#fea500"}),c.series.push({name:"员工转发",data:i(e.employer_share),color:"#5F9EA0"})):c.series.push({name:"转发量",data:i(e.share),color:"#fea500"}),c.title.text=""})}},l={options:{chart:{type:"column",animation:!0,height:300},plotOptions:{series:{stacking:"normal",animation:!0}}},xAxis:{type:"datetime"},yAxis:{allowDecimals:!1},series:[],title:{text:""},search:function(e,t,r,o,a,s){1==arguments.length&&(t={});var l={methods:["share_view","share_apply"],default_pos:1,default_prop:1,type:"share_effect"};global_company.custom&&global_company.custom.identify&&l.methods.push("employer_share_view","employer_share_apply"),_.extend(l,t);var c=this;return"export"==r?void(l.startCalendar&&l.endCalendar?n(l,s,a):!l.startCalendar&&l.endCalendar?o.alert("请填写开始区间"):l.startCalendar&&!l.endCalendar?o.alert("请填写结束区间"):o.alert("请填写时间区间")):void e.search(l,function(e){c.series=[],global_company.custom&&global_company.custom.identify?(c.series.push({name:"非员工转发后被访问",data:i(e.share_view),color:"#01dfd0"}),c.series.push({name:"非员工转发后被申请",data:i(e.share_apply),color:"#e1dc20"}),c.series.push({name:"员工转发后被访问",data:i(e.employer_share_view),color:"#6495ED"}),c.series.push({name:"员工转发后被申请",data:i(e.employer_share_apply),color:"#5F9EA0"})):(c.series.push({name:"转发后被访问量",data:i(e.share_view),color:"#01dfd0"}),c.series.push({name:"转发后被申请量",data:i(e.share_apply),color:"#e1dc20"})),c.title.text=""})}},c={options:{chart:{type:"pie",animation:!0,height:300},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}}},series:[],title:{text:""},search:function(e,t,i,o,a,s){1==arguments.length&&(t={});var l={methods:["apply_channel"],default_pos:1,default_prop:1,type:"apply_channel"};_.extend(l,t);var c=this;return"export"==i?void(l.startCalendar&&l.endCalendar?n(l,s,a):!l.startCalendar&&l.endCalendar?o.alert("请填写开始区间"):l.startCalendar&&!l.endCalendar?o.alert("请填写结束区间"):o.alert("请填写时间区间")):void e.search(l,function(e){c.series=[],c.series.push({name:"投递数",data:r(e.apply_channel),colors:["#b8e06d","#fea500","#84d7e5","#ffe204","#7a748e","#01dfd0","#ee6f8a","#fec787"]}),c.title.text=""})}},u={options:{chart:{type:"column",animation:!0,height:300},plotOptions:{series:{stacking:"normal",animation:!0}}},xAxis:{type:"datetime"},yAxis:{allowDecimals:!1},series:[],title:{text:""},search:function(e,t,r,o,a,s){1==arguments.length&&(t={});var l={methods:["ref"],default_pos:1,default_prop:1,type:"ref"};global_company.custom&&global_company.custom.identify&&l.methods.push("employer_ref"),_.extend(l,t);var c=this;return"export"==r?void(l.startCalendar&&l.endCalendar?n(l,s,a):!l.startCalendar&&l.endCalendar?o.alert("请填写开始区间"):l.startCalendar&&!l.endCalendar?o.alert("请填写结束区间"):o.alert("请填写时间区间")):void e.search(l,function(e){c.series=[],global_company.custom&&global_company.custom.identify?(c.series.push({name:"非员工推荐数",data:i(e.ref),color:"#ee6f8a"}),c.series.push({name:"员工推荐数",data:i(e.employer_ref),color:"#5F9EA0"})):c.series.push({name:"职位推荐数",data:i(e.ref),color:"#ee6f8a"}),c.title.text=""})}},d=function(e,t,n,i,r){var o=e.vm={};o.cond={pos_info:[]},o.options={pos_info:[],department:[],date:[],category:[]},o.openStartCalendar=function(e){n(function(){o.calendarStartOpened=!0},0)},o.openEndCalendar=function(e){n(function(){o.calendarEndOpened=!0},0)},o.query=function(n){console.log(o.cond.pos_info);var a={};if(o.cond.department&&o.cond.department.id&&(a.department_id=o.cond.department.id),o.cond.category&&o.cond.category.id&&(a.category_id=o.cond.category.id),o.cond.pos_info.length>1||1==o.cond.pos_info.length&&0!=o.cond.pos_info[0].id){var s=[],l=[];_.each(o.cond.pos_info,function(e){"poslist_"==e.id.substr(0,8)?l.push(parseInt(e.id.substr(8))):"pos_"==e.id.substr(0,4)&&s.push(parseInt(e.id.substr(4)))}),_.isEmpty(s)?_.isEmpty(l)||(a.prop_id_list=l):a.pos_id_list=s}!_.isEmpty(a.pos_id_list)||a.department_id||a.category_id?a.prop_id_list=[-1]:_.isEmpty(a.prop_id_list)||(a.pos_id_list=[-1]),_.isEmpty(a)||(a.default_prop=0,a.default_pos=0),o.cond.startCalendar&&(a.startCalendar=o.cond.startCalendar),o.cond.endCalendar&&(a.endCalendar=o.cond.endCalendar),e.chart_conf.search(t,a,n,i,r,e)},t.select({no_prop:e.chart_conf.select_no_prop},function(t){o.options.pos_info=t.pos_info,o.options.department=t.department,o.options.category=t.category,o.options.date=t.date,o.cond={pos_info:[o.options.pos_info[0]],department:o.options.department[0],category:o.options.category[0],date:o.options.date[0]},e.$watch("vm.cond.pos_info",o.query)})};e.controller("statisticTrackCtrl",["$rootScope","$scope","$location","$state","statistic","$timeout","dialog",function(e,t,n,i,r,o,a){t.sub_title=i.current.title;var s=t.vm={};r.track({},function(e){s.track_data=e})}]),e.controller("statisticTrackDetailCtrl",["$rootScope","$scope","$location","$state","statistic","dialog",function(e,t,n,i,r,o){var a=i.params.open_id;t.sub_title=i.current.title;var s=t.vm={};r.track_detail({open_id:a},function(e){s.track_data=e,t.sub_title=i.current.title+"-"+e.nickname})}]),e.controller("statisticViewCtrl",["$rootScope","$scope","$location","$state","statistic","$timeout","dialog","APIHOST",function(e,t,n,i,r,a,s,l){t.sub_title=i.current.title,t.chart_conf=o,d(t,r,a,s,l)}]),e.controller("statisticApplyCtrl",["$rootScope","$scope","$location","$state","statistic","$timeout","dialog","APIHOST",function(e,t,n,i,r,o,s,l){t.sub_title=i.current.title,t.chart_conf=a,d(t,r,o,s,l)}]),e.controller("statisticShareCtrl",["$rootScope","$scope","$location","$state","statistic","$timeout","dialog","APIHOST",function(e,t,n,i,r,o,a,l){t.sub_title=i.current.title,t.isShare=i.includes("statistic.share"),t.chart_conf=s,d(t,r,o,a,l)}]),e.controller("statisticShareEffectCtrl",["$rootScope","$scope","$location","$state","statistic","$timeout","dialog","APIHOST",function(e,t,n,i,r,o,a,s){t.sub_title=i.current.title,t.chart_conf=l,d(t,r,o,a,s)}]),e.controller("statisticApplyChannelCtrl",["$rootScope","$scope","$location","$state","statistic","$timeout","dialog","APIHOST",function(e,t,n,i,r,o,a,s){t.sub_title=i.current.title,t.chart_conf=c,d(t,r,o,a,s)}]),e.controller("statisticRefCtrl",["$rootScope","$scope","$location","$state","statistic","$timeout","dialog","APIHOST",function(e,t,n,i,r,o,a,s){t.sub_title=i.current.title,t.chart_conf=u,d(t,r,o,a,s)}]),e.controller("statisticIndexCtrl",["$rootScope","$scope","$location","$state","statistic","dialog",function(e,t,n,i,r,d){e.page="statistic",t.view_conf=o,o.search(r),t.apply_conf=a,a.search(r),t.share_conf=s,s.search(r),t.share_effect_conf=l,l.search(r),t.apply_channel_conf=c,c.search(r),t.ref_conf=u,u.search(r)}]),e.controller("statisticCtrl",["$rootScope","$scope","$location","$state","statistic","dialog",function(e,t,n,r,o,a){e.page="statistic";var s=t.vm={};s.cond={pos_info:[]},s.options={pos_info:[],department:[],date:[],category:[]},o.select(function(e){s.options.pos_info=e.pos_info,s.options.department=e.department,s.options.category=e.category,s.options.date=e.date,s.cond={pos_info:[s.options.pos_info[0]],department:s.options.department[0],category:s.options.category[0],date:s.options.date[0]},t.$watch("vm.cond.pos_info",s.query),s.query()}),s.query=function(){var e={};e.department_id=s.cond.department.id,e.category_id=s.cond.category.id,e.date_id=s.cond.date.id,e.pos_info=s.cond.pos_info,o.search(e,function(e){t.chartConfig.series=[],t.chartConfig.series.push({name:"来自转发",data:i(e.track)}),t.chartConfig.series.push({name:"直接访问",data:i(e.origin)}),t.chartConfig.title.text="访问量统计"})},t.chartConfig={options:{chart:{type:"column",animation:!0},plotOptions:{series:{stacking:"normal",animation:!0}}},xAxis:{type:"datetime"},yAxis:{allowDecimals:!1},series:[],title:{text:""}}}])}),define("service/position",["app","service/constant","service/user","service/corp"],function(e){e.service("position",["$resource","APIHOST","user","corp",function(e,t,n,i){return e(t+"positions/:id",{id:"@id",status:"open"},{update:{method:"PUT"}})}])}),define("service/batchSwitch",["app","service/constant"],function(e){e.service("batchSwitch",["$resource","APIHOST",function(e,t){return e(t+"positions/batch-switch",{},{updateAll:{method:"POST"}})}])}),define("service/posType",["app","service/constant"],function(e){e.service("posType",["$resource","APIHOST",function(e,t){return e(t,{},{getPosType:{method:"GET",url:t+"position-properties",isArray:!0}})}])}),define("service/positionProperty",["app","service/constant"],function(e){e.service("positionProperty",["$resource","APIHOST",function(e,t){return e(t+"position-properties/:id",{id:"@id"})}])}),define("controller/posList",["app","service/position","service/alert","service/dialog","service/batchSwitch","service/posType","service/positionProperty"],function(e){e.controller("positionListCtrl",["$rootScope","$scope","$location","$state","position","dialog","$http","APIHOST","positionProperty","$cacheFactory","batchSwitch","posType",function(e,t,n,i,r,o,a,s,l,c,u,d){function p(t,n){e.listParams.pos_list=t,r.get(t,function(e){h.list=e.items,h.total=e._meta.totalCount,h.view.department=e._filters.departments,h.view.city=e._filters.cities,h.view.category=e._filters.categories,angular.forEach(h.list,function(e){e.selecStatus=!1}),h.selectAllStatus=!1,h.posSelectedId=[],n&&n()})}e.page="pos_list";var h=t.vm={};n.search().from&&"nav"==n.search().from&&(e.listParams.pos_list=null),h.posSelectedId=[],h.view={date:["0","7","30","90","180"]},h.cond={order_by:"created_at",order:"desc"};var f={page:1,status:"OPEN",property:"all"};f=_.extend(f,h.cond,e.listParams.pos_list),d.getPosType(function(e){h.posType=e}),h.filter=_.extend({},f),p(f,function(){h.posStatus="typeAll",f.department_id&&(h.filter.department=_.findWhere(h.view.department,{id:parseInt(f.department_id)}))}),h.filterSbm=function(e){h.filter.page=1,h.currentPage=1,_.each(h.filter,function(e,t){angular.isObject(e)?"0"!=e.id&&(f[t+"_id"]=e.id):f[t]=e}),h.filter.department||(f.department_id=0),"0"==f.date&&(f.date="不限"),p(f,function(){h.posStatus=e})},h.setStatus=function(e,t){"CLOSED"==e?o.confirm("确定要关闭所选中的职位吗？").success(function(){r.update({id:t},{status:e},function(e){p(f)})}):r.update({id:t},{status:e},function(e){p(f)})},h.pageChanged=function(){f.page=h.currentPage,p(f)},h.setOrder=function(e){h.cond.order_by==e&&"asc"==h.cond.order?h.cond.order="desc":h.cond.order="asc",h.cond.order_by=e,f=_.extend(f,h.cond),p(f)},h.posSelect=function(e,t){if(1==e)h.posSelectedId.push(t);else for(var n=0;n<h.posSelectedId.length;n++)h.posSelectedId[n]==t&&h.posSelectedId.splice(n,1)},h.posAllSelect=function(){h.posSelectedId=[],1==h.selectAllStatus?angular.forEach(h.list,function(e,t){e.selecStatus=!0,h.posSelectedId.push(e.id)}):angular.forEach(h.list,function(e,t){e.selecStatus=!1})},h.setSelectedStatus=function(e){var t=h.posSelectedId.join(",");""!=t&&("CLOSED"==e?o.confirm("确定要关闭所选中的职位吗？").success(function(){u.updateAll({ids:t,type:e},function(){p(f)})}):o.confirm("确定要打开所选中的职位吗？").success(function(){u.updateAll({ids:t,type:e},function(){p(f)})}))},h.posDetail=function(e){i.go("position.detail",_.extend({id:e,from:"pos_list"},f))}}])}),define("service/general",["app","service/constant","service/user","service/corp"],function(e){e.service("general",["$resource","APIHOST","user","corp",function(e,t,n,i){return e(t+"general/:key",{key:"@key"})}])}),define("service/department",["app","service/constant"],function(e){e.service("department",["$resource","APIHOST","user","corp",function(e,t){return e(t+"departments/:id",{id:"@id"},{edit:{method:"PUT"}})}])}),define("service/category",["app","service/constant"],function(e){e.service("category",["$resource","APIHOST","user","corp",function(e,t){return e(t+"categories/:id",{id:"@id"},{edit:{method:"PUT"}})}])}),define("service/dpt-icons",["app"],function(e){e.service("dpt-icons",function(){return[{iconNum:"1",icon_name:"icon-iconuxinvestigationno",iconSelect:"icon-iconuxinvestigation",icon_color:"#055A82"},{iconNum:"2",icon_name:"icon-iconuxdesignno",iconSelect:"icon-iconuxdesign",icon_color:"#055A82"},{iconNum:"3",icon_name:"icon-iconcsno",iconSelect:"icon-iconcsno1",icon_color:"#055A82"},{iconNum:"4",icon_name:"icon-iconuxinteractionno",iconSelect:"icon-iconuxinteraction",icon_color:"#C58384"},{iconNum:"5",icon_name:"icon-iconmanagesystemno",iconSelect:"icon-iconmanagesystem",icon_color:"#C58384"},{iconNum:"6",icon_name:"icon-iconmanageeventno",iconSelect:"icon-iconmanageevent",icon_color:"#C58384"},{iconNum:"7",icon_name:"icon-iconmanagerno",iconSelect:"icon-iconmanager",icon_color:"#A384B0"},{iconNum:"8",icon_name:"icon-iconmarketfinanceno",iconSelect:"icon-iconmarketfinance",icon_color:"#A384B0"},{iconNum:"9",icon_name:"icon-iconmarketpromotionno",iconSelect:"icon-iconmarketpromotion",icon_color:"#A384B0"},{iconNum:"10",icon_name:"icon-iconcsvalueaddedserviceno",iconSelect:"icon-iconcsvalueaddedservice",icon_color:"#B4B94D"},{iconNum:"11",icon_name:"icon-iconcstrainingno",iconSelect:"icon-iconcstraining",icon_color:"#B4B94D"},{iconNum:"12",icon_name:"icon-iconmarketno",iconSelect:"icon-iconmarket",icon_color:"#B4B94D"},{iconNum:"13",icon_name:"icon-iconprno",iconSelect:"icon-iconpr",icon_color:"#669496"},{iconNum:"14",icon_name:"icon-iconprcreationno",iconSelect:"icon-iconprcreation",icon_color:"#669496"},{iconNum:"15",icon_name:"icon-iconprmanuno",iconSelect:"icon-iconprmanu",icon_color:"#669496"},{iconNum:"16",icon_name:"icon-icontecitno",iconSelect:"icon-icontecit",
icon_color:"#72B285"},{iconNum:"17",icon_name:"icon-iconteccheno",iconSelect:"icon-icontecche",icon_color:"#72B285"},{iconNum:"18",icon_name:"icon-icontecengno",iconSelect:"icon-iconteceng",icon_color:"#72B285"}]})}),define("service/base64",["app"],function(e){e.factory("base64",function(){return{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,i,r,o,a,s,l="",c=0;for(e=this._utf8_encode(e);c<e.length;)t=e.charCodeAt(c++),n=e.charCodeAt(c++),i=e.charCodeAt(c++),r=t>>2,o=(3&t)<<4|n>>4,a=(15&n)<<2|i>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),l=l+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(s);return l},decode:function(e){var t,n,i,r,o,a,s,l="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)r=this._keyStr.indexOf(e.charAt(c++)),o=this._keyStr.indexOf(e.charAt(c++)),a=this._keyStr.indexOf(e.charAt(c++)),s=this._keyStr.indexOf(e.charAt(c++)),t=r<<2|o>>4,n=(15&o)<<4|a>>2,i=(3&a)<<6|s,l+=String.fromCharCode(t),64!=a&&(l+=String.fromCharCode(n)),64!=s&&(l+=String.fromCharCode(i));return l=this._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){for(var t="",n=0,i=c1=c2=0;n<e.length;)i=e.charCodeAt(n),i<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return t}}})}),define("service/redPacket",["app","service/constant"],function(e){e.service("redPacket",["$resource","APIHOST",function(e,t){return e(t+"redpack",{},{getRule:{method:"get",url:t+"redpack/getrule"},setRule:{method:"post",url:t+"redpack/setrule"},summary:{url:t+"redpack/summary",method:"get"},getDetail:{method:"get",url:t+"redpack/:field"},getList:{method:"get",url:t+"redpack/flow"},emptyMoney:{method:"GET",url:t+"redpack/empty"},statistics:{method:"Get",url:t+"redpack/statistics",isArray:!0},statisticsDetail:{method:"Get",url:t+"redpack/statistics-detail"}})}])}),define("directive/posPreview",["app","angular"],function(e,t){e.directive("posPreview",["$document",function(e){return{restrict:"E",replace:"true",templateUrl:"views/com/pos-preview.html",scope:{data:"=",isShow:"="},link:function(t,n,i){var r=t.vm={};r.pos=t.data,t.close=function(){t.isShow=!1},t.$on("$destroy",function(){e.off("click.posPreview")}),e.on("click.posPreview",function(){t.$apply(function(){t.close()})})}}}])}),define("directive/region",["app"],function(e){e.directive("region",[function(){function e(){return{common:[{code:"000000",label:"全国"},{code:"010000",label:"北京"},{code:"020000",label:"上海"},{code:"030200",label:"广州"},{code:"040000",label:"深圳"},{code:"050000",label:"天津"},{code:"060000",label:"重庆"}],data:[{child:[{code:"030000",label:"广东省"},{code:"030200",label:"广州"},{code:"040000",label:"深圳"},{code:"030300",label:"惠州"},{code:"030400",label:"汕头"},{code:"030500",label:"珠海"},{code:"030600",label:"佛山"},{code:"030700",label:"中山"},{code:"030800",label:"东莞"},{code:"031400",label:"韶关"},{code:"031500",label:"江门"},{code:"031700",label:"湛江"},{code:"031800",label:"肇庆"},{code:"031900",label:"清远"},{code:"032000",label:"潮州"},{code:"032100",label:"河源"},{code:"032200",label:"揭阳"},{code:"032300",label:"茂名"},{code:"032400",label:"汕尾"},{code:"032600",label:"梅州"},{code:"032700",label:"开平"},{code:"032800",label:"阳江"},{code:"032900",label:"云浮"},{code:"039998",label:"顺德"},{code:"039999",label:"蛇口"}],code:"030000",label:"广东省"},{child:[{code:"070000",label:"江苏省"},{code:"070200",label:"南京"},{code:"070300",label:"苏州"},{code:"070400",label:"无锡"},{code:"070408",label:"宜兴市"},{code:"070409",label:"江阴市"},{code:"070500",label:"常州"},{code:"070506",label:"金坛市"},{code:"070507",label:"溧阳市"},{code:"070600",label:"昆山"},{code:"070700",label:"常熟"},{code:"070800",label:"扬州"},{code:"070900",label:"南通"},{code:"071000",label:"镇江"},{code:"071100",label:"徐州"},{code:"071200",label:"连云港"},{code:"071300",label:"盐城"},{code:"071400",label:"张家港"},{code:"071600",label:"太仓"},{code:"071800",label:"泰州"},{code:"071900",label:"淮安"},{code:"072000",label:"宿迁"},{code:"072100",label:"丹阳"},{code:"072300",label:"泰兴"},{code:"072500",label:"靖江"}],code:"070000",label:"江苏省"},{child:[{code:"080000",label:"浙江省"},{code:"080200",label:"杭州"},{code:"080300",label:"宁波"},{code:"080307",label:"慈溪市"},{code:"080308",label:"余姚市"},{code:"080309",label:"奉化市"},{code:"080400",label:"温州"},{code:"080500",label:"绍兴"},{code:"080600",label:"金华"},{code:"080700",label:"嘉兴"},{code:"080800",label:"台州"},{code:"080900",label:"湖州"},{code:"081000",label:"丽水"},{code:"081100",label:"舟山"},{code:"081200",label:"衢州"},{code:"081400",label:"义乌"},{code:"081600",label:"海宁"},{code:"089999",label:"安吉"},{code:"080399",label:"镇海"}],code:"080000",label:"浙江省"},{child:[{code:"090000",label:"四川省"},{code:"090200",label:"成都"},{code:"090210",label:"都江堰市"},{code:"090211",label:"彭州市"},{code:"090212",label:"邛崃市"},{code:"090213",label:"崇州市"},{code:"090300",label:"绵阳"},{code:"090400",label:"乐山"},{code:"090500",label:"泸州"},{code:"090600",label:"德阳"},{code:"090700",label:"宜宾"},{code:"090800",label:"自贡"},{code:"090900",label:"内江"},{code:"091000",label:"攀枝花"},{code:"091100",label:"南充"},{code:"091200",label:"眉山"},{code:"091300",label:"广安"},{code:"091400",label:"资阳"},{code:"091500",label:"遂宁"},{code:"091600",label:"广元"},{code:"091700",label:"达州"},{code:"091800",label:"雅安"},{code:"091900",label:"西昌"},{code:"092000",label:"巴中"},{code:"092100",label:"甘孜"},{code:"092200",label:"阿坝"},{code:"092300",label:"凉山"}],code:"090000",label:"四川省"},{child:[{code:"100000",label:"海南省"},{code:"100200",label:"海口"},{code:"100300",label:"三亚"},{code:"100500",label:"文昌"},{code:"100600",label:"琼海"},{code:"100700",label:"万宁"},{code:"100800",label:"儋州"},{code:"100900",label:"东方"},{code:"101000",label:"五指山"},{code:"101100",label:"定安"},{code:"101200",label:"屯昌"},{code:"101300",label:"澄迈"},{code:"101400",label:"临高"}],code:"100000",label:"海南省"},{child:[{code:"110000",label:"福建省"},{code:"110200",label:"福州"},{code:"110212",label:"福清市"},{code:"110213",label:"长乐市"},{code:"110300",label:"厦门"},{code:"110400",label:"泉州"},{code:"110500",label:"漳州"},{code:"110600",label:"莆田"},{code:"110700",label:"三明"},{code:"110800",label:"南平"},{code:"110900",label:"宁德"},{code:"111000",label:"龙岩"}],code:"110000",label:"福建省"},{child:[{code:"120000",label:"山东省"},{code:"120200",label:"济南"},{code:"120210",label:"章丘市"},{code:"120300",label:"青岛"},{code:"120307",label:"胶州市"},{code:"120308",label:"即墨市"},{code:"120309",label:"平度市"},{code:"120310",label:"莱西市"},{code:"120400",label:"烟台"},{code:"120500",label:"潍坊"},{code:"120600",label:"威海"},{code:"120700",label:"淄博"},{code:"120800",label:"临沂"},{code:"120900",label:"济宁"},{code:"121000",label:"东营"},{code:"121100",label:"泰安"},{code:"121200",label:"日照"},{code:"121300",label:"德州"},{code:"121400",label:"菏泽"},{code:"121500",label:"滨州"},{code:"121600",label:"枣庄"},{code:"121700",label:"聊城"},{code:"121800",label:"莱芜"}],code:"120000",label:"山东省"},{child:[{code:"130000",label:"江西省"},{code:"130200",label:"南昌"},{code:"130300",label:"九江"},{code:"130400",label:"景德镇"},{code:"130500",label:"萍乡"},{code:"130600",label:"新余"},{code:"130700",label:"鹰潭"},{code:"130800",label:"赣州"},{code:"130900",label:"吉安"},{code:"131000",label:"宜春"},{code:"131100",label:"抚州"},{code:"131200",label:"上饶"}],code:"130000",label:"江西省"},{child:[{code:"140000",label:"广西"},{code:"140200",label:"南宁"},{code:"140300",label:"桂林"},{code:"140400",label:"柳州"},{code:"140500",label:"北海"},{code:"140600",label:"玉林"},{code:"140700",label:"梧州"},{code:"140800",label:"防城港"},{code:"140900",label:"钦州"},{code:"141000",label:"贵港"},{code:"141100",label:"百色"},{code:"141200",label:"河池"},{code:"141300",label:"来宾"},{code:"141400",label:"崇左"},{code:"141500",label:"贺州"}],code:"140000",label:"广西"},{child:[{code:"150000",label:"安徽省"},{code:"150200",label:"合肥"},{code:"150211",label:"巢湖市"},{code:"150300",label:"芜湖"},{code:"150400",label:"安庆"},{code:"150500",label:"马鞍山"},{code:"150600",label:"蚌埠"},{code:"150700",label:"阜阳"},{code:"150800",label:"铜陵"},{code:"150900",label:"滁州"},{code:"151000",label:"黄山"},{code:"151100",label:"淮南"},{code:"151200",label:"六安"},{code:"151400",label:"宣城"},{code:"151500",label:"池州"},{code:"151600",label:"宿州"},{code:"151700",label:"淮北"},{code:"151800",label:"亳州"}],code:"150000",label:"安徽省"},{child:[{code:"160000",label:"河北省"},{code:"160200",label:"石家庄"},{code:"160300",label:"廊坊"},{code:"160400",label:"保定"},{code:"160500",label:"唐山"},{code:"160600",label:"秦皇岛"},{code:"160700",label:"邯郸"},{code:"160800",label:"沧州"},{code:"160900",label:"张家口"},{code:"161000",label:"承德"},{code:"161100",label:"邢台"},{code:"161200",label:"衡水"}],code:"160000",label:"河北省"},{child:[{code:"170000",label:"河南省"},{code:"170200",label:"郑州"},{code:"170208",label:"巩义市"},{code:"170209",label:"荥阳市"},{code:"170210",label:"新密市"},{code:"170211",label:"新郑市"},{code:"170212",label:"登封市"},{code:"170300",label:"洛阳"},{code:"170400",label:"开封"},{code:"170500",label:"焦作"},{code:"170600",label:"南阳"},{code:"170700",label:"新乡"},{code:"170800",label:"周口"},{code:"170900",label:"安阳"},{code:"171000",label:"平顶山"},{code:"171100",label:"许昌"},{code:"171200",label:"信阳"},{code:"171300",label:"商丘"},{code:"171400",label:"驻马店"},{code:"171500",label:"漯河"},{code:"171600",label:"濮阳"},{code:"171700",label:"鹤壁"},{code:"171800",label:"三门峡"},{code:"171900",label:"济源"}],code:"170000",label:"河南省"},{child:[{code:"180000",label:"湖北省"},{code:"180200",label:"武汉"},{code:"180300",label:"宜昌"},{code:"180400",label:"黄石"},{code:"180500",label:"襄阳"},{code:"180600",label:"十堰"},{code:"180700",label:"荆州"},{code:"180800",label:"荆门"},{code:"180900",label:"孝感"},{code:"181000",label:"鄂州"},{code:"181100",label:"黄冈"},{code:"181200",label:"随州"},{code:"181300",label:"咸宁"},{code:"181400",label:"仙桃"},{code:"181500",label:"潜江"},{code:"181600",label:"天门"},{code:"181700",label:"神农架"},{code:"181800",label:"恩施"}],code:"180000",label:"湖北省"},{child:[{code:"190000",label:"湖南省"},{code:"190200",label:"长沙"},{code:"190209",label:"浏阳市"},{code:"190300",label:"株洲"},{code:"190400",label:"湘潭"},{code:"190500",label:"衡阳"},{code:"190600",label:"岳阳"},{code:"190700",label:"常德"},{code:"190800",label:"益阳"},{code:"190900",label:"郴州"},{code:"191000",label:"邵阳"},{code:"191100",label:"怀化"},{code:"191200",label:"娄底"},{code:"191300",label:"永州"},{code:"191400",label:"张家界"},{code:"191500",label:"湘西"}],code:"190000",label:"湖南省"},{child:[{code:"200000",label:"陕西省"},{code:"200200",label:"西安"},{code:"200300",label:"咸阳"},{code:"200400",label:"宝鸡"},{code:"200500",label:"铜川"},{code:"200600",label:"延安"},{code:"200700",label:"渭南"},{code:"200800",label:"榆林"},{code:"200900",label:"汉中"},{code:"201000",label:"安康"},{code:"201100",label:"商洛"},{code:"201200",label:"杨凌"}],code:"200000",label:"陕西省"},{child:[{code:"210000",label:"山西省"},{code:"210200",label:"太原"},{code:"210300",label:"运城"},{code:"210400",label:"大同"},{code:"210500",label:"临汾"},{code:"210600",label:"长治"},{code:"210700",label:"晋城"},{code:"210800",label:"阳泉"},{code:"210900",label:"朔州"},{code:"211000",label:"晋中"},{code:"211100",label:"忻州"},{code:"211200",label:"吕梁"}],code:"210000",label:"山西省"},{child:[{code:"220000",label:"黑龙江省"},{code:"220200",label:"哈尔滨"},{code:"220216",label:"双城市"},{code:"220217",label:"尚志市"},{code:"220218",label:"五常市"},{code:"220300",label:"伊春"},{code:"220400",label:"绥化"},{code:"220500",label:"大庆"},{code:"220600",label:"齐齐哈尔"},{code:"220700",label:"牡丹江"},{code:"220800",label:"佳木斯"},{code:"220900",label:"鸡西"},{code:"221000",label:"鹤岗"},{code:"221100",label:"双鸭山"},{code:"221200",label:"黑河"},{code:"221300",label:"七台河"},{code:"221400",label:"大兴安岭"}],code:"220000",label:"黑龙江省"},{child:[{code:"230000",label:"辽宁省"},{code:"230200",label:"沈阳"},{code:"230213",label:"新民市"},{code:"230300",label:"大连"},{code:"230307",label:"瓦房店市"},{code:"230308",label:"普兰店市"},{code:"230309",label:"庄河市"},{code:"230313",label:"长兴岛"},{code:"230400",label:"鞍山"},{code:"230500",label:"营口"},{code:"230600",label:"抚顺"},{code:"230700",label:"锦州"},{code:"230800",label:"丹东"},{code:"230900",label:"葫芦岛"},{code:"231000",label:"本溪"},{code:"231100",label:"辽阳"},{code:"231200",label:"铁岭"},{code:"231300",label:"盘锦"},{code:"231400",label:"朝阳"},{code:"231500",label:"阜新"}],code:"230000",label:"辽宁省"},{child:[{code:"240000",label:"吉林省"},{code:"240200",label:"长春"},{code:"240211",label:"榆树市"},{code:"240212",label:"九台市"},{code:"240213",label:"德惠市"},{code:"240300",label:"吉林"},{code:"240400",label:"辽源"},{code:"240500",label:"通化"},{code:"240600",label:"四平"},{code:"240700",label:"松原"},{code:"240800",label:"延吉"},{code:"240900",label:"白山"},{code:"241000",label:"白城"},{code:"241100",label:"延边"}],code:"240000",label:"吉林省"},{child:[{code:"250000",label:"云南省"},{code:"250200",label:"昆明"},{code:"250214",label:"安宁市"},{code:"250300",label:"曲靖"},{code:"250400",label:"玉溪"},{code:"250500",label:"大理"},{code:"250600",label:"丽江"},{code:"251000",label:"红河州"},{code:"251100",label:"普洱"},{code:"251200",label:"保山"},{code:"251300",label:"昭通"},{code:"251400",label:"文山"},{code:"251500",label:"西双版纳"},{code:"251600",label:"德宏"},{code:"251700",label:"楚雄"},{code:"251800",label:"临沧"},{code:"251900",label:"怒江"},{code:"252000",label:"迪庆"}],code:"250000",label:"云南省"},{child:[{code:"260000",label:"贵州省"},{code:"260200",label:"贵阳"},{code:"260300",label:"遵义"},{code:"260400",label:"六盘水"},{code:"260500",label:"安顺"},{code:"260600",label:"铜仁"},{code:"260700",label:"毕节"},{code:"260800",label:"黔西南"},{code:"260900",label:"黔东南"},{code:"261000",label:"黔南"}],code:"260000",label:"贵州省"},{child:[{code:"270000",label:"甘肃省"},{code:"270200",label:"兰州"},{code:"270300",label:"金昌"},{code:"270400",label:"嘉峪关"},{code:"270500",label:"酒泉"},{code:"270600",label:"天水"},{code:"270700",label:"武威"},{code:"270800",label:"白银"},{code:"270900",label:"张掖"},{code:"271000",label:"平凉"},{code:"271100",label:"定西"},{code:"271200",label:"陇南"},{code:"271300",label:"庆阳"},{code:"271400",label:"临夏"},{code:"271500",label:"甘南"}],code:"270000",label:"甘肃省"},{child:[{code:"280000",label:"内蒙古"},{code:"280200",label:"呼和浩特"},{code:"280300",label:"赤峰"},{code:"280400",label:"包头"},{code:"280700",label:"通辽"},{code:"280800",label:"鄂尔多斯"},{code:"280900",label:"巴彦淖尔"},{code:"281000",label:"乌海"},{code:"281100",label:"呼伦贝尔"},{code:"281200",label:"乌兰察布"},{code:"281300",label:"兴安盟"},{code:"281400",label:"锡林郭勒盟"},{code:"281500",label:"阿拉善盟"}],code:"280000",label:"内蒙古"},{child:[{code:"290000",label:"宁夏"},{code:"290200",label:"银川"},{code:"290300",label:"吴忠"},{code:"290400",label:"中卫"},{code:"290500",label:"石嘴山"},{code:"290600",label:"固原"}],code:"290000",label:"宁夏"},{child:[{code:"300000",label:"西藏"},{code:"300200",label:"拉萨"},{code:"300300",label:"日喀则"},{code:"300400",label:"林芝"},{code:"300500",label:"山南"},{code:"300600",label:"昌都"},{code:"300700",label:"那曲"},{code:"300800",label:"阿里"}],code:"300000",label:"西藏"},{child:[{code:"310000",label:"新疆"},{code:"310200",label:"乌鲁木齐"},{code:"310300",label:"克拉玛依"},{code:"310500",label:"伊犁"},{code:"310600",label:"阿克苏"},{code:"310700",label:"哈密"},{code:"310800",label:"石河子"},{code:"310900",label:"阿拉尔"},{code:"311000",label:"五家渠"},{code:"311100",label:"图木舒克"},{code:"311200",label:"昌吉"},{code:"311300",label:"阿勒泰"},{code:"311400",label:"吐鲁番"},{code:"311500",label:"塔城"},{code:"311600",label:"和田"},{code:"311700",label:"克孜勒苏柯尔克孜"},{code:"311800",label:"巴音郭楞"},{code:"311900",label:"博尔塔拉"}],code:"310000",label:"新疆"},{child:[{code:"320000",label:"青海省"},{code:"320200",label:"西宁"},{code:"320300",label:"海东"},{code:"320400",label:"海西"},{code:"320500",label:"海北"},{code:"320600",label:"黄南"},{code:"320700",label:"海南"},{code:"320800",label:"果洛"},{code:"320900",label:"玉树"}],code:"320000",label:"青海省"},{child:[{code:"330000",label:"香港"}],code:"330000",label:"香港"},{child:[{code:"340000",label:"澳门"}],code:"340000",label:"澳门"},{child:[{code:"350000",label:"台湾"}],code:"350000",label:"台湾"},{child:[{code:"360000",label:"新加坡"}],code:"360000",label:"新加坡"}]}}return{restrict:"E",replace:"true",templateUrl:"views/com/region.html",scope:{isShow:"=",result:"=",maxLength:"@",onMaxLength:"&",clearResult:"="},link:function(t,n,i){var r=e();t.max=t.maxLength||5,t.isShow=!1,t.error=!1,t.cc=r.common,t.c1=r.data,t.$on("$destroy",function(){n.remove(),t.$destroy()}),t.clearResult=function(){t.result=[]},t.$watch("result",function(e){_.each(t.cc,function(e){e.active=!1}),_.each(e,function(e){_.findWhere(t.cc,e)&&(_.findWhere(t.cc,e).active=!0)})},!0),t.clickCc=function(e){if(!_.findWhere(t.result,e)){if(t.result.length>=t.max)return t.error=!0,void(t.onMaxLength||t.onMaxLength());e.active=!0,t.result.push(e)}},t.clickC1=function(e){t.c2=e.child,t.c2Show=!0},t.clickC2=function(e){if(!_.findWhere(t.result,e)){if(t.result.length>=t.max)return t.error=!0,void(t.onMaxLength||t.onMaxLength());e.active=!0,t.result.push(e)}},t.closeC2=function(){t.c2Show=!1,_.each(t.c2,function(e){e.active=!1})},t.removeResult=function(e){var n=_.findWhere(t.c2,e),i=_.findWhere(t.cc,e);t.result.splice(_.indexOf(t.result,e),1),n&&(n.active=!1),i&&(i.active=!1),t.error=!1},t.hide=function(){t.isShow=!1,t.error=!1,t.closeC2()},t.show=function(){t.isShow=!0},t.ok=function(){t.hide()},t.cancel=function(){t.hide(),t.result=[],t.error=!1,_.each(t.c2,function(e){e.active=!1}),_.each(t.cc,function(e){e.active=!1})}}}}])}),define("service/ctgy-icons",["app"],function(e){e.service("ctgy-icons",function(){return[{iconNum:"1",icon_name:"icon-bluecerveno",iconSelect:"icon-bluecerve",icon_color:"#7282B5"},{iconNum:"2",icon_name:"icon-qualitytestno",iconSelect:"icon-qualitytest",icon_color:"#7282B5"},{iconNum:"3",icon_name:"icon-insuranceno",iconSelect:"icon-insurancenono",icon_color:"#7282B5"},{iconNum:"4",icon_name:"icon-postno",iconSelect:"icon-post",icon_color:"#7282B5"},{iconNum:"5",icon_name:"icon-instrumentno",iconSelect:"icon-instrument",icon_color:"#669496"},{iconNum:"6",icon_name:"icon-sportno",iconSelect:"icon-sport",icon_color:"#669496"},{iconNum:"7",icon_name:"icon-travelno",iconSelect:"icon-travel",icon_color:"#669496"},{iconNum:"8",icon_name:"icon-signalno",iconSelect:"icon-signal",icon_color:"#669496"},{iconNum:"9",icon_name:"icon-hrno",iconSelect:"icon-hr",icon_color:"#B4B94D"},{iconNum:"10",icon_name:"icon-addedvalueno",iconSelect:"icon-addedvalue",icon_color:"#B4B94D"},{iconNum:"11",icon_name:"icon-itdevelopmentno",iconSelect:"icon-itdevelopment",icon_color:"#B4B94D"},{iconNum:"12",icon_name:"icon-harddevicedevelopmentno",iconSelect:"icon-harddevicedevelopment",icon_color:"#B4B94D"},{iconNum:"13",icon_name:"icon-cpudevelopmentno",iconSelect:"icon-cpudevelopment",icon_color:"#A384B0"},{iconNum:"14",icon_name:"icon-ittechnologyno",iconSelect:"icon-ittechnology",icon_color:"#A384B0"},{iconNum:"15",icon_name:"icon-energyno",iconSelect:"icon-energy",icon_color:"#A384B0"},{iconNum:"16",icon_name:"icon-machienmedicneno",iconSelect:"icon-machienmedicne",icon_color:"#A384B0"},{iconNum:"17",icon_name:"icon-projectmanagerno",iconSelect:"icon-projectmanager",icon_color:"#C58384"},{iconNum:"18",icon_name:"icon-projectmanagerno1",iconSelect:"icon-projectmanager1",icon_color:"#C58384"},{iconNum:"19",icon_name:"icon-bugetno",iconSelect:"icon-buget",icon_color:"#C58384"},{iconNum:"20",icon_name:"icon-financeno",iconSelect:"icon-finance",icon_color:"#C58384"}]})}),define("directive/categorySel",["app","angular","service/category","service/dialog","../service/ctgy-icons"],function(e,t){e.directive("category",["category","$modal","$rootScope","dialog","ctgy-icons",function(e,n,i,r,o){return{restrict:"E",replace:"true",templateUrl:"views/com/categorySel.html",scope:{selectCtgy:"=",active:"=active",clearCtgy:"="},link:function(a,s,l){var c=a.vm={};a.$watch("vm.selectCtgy",function(e){a.selectCtgy=e},!0),i.company&&i.company.custom&&i.company.custom.position_list&&i.company.custom.position_list.hide_icon?a.hide_icon=1:a.hide_icon=0,a.clearCtgy=function(){c.selectCtgy=null},e.get({},function(e){a.categories=e.items,a.categories.splice(0,0,{name:"新增职位类别"}),a.active&&(c.selectCtgy=_.findWhere(a.categories,{id:parseInt(a.active)}))}),a.newCtgy=function(){n.open({templateUrl:"views/com/edit.html",controller:["$scope",function(n){n.title="新增职位类别",n.modalLabel="名称:",n.icon="职位icon:",n.icons=o,n.chooseIcon=function(e){t.forEach(o,function(e){e.active=!1}),e.active=!0,c.item=e},n.save=function(t){var i=_.findWhere(a.categories,{name:n.input.replace(/(^\s*)|(\s*$)/g,"")});i&&(r.alert(n.input+"已存在"),c.selectCtgy=a.categories[1]),c.item&&n.input&&!i&&(e.save({},{name:n.input,icon_name:c.item.icon_name,icon_color:c.item.icon_color},function(t){e.get({},function(e){a.categories=e.items,a.categories.splice(0,0,{name:"新增职位类别"}),c.selectCtgy=a.categories[1]})}),n.$close()),a.hide_icon&&n.input&&!i&&(e.save({},{name:n.input},function(t){e.get({},function(e){a.categories=e.items,a.categories.splice(0,0,{name:"新增职位类别"}),c.selectCtgy=a.categories[1]})}),n.$close()),n.input||r.alert("请输入新类别的名称"),c.item||0!=a.hide_icon||r.alert("请选择一个类别icon")},n.close=function(){n.$close()}}]})},a.onSelect=function(e,t){return"新增职位类别"!=e.name||e.id||(a.newCtgy(),c.selectCtgy=a.categories[1]),!1},a.removeCategory=function(t){n.open({templateUrl:"views/com/deleteAlert.html",controller:["$scope",function(n){n.Name=_.findWhere(a.categories,{id:t}).name,n.yes=function(){e.delete({id:t},function(t){e.get({},function(e){a.categories=e.items,a.categories.splice(0,0,{name:"新增职位类别"}),c.selectCtgy=a.categories[1]})}),n.$close()},n.no=function(){n.$close()}}]})},a.editCtgy=function(i){n.open({templateUrl:"views/com/edit.html",controller:["$scope",function(n){n.title="编辑"+_.findWhere(a.categories,{id:i}).name,n.setValue=_.findWhere(a.categories,{id:i}).name,n.icon="职位icon:",n.modalLabel="职位名称:",n.icons=o,n.chooseIcon=function(e){t.forEach(o,function(e){e.active=!1}),e.active=!0,c.item=e},n.save=function(t){if(n.input&&c.item){var o={name:n.input,icon_name:c.item.icon_name,icon_color:c.item.icon_color};n.$close()}if(!n.input&&c.item){var o={name:c.item.name,icon_name:c.item.icon_name,icon_color:c.item.icon_color};n.$close()}if(!c.item&&n.input){var o={name:n.input,icon_name:_.findWhere(a.categories,{id:i}).icon_name,icon_color:_.findWhere(a.categories,{id:i}).icon_color};n.$close()}n.input||c.item||0!=a.hide_icon||r.alert("请输入修改的名称或选择一个Icon!"),e.edit({id:i},o,function(t){e.get({},function(e){a.categories=e.items,a.categories.splice(0,0,{name:"新增职位类别"}),c.selectCtgy=_.findWhere(a.categories,{id:i})})})},n.close=function(){n.$close()}}]})}}}}])}),define("directive/department",["app","angular","service/department","service/dialog","../service/dpt-icons"],function(e,t){e.directive("department",["department","$modal","$rootScope","dialog","dpt-icons",function(e,n,i,r,o){return{restrict:"E",replace:"true",templateUrl:"views/com/department.html",transclude:!0,scope:{selectDpt:"=",active:"=active",clearModel:"="},link:function(a,s,l){var c=a.vm={};i.company&&i.company.custom&&i.company.custom.position_list&&i.company.custom.position_list.hide_icon?a.hide_icon=1:a.hide_icon=0,a.clearModel=function(){c.selectDpt=null},a.$watch("vm.selectDpt",function(e){a.selectDpt=e},!0),e.get({},function(e){a.departments=e.items,a.departments.splice(0,0,{name:"新增部门"}),a.active&&(c.selectDpt=_.findWhere(a.departments,{id:parseInt(a.active)}))}),a.newDpt=function(){n.open({templateUrl:"views/com/edit.html",controller:["$scope",function(n){n.title="新增部门",n.modalLabel="部门名称:",n.icon="部门icon:",n.icons=o,n.chooseIcon=function(e){t.forEach(o,function(e){e.active=!1}),e.active=!0,c.item=e},n.save=function(t){var i=_.findWhere(a.departments,{name:n.input.replace(/(^\s*)|(\s*$)/g,"")});i&&(r.alert(n.input+"已存在"),c.selectDpt=a.departments[1]),c.item&&n.input&&!i&&(e.save({},{name:n.input,icon_name:c.item.icon_name,icon_color:c.item.icon_color},function(t){e.get({},function(e){a.departments=e.items,a.departments.splice(0,0,{name:"新增部门"}),c.selectDpt=a.departments[1]})}),n.$close()),a.hide_icon&&n.input&&!i&&(e.save({},{name:n.input},function(t){e.get({},function(e){a.departments=e.items,a.departments.splice(0,0,{name:"新增部门"}),c.selectDpt=a.departments[1]})}),n.$close()),n.input||r.alert("请输入新部门的名称"),c.item||0!=a.hide_icon||r.alert("请选择一个部门icon")},n.close=function(){n.$close()}}]})},a.removeDepartment=function(t){n.open({templateUrl:"views/com/deleteAlert.html",controller:["$scope",function(n){n.Name=_.findWhere(a.departments,{id:t}).name,n.yes=function(){e.delete({id:t},function(t){e.get({},function(e){a.departments=e.items,a.departments.splice(0,0,{name:"新增部门"}),c.selectDpt=a.departments[1]})}),n.$close(),c.selectDpt=a.departments[0]},n.no=function(){n.$close()}}]})},a.onSelect=function(e,t){"新增部门"!=e.name||e.id||(a.newDpt(),c.selectDpt=a.departments[1])},a.editDpt=function(i){n.open({templateUrl:"views/com/edit.html",controller:["$scope",function(n){n.title="编辑"+_.findWhere(a.departments,{id:i}).name,n.setValue=_.findWhere(a.departments,{id:i}).name,n.icon="部门icon:",n.modalLabel="部门名称:",n.icons=o,n.chooseIcon=function(e){t.forEach(o,function(e){e.active=!1}),e.active=!0,c.item=e},n.save=function(t){if(n.input&&c.item){var o={name:n.input,icon_name:c.item.icon_name,icon_color:c.item.icon_color};n.$close()}if(!n.input&&c.item){var o={name:c.item.name,icon_name:c.item.icon_name,icon_color:c.item.icon_color};n.$close()}if(!c.item&&n.input){var o={name:n.input,icon_name:_.findWhere(a.departments,{id:i}).icon_name,icon_color:_.findWhere(a.departments,{id:i}).icon_color};n.$close()}n.input||c.item||0!=a.hide_icon||r.alert("请输入修改的名称或选择一个Icon!"),e.edit({id:i},o,function(t){e.get({},function(e){a.departments=e.items,a.departments.splice(0,0,{name:"新增部门"}),c.selectDpt=_.findWhere(a.departments,{id:i})})})},n.close=function(){n.$close()}}]})}}}}])}),function(window,undefined){function _isArray(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}function _isFunction(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)}function _inArray(e,t){for(var n=0,i=t.length;n<i;n++)if(e===t[n])return n;return-1}function _each(e,t){if(_isArray(e))for(var n=0,i=e.length;n<i&&t.call(e[n],n,e[n])!==!1;n++);else for(var r in e)if(e.hasOwnProperty(r)&&t.call(e[r],r,e[r])===!1)break}function _trim(e){return e.replace(/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")}function _inString(e,t,n){return n=n===undefined?",":n,(n+t+n).indexOf(n+e+n)>=0}function _addUnit(e,t){return t=t||"px",e&&/^-?\d+(?:\.\d+)?$/.test(e)?e+t:e}function _removeUnit(e){var t;return e&&(t=/(\d+)/.exec(e))?parseInt(t[1],10):0}function _escape(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function _unescape(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")}function _toCamel(e){var t=e.split("-");return e="",_each(t,function(t,n){e+=t>0?n.charAt(0).toUpperCase()+n.substr(1):n}),e}function _toHex(e){function t(e){var t=parseInt(e,10).toString(16).toUpperCase();return t.length>1?t:"0"+t}return e.replace(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/gi,function(e,n,i,r){return"#"+t(n)+t(i)+t(r)})}function _toMap(e,t){t=t===undefined?",":t;var n,i={},r=_isArray(e)?e:e.split(t);return _each(r,function(e,t){if(n=/^(\d+)\.\.(\d+)$/.exec(t))for(var r=parseInt(n[1],10);r<=parseInt(n[2],10);r++)i[r.toString()]=!0;else i[t]=!0}),i}function _toArray(e,t){return Array.prototype.slice.call(e,t||0)}function _undef(e,t){return e===undefined?t:e}function _invalidUrl(e){return!e||/[<>"]/.test(e)}function _addParam(e,t){return e.indexOf("?")>=0?e+"&"+t:e+"?"+t}function _extend(e,t,n){n||(n=t,t=null);var i;if(t){var r=function(){};r.prototype=t.prototype,i=new r,_each(n,function(e,t){i[e]=t})}else i=n;i.constructor=e,e.prototype=i,e.parent=t?t.prototype:null}function _json(text){var match;(match=/\{[\s\S]*\}|\[[\s\S]*\]/.exec(text))&&(text=match[0]);var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return eval("("+text+")");throw"JSON parse error"}function _getBasePath(){for(var e,t=document.getElementsByTagName("script"),n=0,i=t.length;n<i;n++)if(e=t[n].src||"",/kindeditor[\w\-\.]*\.js/.test(e))return e.substring(0,e.lastIndexOf("/")+1);return""}function _bindEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,_useCapture):e.attachEvent&&e.attachEvent("on"+t,n)}function _unbindEvent(e,t,n){e.removeEventListener?e.removeEventListener(t,n,_useCapture):e.detachEvent&&e.detachEvent("on"+t,n)}function KEvent(e,t){this.init(e,t)}function _getId(e){return e[_eventExpendo]||null}function _setId(e){return e[_eventExpendo]=++_eventId,_eventId}function _removeId(e){try{delete e[_eventExpendo]}catch(t){e.removeAttribute&&e.removeAttribute(_eventExpendo)}}function _bind(e,t,n){if(t.indexOf(",")>=0)return void _each(t.split(","),function(){_bind(e,this,n)});var i=_getId(e);i||(i=_setId(e)),_eventData[i]===undefined&&(_eventData[i]={});var r=_eventData[i][t];r&&r.length>0?_unbindEvent(e,t,r[0]):(_eventData[i][t]=[],_eventData[i].el=e),r=_eventData[i][t],0===r.length&&(r[0]=function(t){var n=t?new KEvent(e,t):undefined;_each(r,function(t,i){t>0&&i&&i.call(e,n)})}),_inArray(n,r)<0&&r.push(n),_bindEvent(e,t,r[0])}function _unbind(e,t,n){if(t&&t.indexOf(",")>=0)return void _each(t.split(","),function(){_unbind(e,this,n)});var i=_getId(e);if(i){if(t===undefined)return void(i in _eventData&&(_each(_eventData[i],function(t,n){"el"!=t&&n.length>0&&_unbindEvent(e,t,n[0])}),delete _eventData[i],_removeId(e)));if(_eventData[i]){var r=_eventData[i][t];if(r&&r.length>0){n===undefined?(_unbindEvent(e,t,r[0]),delete _eventData[i][t]):(_each(r,function(e,t){e>0&&t===n&&r.splice(e,1)}),1==r.length&&(_unbindEvent(e,t,r[0]),delete _eventData[i][t]));var o=0;_each(_eventData[i],function(){o++}),o<2&&(delete _eventData[i],_removeId(e))}}}}function _fire(e,t){if(t.indexOf(",")>=0)return void _each(t.split(","),function(){_fire(e,this)});var n=_getId(e);if(n){var i=_eventData[n][t];_eventData[n]&&i&&i.length>0&&i[0]()}}function _ctrl(e,t,n){t=/^\d{2,}$/.test(t)?t:t.toUpperCase().charCodeAt(0),_bind(e,"keydown",function(i){!i.ctrlKey||i.which!=t||i.shiftKey||i.altKey||(n.call(e),i.stop())})}function _ready(e){function t(){r||(r=!0,e(KindEditor),_readyFinished=!0)}function n(){if(!r){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(n,100)}t()}}function i(){"complete"===document.readyState&&t()}if(_readyFinished)return void e(KindEditor);var r=!1;if(document.addEventListener)_bind(document,"DOMContentLoaded",t);else if(document.attachEvent){_bind(document,"readystatechange",i);var o=!1;try{o=null==window.frameElement}catch(e){}document.documentElement.doScroll&&o&&n()}_bind(window,"load",t)}function _getCssList(e){for(var t,n={},i=/\s*([\w\-]+)\s*:([^;]*)(;|$)/g;t=i.exec(e);){var r=_trim(t[1].toLowerCase()),o=_trim(_toHex(t[2]));n[r]=o}return n}function _getAttrList(e){for(var t,n={},i=/\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g;t=i.exec(e);){var r=(t[1]||t[2]||t[4]||t[6]).toLowerCase(),o=(t[2]?t[3]:t[4]?t[5]:t[7])||"";n[r]=o}return n}function _addClassToTag(e,t){return e=/\s+class\s*=/.test(e)?e.replace(/(\s+class=["']?)([^"']*)(["']?[\s>])/,function(e,n,i,r){return(" "+i+" ").indexOf(" "+t+" ")<0?""===i?n+t+r:n+i+" "+t+r:e}):e.substr(0,e.length-1)+' class="'+t+'">'}function _formatCss(e){var t="";return _each(_getCssList(e),function(e,n){t+=e+":"+n+";"}),t}function _formatUrl(e,t,n,i){function r(e){for(var t=e.split("/"),n=[],i=0,r=t.length;i<r;i++){var o=t[i];".."==o?n.length>0&&n.pop():""!==o&&"."!=o&&n.push(o)}return"/"+n.join("/");
}function o(t,n){if(e.substr(0,t.length)===t){for(var r=[],a=0;a<n;a++)r.push("..");var l=".";return r.length>0&&(l+="/"+r.join("/")),"/"==i&&(l+="/"),l+e.substr(t.length)}if(s=/^(.*)\//.exec(t))return o(s[1],++n)}if(t=_undef(t,"").toLowerCase(),"data:"!=e.substr(0,5)&&(e=e.replace(/([^:])\/\//g,"$1/")),_inArray(t,["absolute","relative","domain"])<0)return e;if(n=n||location.protocol+"//"+location.host,i===undefined){var a=location.pathname.match(/^(\/.*)\//);i=a?a[1]:""}var s;if(s=/^(\w+:\/\/[^\/]*)/.exec(e)){if(s[1]!==n)return e}else if(/^\w+:/.test(e))return e;return/^\//.test(e)?e=n+r(e.substr(1)):/^\w+:\/\//.test(e)||(e=n+r(i+"/"+e)),"relative"===t?e=o(n+i,0).substr(2):"absolute"===t&&e.substr(0,n.length)===n&&(e=e.substr(n.length)),e}function _formatHtml(e,t,n,i,r){null==e&&(e=""),n=n||"",i=_undef(i,!1),r=_undef(r,"\t");var o="xx-small,x-small,small,medium,large,x-large,xx-large".split(",");e=e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi,function(e,t,n,i){return t+n.replace(/<(?:br|br\s[^>]*)>/gi,"\n")+i}),e=e.replace(/<(?:br|br\s[^>]*)\s*\/?>\s*<\/p>/gi,"</p>"),e=e.replace(/(<(?:p|p\s[^>]*)>)\s*(<\/p>)/gi,"$1<br />$2"),e=e.replace(/\u200B/g,""),e=e.replace(/\u00A9/g,"&copy;"),e=e.replace(/\u00AE/g,"&reg;"),e=e.replace(/\u2003/g,"&emsp;"),e=e.replace(/\u3000/g,"&emsp;"),e=e.replace(/<[^>]+/g,function(e){return e.replace(/\s+/g," ")});var a={};t&&(_each(t,function(e,t){for(var n=e.split(","),i=0,r=n.length;i<r;i++)a[n[i]]=_toMap(t)}),a.script||(e=e.replace(/(<(?:script|script\s[^>]*)>)([\s\S]*?)(<\/script>)/gi,"")),a.style||(e=e.replace(/(<(?:style|style\s[^>]*)>)([\s\S]*?)(<\/style>)/gi,"")));var s=/(\s*)<(\/)?([\w\-:]+)((?:\s+|(?:\s+[\w\-:]+)|(?:\s+[\w\-:]+=[^\s"'<>]+)|(?:\s+[\w\-:"]+="[^"]*")|(?:\s+[\w\-:"]+='[^']*'))*)(\/)?>(\s*)/g,l=[];return e=e.replace(s,function(e,s,c,u,d,p,h){var f=e,m=s||"",g=c||"",v=u.toLowerCase(),y=d||"",b=p?" "+p:"",w=h||"";if(t&&!a[v])return"";if(""===b&&_SINGLE_TAG_MAP[v]&&(b=" /"),_INLINE_TAG_MAP[v]&&(m&&(m=" "),w&&(w=" ")),_PRE_TAG_MAP[v]&&(g?w="\n":m="\n"),i&&"br"==v&&(w="\n"),_BLOCK_TAG_MAP[v]&&!_PRE_TAG_MAP[v])if(i){g&&l.length>0&&l[l.length-1]===v?l.pop():l.push(v),m="\n",w="\n";for(var x=0,$=g?l.length:l.length-1;x<$;x++)m+=r,g||(w+=r);b?l.pop():g||(w+=r)}else m=w="";if(""!==y){var k=_getAttrList(f);if("font"===v){var _={},C="";_each(k,function(e,t){"color"===e&&(_.color=t,delete k[e]),"size"===e&&(_["font-size"]=o[parseInt(t,10)-1]||"",delete k[e]),"face"===e&&(_["font-family"]=t,delete k[e]),"style"===e&&(C=t)}),C&&!/;$/.test(C)&&(C+=";"),_each(_,function(e,t){""!==t&&(/\s/.test(t)&&(t="'"+t+"'"),C+=e+":"+t+";")}),k.style=C}_each(k,function(e,i){if(_FILL_ATTR_MAP[e]&&(k[e]=e),_inArray(e,["src","href"])>=0&&(k[e]=_formatUrl(i,n)),(t&&"style"!==e&&!a[v]["*"]&&!a[v][e]||"body"===v&&"contenteditable"===e||/^kindeditor_\d+$/.test(e))&&delete k[e],"style"===e&&""!==i){var r=_getCssList(i);_each(r,function(e,n){!t||a[v].style||a[v]["."+e]||delete r[e]});var o="";_each(r,function(e,t){o+=e+":"+t+";"}),k.style=o}}),y="",_each(k,function(e,t){"style"===e&&""===t||(t=t.replace(/"/g,"&quot;"),y+=" "+e+'="'+t+'"')})}return"font"===v&&(v="span"),m+"<"+g+v+y+b+">"+w}),e=e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi,function(e,t,n,i){return t+n.replace(/\n/g,'<span id="__kindeditor_pre_newline__">\n')+i}),e=e.replace(/\n\s*\n/g,"\n"),e=e.replace(/<span id="__kindeditor_pre_newline__">\n/g,"\n"),_trim(e)}function _clearMsWord(e,t){return e=e.replace(/<meta[\s\S]*?>/gi,"").replace(/<![\s\S]*?>/gi,"").replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<w:[^>]+>[\s\S]*?<\/w:[^>]+>/gi,"").replace(/<o:[^>]+>[\s\S]*?<\/o:[^>]+>/gi,"").replace(/<xml>[\s\S]*?<\/xml>/gi,"").replace(/<(?:table|td)[^>]*>/gi,function(e){return e.replace(/border-bottom:([#\w\s]+)/gi,"border:$1")}),_formatHtml(e,t)}function _mediaType(e){return/\.(rm|rmvb)(\?|$)/i.test(e)?"audio/x-pn-realaudio-plugin":/\.(swf|flv)(\?|$)/i.test(e)?"application/x-shockwave-flash":"video/x-ms-asf-plugin"}function _mediaClass(e){return/realaudio/i.test(e)?"ke-rm":/flash/i.test(e)?"ke-flash":"ke-media"}function _mediaAttrs(e){return _getAttrList(unescape(e))}function _mediaEmbed(e){var t="<embed ";return _each(e,function(e,n){t+=e+'="'+n+'" '}),t+="/>"}function _mediaImg(e,t){var n=t.width,i=t.height,r=t.type||_mediaType(t.src),o=_mediaEmbed(t),a="";/\D/.test(n)?a+="width:"+n+";":n>0&&(a+="width:"+n+"px;"),/\D/.test(i)?a+="height:"+i+";":i>0&&(a+="height:"+i+"px;");var s='<img class="'+_mediaClass(r)+'" src="'+e+'" ';return""!==a&&(s+='style="'+a+'" '),s+='data-ke-tag="'+escape(o)+'" alt="" />'}function _tmpl(e,t){var n=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return t?n(t):n}function _contains(e,t){if(9==e.nodeType&&9!=t.nodeType)return!0;for(;t=t.parentNode;)if(t==e)return!0;return!1}function _getAttr(e,t){t=t.toLowerCase();var n=null;if(_GET_SET_ATTRIBUTE||"script"==e.nodeName.toLowerCase())try{n=e.getAttribute(t,2)}catch(i){n=e.getAttribute(t,1)}else{var i=e.ownerDocument.createElement("div");i.appendChild(e.cloneNode(!1));var r=_getAttrList(_unescape(i.innerHTML));t in r&&(n=r[t])}return"style"===t&&null!==n&&(n=_formatCss(n)),n}function _queryAll(e,t){function n(e){return"string"!=typeof e?e:e.replace(/([^\w\-])/g,"\\$1")}function i(e){return e.replace(/\\/g,"")}function r(e,t){return"*"===e||e.toLowerCase()===n(t.toLowerCase())}function o(e,t,n){var o=[],a=n.ownerDocument||n,s=a.getElementById(i(e));return s&&r(t,s.nodeName)&&_contains(n,s)&&o.push(s),o}function a(e,t,n){var o,a,s,l,c=n.ownerDocument||n,u=[];if(n.getElementsByClassName)for(o=n.getElementsByClassName(i(e)),a=0,s=o.length;a<s;a++)l=o[a],r(t,l.nodeName)&&u.push(l);else if(c.querySelectorAll)for(o=c.querySelectorAll(("#document"!==n.nodeName?n.nodeName+" ":"")+t+"."+e),a=0,s=o.length;a<s;a++)l=o[a],_contains(n,l)&&u.push(l);else for(o=n.getElementsByTagName(t),e=" "+e+" ",a=0,s=o.length;a<s;a++)if(l=o[a],1==l.nodeType){var d=l.className;d&&(" "+d+" ").indexOf(e)>-1&&u.push(l)}return u}function s(e,t,n){for(var o,a=[],s=n.ownerDocument||n,l=s.getElementsByName(i(e)),c=0,u=l.length;c<u;c++)o=l[c],r(t,o.nodeName)&&_contains(n,o)&&null!==o.getAttribute("name")&&a.push(o);return a}function l(e,t,i,r){for(var o,a=[],s=r.getElementsByTagName(i),l=0,c=s.length;l<c;l++)o=s[l],1==o.nodeType&&(null===t?null!==_getAttr(o,e)&&a.push(o):t===n(_getAttr(o,e))&&a.push(o));return a}function c(e,t){var n,i=[];n=/^((?:\\.|[^.#\s\[<>])+)/.exec(e);var r=n?n[1]:"*";if(n=/#((?:[\w\-]|\\.)+)$/.exec(e))i=o(n[1],r,t);else if(n=/\.((?:[\w\-]|\\.)+)$/.exec(e))i=a(n[1],r,t);else if(n=/\[((?:[\w\-]|\\.)+)\]/.exec(e))i=l(n[1].toLowerCase(),null,r,t);else if(n=/\[((?:[\w\-]|\\.)+)\s*=\s*['"]?((?:\\.|[^'"]+)+)['"]?\]/.exec(e)){var c=n[1].toLowerCase(),u=n[2];i="id"===c?o(u,r,t):"class"===c?a(u,r,t):"name"===c?s(u,r,t):l(c,u,r,t)}else for(var d,p=t.getElementsByTagName(r),h=0,f=p.length;h<f;h++)d=p[h],1==d.nodeType&&i.push(d);return i}var u=e.split(",");if(u.length>1){var d=[];return _each(u,function(){_each(_queryAll(this,t),function(){_inArray(this,d)<0&&d.push(this)})}),d}t=t||document;for(var p,h=[],f=/((?:\\.|[^\s>])+|[\s>])/g;p=f.exec(e);)" "!==p[1]&&h.push(p[1]);var m=[];if(1==h.length)return c(h[0],t);var g,v,y,b,w,x,$,k,_,C,S=!1;for(x=0,lenth=h.length;x<lenth;x++)if(g=h[x],">"!==g){if(x>0){for(v=[],$=0,_=m.length;$<_;$++)for(b=m[$],y=c(g,b),k=0,C=y.length;k<C;k++)w=y[k],S?b===w.parentNode&&v.push(w):v.push(w);m=v}else m=c(g,t);if(0===m.length)return[]}else S=!0;return m}function _query(e,t){var n=_queryAll(e,t);return n.length>0?n[0]:null}function _get(e){return K(e)[0]}function _getDoc(e){return e?e.ownerDocument||e.document||e:document}function _getWin(e){if(!e)return window;var t=_getDoc(e);return t.parentWindow||t.defaultView}function _setHtml(e,t){if(1==e.nodeType){var n=_getDoc(e);try{e.innerHTML='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+t;var i=n.getElementById("__kindeditor_temp_tag__");i.parentNode.removeChild(i)}catch(i){K(e).empty(),K("@"+t,n).each(function(){e.appendChild(this)})}}}function _hasClass(e,t){return _inString(t,e.className," ")}function _setAttr(e,t,n){_IE&&_V<8&&"class"==t.toLowerCase()&&(t="className"),e.setAttribute(t,""+n)}function _removeAttr(e,t){_IE&&_V<8&&"class"==t.toLowerCase()&&(t="className"),_setAttr(e,t,""),e.removeAttribute(t)}function _getNodeName(e){return e&&e.nodeName?e.nodeName.toLowerCase():""}function _computedCss(e,t){var n=_getWin(e),i=_toCamel(t),r="";if(n.getComputedStyle){var o=n.getComputedStyle(e,null);r=o[i]||o.getPropertyValue(t)||e.style[i]}else e.currentStyle&&(r=e.currentStyle[i]||e.style[i]);return r}function _hasVal(e){return!!_VALUE_TAG_MAP[_getNodeName(e)]}function _docElement(e){return e=e||document,_QUIRKS?e.body:e.documentElement}function _docHeight(e){var t=_docElement(e);return Math.max(t.scrollHeight,t.clientHeight)}function _docWidth(e){var t=_docElement(e);return Math.max(t.scrollWidth,t.clientWidth)}function _getScrollPos(e){e=e||document;var t,n;return _IE||_NEWIE||_OPERA?(t=_docElement(e).scrollLeft,n=_docElement(e).scrollTop):(t=_getWin(e).scrollX,n=_getWin(e).scrollY),{x:t,y:n}}function KNode(e){this.init(e)}function _updateCollapsed(e){return e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e}function _copyAndDelete(e,t,n){function i(i,r,o){var a,l=i.nodeValue.length;if(t){var c=i.cloneNode(!0);a=r>0?c.splitText(r):c,o<l&&a.splitText(o-r)}if(n){var u=i;if(r>0&&(u=i.splitText(r),e.setStart(i,r)),o<l){var d=u.splitText(o-r);e.setEnd(d,0)}s.push(u)}return a}function r(){n&&e.up().collapse(!0);for(var t=0,i=s.length;t<i;t++){var r=s[t];r.parentNode&&r.parentNode.removeChild(r)}}function o(r,h){for(var f,m=r.firstChild;m;){var g=new KRange(a).selectNode(m);if(c=g.compareBoundaryPoints(_START_TO_END,e),c>=0&&u<=0&&(u=g.compareBoundaryPoints(_START_TO_START,e)),u>=0&&d<=0&&(d=g.compareBoundaryPoints(_END_TO_END,e)),d>=0&&p<=0&&(p=g.compareBoundaryPoints(_END_TO_START,e)),p>=0)return!1;if(f=m.nextSibling,c>0)if(1==m.nodeType)if(u>=0&&d<=0)t&&h.appendChild(m.cloneNode(!0)),n&&s.push(m);else{var v;if(t&&(v=m.cloneNode(!1),h.appendChild(v)),o(m,v)===!1)return!1}else if(3==m.nodeType){var y;if(y=m==l.startContainer?i(m,l.startOffset,m.nodeValue.length):m==l.endContainer?i(m,0,l.endOffset):i(m,0,m.nodeValue.length),t)try{h.appendChild(y)}catch(e){}}m=f}}var a=e.doc,s=[],l=e.cloneRange().down(),c=-1,u=-1,d=-1,p=-1,h=e.commonAncestor(),f=a.createDocumentFragment();if(3==h.nodeType){var m=i(h,e.startOffset,e.endOffset);return t&&f.appendChild(m),r(),t?f:e}o(h,f),n&&e.up().collapse(!0);for(var g=0,v=s.length;g<v;g++){var y=s[g];y.parentNode&&y.parentNode.removeChild(y)}return t?f:e}function _moveToElementText(e,t){for(var n=t;n;){var i=K(n);if("marquee"==i.name||"select"==i.name)return;n=n.parentNode}try{e.moveToElementText(t)}catch(e){}}function _getStartEnd(e,t){var n=e.parentElement().ownerDocument,i=e.duplicate();i.collapse(t);var r=i.parentElement(),o=r.childNodes;if(0===o.length)return{node:r.parentNode,offset:K(r).index()};var a=n,s=0,l=-1,c=e.duplicate();_moveToElementText(c,r);for(var u=0,d=o.length;u<d;u++){var p=o[u];if(l=c.compareEndPoints("StartToStart",i),0===l)return{node:p.parentNode,offset:u};if(1==p.nodeType){var h,f=e.duplicate(),m=K(p),g=p;m.isControl()&&(h=n.createElement("span"),m.after(h),g=h,s+=m.text().replace(/\r\n|\n|\r/g,"").length),_moveToElementText(f,g),c.setEndPoint("StartToEnd",f),l>0?s+=f.text.replace(/\r\n|\n|\r/g,"").length:s=0,h&&K(h).remove()}else 3==p.nodeType&&(c.moveStart("character",p.nodeValue.length),s+=p.nodeValue.length);l<0&&(a=p)}if(l<0&&1==a.nodeType)return{node:r,offset:K(r.lastChild).index()+1};if(l>0)for(;a.nextSibling&&1==a.nodeType;)a=a.nextSibling;if(c=e.duplicate(),_moveToElementText(c,r),c.setEndPoint("StartToEnd",i),s-=c.text.replace(/\r\n|\n|\r/g,"").length,l>0&&3==a.nodeType)for(var v=a.previousSibling;v&&3==v.nodeType;)s-=v.nodeValue.length,v=v.previousSibling;return{node:a,offset:s}}function _getEndRange(e,t){var n=e.ownerDocument||e,i=n.body.createTextRange();if(n==e)return i.collapse(!0),i;if(1==e.nodeType&&e.childNodes.length>0){var r,o,a=e.childNodes;if(0===t?(o=a[0],r=!0):(o=a[t-1],r=!1),!o)return i;if("head"===K(o).name)return 1===t&&(r=!0),2===t&&(r=!1),i.collapse(r),i;if(1==o.nodeType){var s,l=K(o);return l.isControl()&&(s=n.createElement("span"),r?l.before(s):l.after(s),o=s),_moveToElementText(i,o),i.collapse(r),s&&K(s).remove(),i}e=o,t=r?0:o.nodeValue.length}var c=n.createElement("span");return K(e).before(c),_moveToElementText(i,c),i.moveStart("character",t),K(c).remove(),i}function _toRange(e){function t(e){"tr"==K(e.node).name&&(e.node=e.node.cells[e.offset],e.offset=0)}var n,i;if(_IERANGE){if(e.item)return n=_getDoc(e.item(0)),i=new KRange(n),i.selectNode(e.item(0)),i;n=e.parentElement().ownerDocument;var r=_getStartEnd(e,!0),o=_getStartEnd(e,!1);return t(r),t(o),i=new KRange(n),i.setStart(r.node,r.offset),i.setEnd(o.node,o.offset),i}var a=e.startContainer;return n=a.ownerDocument||a,i=new KRange(n),i.setStart(a,e.startOffset),i.setEnd(e.endContainer,e.endOffset),i}function KRange(e){this.init(e)}function _range(e){return e.nodeName?new KRange(e):e.constructor===KRange?e:_toRange(e)}function _nativeCommand(e,t,n){try{e.execCommand(t,!1,n)}catch(e){}}function _nativeCommandValue(e,t){var n="";try{n=e.queryCommandValue(t)}catch(e){}return"string"!=typeof n&&(n=""),n}function _getSel(e){var t=_getWin(e);return _IERANGE?e.selection:t.getSelection()}function _getRng(e){var t,n=_getSel(e);try{t=n.rangeCount>0?n.getRangeAt(0):n.createRange()}catch(e){}return!_IERANGE||t&&(t.item||t.parentElement().ownerDocument===e)?t:null}function _singleKeyMap(e){var t,n,i={};return _each(e,function(e,r){t=e.split(",");for(var o=0,a=t.length;o<a;o++)n=t[o],i[n]=r}),i}function _hasAttrOrCss(e,t){return _hasAttrOrCssByKey(e,t,"*")||_hasAttrOrCssByKey(e,t)}function _hasAttrOrCssByKey(e,t,n){if(n=n||e.name,1!==e.type)return!1;var i=_singleKeyMap(t);if(!i[n])return!1;for(var r=i[n].split(","),o=0,a=r.length;o<a;o++){var s=r[o];if("*"===s)return!0;var l=/^(\.?)([^=]+)(?:=([^=]*))?$/.exec(s),c=l[1]?"css":"attr";s=l[2];var u=l[3]||"";if(""===u&&""!==e[c](s))return!0;if(""!==u&&e[c](s)===u)return!0}return!1}function _removeAttrOrCss(e,t){1==e.type&&(_removeAttrOrCssByKey(e,t,"*"),_removeAttrOrCssByKey(e,t))}function _removeAttrOrCssByKey(e,t,n){if(n=n||e.name,1===e.type){var i=_singleKeyMap(t);if(i[n]){for(var r=i[n].split(","),o=!1,a=0,s=r.length;a<s;a++){var l=r[a];if("*"===l){o=!0;break}var c=/^(\.?)([^=]+)(?:=([^=]*))?$/.exec(l);l=c[2],c[1]?(l=_toCamel(l),e[0].style[l]&&(e[0].style[l]="")):e.removeAttr(l)}o&&e.remove(!0)}}}function _getInnerNode(e){for(var t=e;t.first();)t=t.first();return t}function _isEmptyNode(e){return 1==e.type&&!e.isSingle()&&""===e.html().replace(/<[^>]+>/g,"")}function _mergeWrapper(e,t){e=e.clone(!0);for(var n=_getInnerNode(e),i=e,r=!1;t;){for(;i;)i.name===t.name&&(_mergeAttrs(i,t.attr(),t.css()),r=!0),i=i.first();r||n.append(t.clone(!1)),r=!1,t=t.first()}return e}function _wrapNode(e,t){if(t=t.clone(!0),3==e.type)return _getInnerNode(t).append(e.clone(!1)),e.replaceWith(t),t;for(var n,i=e;(n=e.first())&&1==n.children().length;)e=n;n=e.first();for(var r=e.doc.createDocumentFragment();n;)r.appendChild(n[0]),n=n.next();return t=_mergeWrapper(i,t),r.firstChild&&_getInnerNode(t).append(r),i.replaceWith(t),t}function _mergeAttrs(e,t,n){_each(t,function(t,n){"style"!==t&&e.attr(t,n)}),_each(n,function(t,n){e.css(t,n)})}function _inPreElement(e){for(;e&&"body"!=e.name;){if(_PRE_TAG_MAP[e.name]||"div"==e.name&&e.hasClass("ke-script"))return!0;e=e.parent()}return!1}function KCmd(e){this.init(e)}function _cmd(e){if(e.nodeName){var t=_getDoc(e);e=_range(t).selectNodeContents(t.body).collapse(!1)}return new KCmd(e)}function _drag(e){var t=e.moveEl,n=e.moveFn,i=e.clickEl||t,r=e.beforeDrag,o=e.iframeFix===undefined||e.iframeFix,a=[document];o&&K("iframe").each(function(){var e=_formatUrl(this.src||"","absolute");if(!/^https?:\/\//.test(e)){var t;try{t=_iframeDoc(this)}catch(e){}if(t){var n=K(this).pos();K(t).data("pos-x",n.x),K(t).data("pos-y",n.y),a.push(t)}}}),i.mousedown(function(e){function o(e){e.preventDefault();var t=K(_getDoc(e.target)),r=_round((t.data("pos-x")||0)+e.pageX-f),o=_round((t.data("pos-y")||0)+e.pageY-m);n.call(i,u,d,p,h,r,o)}function s(e){e.preventDefault()}function l(e){e.preventDefault(),K(a).unbind("mousemove",o).unbind("mouseup",l).unbind("selectstart",s),c.releaseCapture&&c.releaseCapture()}if(0===e.button||1===e.button){e.stopPropagation();var c=i.get(),u=_removeUnit(t.css("left")),d=_removeUnit(t.css("top")),p=t.width(),h=t.height(),f=e.pageX,m=e.pageY;r&&r(),K(a).mousemove(o).mouseup(l).bind("selectstart",s),c.setCapture&&c.setCapture()}})}function KWidget(e){this.init(e)}function _widget(e){return new KWidget(e)}function _iframeDoc(e){return e=_get(e),e.contentDocument||e.contentWindow.document}function _getInitHtml(e,t,n,i){var r=[""===_direction?"<html>":'<html dir="'+_direction+'">','<head><meta charset="utf-8" /><title></title>',"<style>","html {margin:0;padding:0;}","body {margin:0;padding:5px;}",'body, td {font:12px/1.5 "sans serif",tahoma,verdana,helvetica;}',"body, p, div {word-wrap: break-word;}","p {margin:5px 0;}","table {border-collapse:collapse;}","img {border:0;}","noscript {display:none;}","table.ke-zeroborder td {border:1px dotted #AAA;}","img.ke-flash {","\tborder:1px solid #AAA;","\tbackground-image:url("+e+"common/flash.gif);","\tbackground-position:center center;","\tbackground-repeat:no-repeat;","\twidth:100px;","\theight:100px;","}","img.ke-rm {","\tborder:1px solid #AAA;","\tbackground-image:url("+e+"common/rm.gif);","\tbackground-position:center center;","\tbackground-repeat:no-repeat;","\twidth:100px;","\theight:100px;","}","img.ke-media {","\tborder:1px solid #AAA;","\tbackground-image:url("+e+"common/media.gif);","\tbackground-position:center center;","\tbackground-repeat:no-repeat;","\twidth:100px;","\theight:100px;","}","img.ke-anchor {","\tborder:1px dashed #666;","\twidth:16px;","\theight:16px;","}",".ke-script, .ke-noscript, .ke-display-none {","\tdisplay:none;","\tfont-size:0;","\twidth:0;","\theight:0;","}",".ke-pagebreak {","\tborder:1px dotted #AAA;","\tfont-size:0;","\theight:2px;","}","</style>"];return _isArray(n)||(n=[n]),_each(n,function(e,t){t&&r.push('<link href="'+t+'" rel="stylesheet" />')}),i&&r.push("<style>"+i+"</style>"),r.push("</head><body "+(t?'class="'+t+'"':"")+"></body></html>"),r.join("\n")}function _elementVal(e,t){if(e.hasVal()){if(t===undefined){var n=e.val();return n=n.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi,"")}return e.val(t)}return e.html(t)}function KEdit(e){this.init(e)}function _edit(e){return new KEdit(e)}function _selectToolbar(e,t){var n=this,i=n.get(e);if(i){if(i.hasClass("ke-disabled"))return;t(i)}}function KToolbar(e){this.init(e)}function _toolbar(e){return new KToolbar(e)}function KMenu(e){this.init(e)}function _menu(e){return new KMenu(e)}function KColorPicker(e){this.init(e)}function _colorpicker(e){return new KColorPicker(e)}function KUploadButton(e){this.init(e)}function _uploadbutton(e){return new KUploadButton(e)}function _createButton(e){e=e||{};var t=e.name||"",n=K('<span class="ke-button-common ke-button-outer" title="'+t+'"></span>'),i=K('<input class="ke-button-common ke-button" type="button" value="'+t+'" />');return e.click&&i.click(e.click),n.append(i),n}function KDialog(e){this.init(e)}function _dialog(e){return new KDialog(e)}function _tabs(e){var t=_widget(e),n=t.remove,i=e.afterSelect,r=t.div,o=[];r.addClass("ke-tabs").bind("contextmenu,mousedown,mousemove",function(e){e.preventDefault()});var a=K('<ul class="ke-tabs-ul ke-clearfix"></ul>');return r.append(a),t.add=function(e){var t=K('<li class="ke-tabs-li">'+e.title+"</li>");t.data("tab",e),o.push(t),a.append(t)},t.selectedIndex=0,t.select=function(e){t.selectedIndex=e,_each(o,function(n,i){i.unbind(),n===e?(i.addClass("ke-tabs-li-selected"),K(i.data("tab").panel).show("")):(i.removeClass("ke-tabs-li-selected").removeClass("ke-tabs-li-on").mouseover(function(){K(this).addClass("ke-tabs-li-on")}).mouseout(function(){K(this).removeClass("ke-tabs-li-on")}).click(function(){t.select(n)}),K(i.data("tab").panel).hide())}),i&&i.call(t,e)},t.remove=function(){_each(o,function(){this.remove()}),a.remove(),n.call(t)},t}function _loadScript(e,t){var n=document.getElementsByTagName("head")[0]||(_QUIRKS?document.body:document.documentElement),i=document.createElement("script");n.appendChild(i),i.src=e,i.charset="utf-8",i.onload=i.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState||(t&&t(),i.onload=i.onreadystatechange=null,n.removeChild(i))}}function _chopQuery(e){var t=e.indexOf("?");return t>0?e.substr(0,t):e}function _loadStyle(e){for(var t=document.getElementsByTagName("head")[0]||(_QUIRKS?document.body:document.documentElement),n=document.createElement("link"),i=_chopQuery(_formatUrl(e,"absolute")),r=K('link[rel="stylesheet"]',t),o=0,a=r.length;o<a;o++)if(_chopQuery(_formatUrl(r[o].href,"absolute"))===i)return;t.appendChild(n),n.href=e,n.rel="stylesheet"}function _ajax(e,t,n,i,r){n=n||"GET",r=r||"json";var o=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(o.open(n,e,!0),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status&&t){var e=_trim(o.responseText);"json"==r&&(e=_json(e)),t(e)}},"POST"==n){var a=[];_each(i,function(e,t){a.push(encodeURIComponent(e)+"="+encodeURIComponent(t))});try{o.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}catch(e){}o.send(a.join("&"))}else o.send(null)}function _plugin(e,t){return e===undefined?_plugins:t?void(_plugins[e]=t):_plugins[e]}function _parseLangKey(e){var t,n="core";return(t=/^(\w+)\.(\w+)$/.exec(e))&&(n=t[1],e=t[2]),{ns:n,key:e}}function _lang(e,t){if(t=t===undefined?K.options.langType:t,"string"==typeof e){if(!_language[t])return"no language";var n=e.length-1;if("."===e.substr(n))return _language[t][e.substr(0,n)];var i=_parseLangKey(e);return _language[t][i.ns][i.key]}_each(e,function(e,n){var i=_parseLangKey(e);_language[t]||(_language[t]={}),_language[t][i.ns]||(_language[t][i.ns]={}),_language[t][i.ns][i.key]=n})}function _getImageFromRange(e,t){if(!e.collapsed){e=e.cloneRange().up();var n=e.startContainer,i=e.startOffset;if(_WEBKIT||e.isControl()){var r=K(n.childNodes[i]);if(r&&"img"==r.name)return t(r)?r:void 0}}}function _bindContextmenuEvent(){var e=this,t=e.edit.doc;K(t).contextmenu(function(t){if(e.menu&&e.hideMenu(),!e.useContextmenu)return void t.preventDefault();if(0!==e._contextmenus.length){var n=0,i=[];for(_each(e._contextmenus,function(){return"-"==this.title?void i.push(this):void(this.cond&&this.cond()&&(i.push(this),this.width&&this.width>n&&(n=this.width)))});i.length>0&&"-"==i[0].title;)i.shift();for(;i.length>0&&"-"==i[i.length-1].title;)i.pop();var r=null;if(_each(i,function(e){"-"==this.title&&"-"==r.title&&delete i[e],r=this}),i.length>0){t.preventDefault();var o=K(e.edit.iframe).pos(),a=_menu({x:o.x+t.clientX,y:o.y+t.clientY,width:n,css:{visibility:"hidden"},shadowMode:e.shadowMode});_each(i,function(){this.title&&a.addItem(this)});var s=_docElement(a.doc),l=a.div.height();t.clientY+l>=s.clientHeight-100&&a.pos(a.x,_removeUnit(a.y)-l),a.div.css("visibility","visible"),e.menu=a}}})}function _bindNewlineEvent(){function e(e){for(var t=K(e.commonAncestor());t&&(1!=t.type||t.isStyle());)t=t.parent();return t.name}var t=this,n=t.edit.doc,i=t.newlineTag;if(!(_IE&&"br"!==i||_GECKO&&_V<3&&"p"!==i||_OPERA&&_V<9)){var r=_toMap("h1,h2,h3,h4,h5,h6,pre,li"),o=_toMap("p,h1,h2,h3,h4,h5,h6,pre,li,blockquote");K(n).keydown(function(a){if(!(13!=a.which||a.shiftKey||a.ctrlKey||a.altKey)){t.cmd.selection();var s=e(t.cmd.range);if("marquee"!=s&&"select"!=s)return"br"!==i||r[s]?void(o[s]||_nativeCommand(n,"formatblock","<p>")):(a.preventDefault(),void t.insertHtml("<br />"+(_IE&&_V<9?"":"​")))}}),K(n).keyup(function(r){if(!(13!=r.which||r.shiftKey||r.ctrlKey||r.altKey)&&"br"!=i){if(_GECKO){var a=t.cmd.commonAncestor("p"),s=t.cmd.commonAncestor("a");return void(s&&""==s.text()&&(s.remove(!0),t.cmd.range.selectNodeContents(a[0]).collapse(!0),t.cmd.select()))}t.cmd.selection();var l=e(t.cmd.range);if("marquee"!=l&&"select"!=l){o[l]||_nativeCommand(n,"formatblock","<p>");var c=t.cmd.commonAncestor("div");if(c){for(var u=K("<p></p>"),d=c[0].firstChild;d;){var p=d.nextSibling;u.append(d),d=p}c.before(u),c.remove(),t.cmd.range.selectNodeContents(u[0]),t.cmd.select()}}}})}}function _bindTabEvent(){var e=this,t=e.edit.doc;K(t).keydown(function(n){if(9==n.which){if(n.preventDefault(),e.afterTab)return void e.afterTab.call(e,n);var i=e.cmd,r=i.range;r.shrink(),r.collapsed&&1==r.startContainer.nodeType&&(r.insertNode(K("@&nbsp;",t)[0]),i.select()),e.insertHtml("&nbsp;&nbsp;&nbsp;&nbsp;")}})}function _bindFocusEvent(){var e=this;K(e.edit.textarea[0],e.edit.win).focus(function(t){e.afterFocus&&e.afterFocus.call(e,t)}).blur(function(t){e.afterBlur&&e.afterBlur.call(e,t)})}function _removeBookmarkTag(e){return _trim(e.replace(/<span [^>]*id="?__kindeditor_bookmark_\w+_\d+__"?[^>]*><\/span>/gi,""))}function _removeTempTag(e){return e.replace(/<div[^>]+class="?__kindeditor_paste__"?[^>]*>[\s\S]*?<\/div>/gi,"")}function _addBookmarkToStack(e,t){if(0===e.length)return void e.push(t);var n=e[e.length-1];_removeBookmarkTag(t.html)!==_removeBookmarkTag(n.html)&&e.push(t)}function _undoToRedo(e,t){var n,i,r=this,o=r.edit,a=o.doc.body;if(0===e.length)return r;o.designMode?(n=r.cmd.range,i=n.createBookmark(!0),i.html=a.innerHTML):i={html:a.innerHTML},_addBookmarkToStack(t,i);var s=e.pop();return _removeBookmarkTag(i.html)===_removeBookmarkTag(s.html)&&e.length>0&&(s=e.pop()),o.designMode?(o.html(s.html),s.start&&(n.moveToBookmark(s),r.select())):K(a).html(_removeBookmarkTag(s.html)),r}function KEditor(e){function t(e,t){KEditor.prototype[e]===undefined&&(n[e]=t),n.options[e]=t}var n=this;n.options={},_each(e,function(n,i){t(n,e[n])}),_each(K.options,function(e,i){n[e]===undefined&&t(e,i)});var i=K(n.srcElement||"<textarea/>");n.width||(n.width=i[0].style.width||i.width()),n.height||(n.height=i[0].style.height||i.height()),t("width",_undef(n.width,n.minWidth)),t("height",_undef(n.height,n.minHeight)),t("width",_addUnit(n.width)),t("height",_addUnit(n.height)),_MOBILE&&(!_IOS||_V<534)&&(n.designMode=!1),n.srcElement=i,n.initContent="",n.plugin={},n.isCreated=!1,n._handlers={},n._contextmenus=[],n._undoStack=[],n._redoStack=[],n._firstAddBookmark=!0,n.menu=n.contextmenu=null,n.dialogs=[]}function _editor(e){return new KEditor(e)}function _create(e,t){function n(e){return _each(_plugins,function(t,n){_isFunction(n)&&(n.call(e,KindEditor),e._pluginStatus||(e._pluginStatus={}),e._pluginStatus[t]="inited")}),e.create()}if(t=t||{},t.basePath=_undef(t.basePath,K.basePath),t.themesPath=_undef(t.themesPath,t.basePath+"themes/"),t.langPath=_undef(t.langPath,t.basePath+"lang/"),t.pluginsPath=_undef(t.pluginsPath,t.basePath+"plugins/"),_undef(t.loadStyleMode,K.options.loadStyleMode)){var i=_undef(t.themeType,K.options.themeType);_loadStyle(t.themesPath+"default/default.css"),_loadStyle(t.themesPath+i+"/"+i+".css")}var r=K(e);if(r&&0!==r.length){if(r.length>1)return r.each(function(){_create(this,t)}),_instances[0];t.srcElement=r[0];var o=new KEditor(t);return _instances.push(o),_language[o.langType]?n(o):(_loadScript(o.langPath+o.langType+".js?ver="+encodeURIComponent(K.DEBUG?_TIME:_VERSION),function(){n(o)}),o)}}function _eachEditor(e,t){K(e).each(function(e,n){K.each(_instances,function(e,i){if(i&&i.srcElement[0]==n)return t.call(i,e),!1})})}if(!window.KindEditor){window.console||(window.console={}),console.log||(console.log=function(){});var _VERSION="4.1.11 (2016-03-31)",_ua=navigator.userAgent.toLowerCase(),_IE=_ua.indexOf("msie")>-1&&_ua.indexOf("opera")==-1,_NEWIE=_ua.indexOf("msie")==-1&&_ua.indexOf("trident")>-1,_GECKO=_ua.indexOf("gecko")>-1&&_ua.indexOf("khtml")==-1,_WEBKIT=_ua.indexOf("applewebkit")>-1,_OPERA=_ua.indexOf("opera")>-1,_MOBILE=_ua.indexOf("mobile")>-1,_IOS=/ipad|iphone|ipod/.test(_ua),_QUIRKS="CSS1Compat"!=document.compatMode,_IERANGE=!window.getSelection,_matches=/(?:msie|firefox|webkit|opera)[\/:\s](\d+)/.exec(_ua),_V=_matches?_matches[1]:"0",_TIME=(new Date).getTime(),_round=Math.round,K={DEBUG:!1,VERSION:_VERSION,IE:_IE,GECKO:_GECKO,WEBKIT:_WEBKIT,OPERA:_OPERA,V:_V,TIME:_TIME,each:_each,isArray:_isArray,isFunction:_isFunction,inArray:_inArray,inString:_inString,trim:_trim,addUnit:_addUnit,removeUnit:_removeUnit,escape:_escape,unescape:_unescape,toCamel:_toCamel,toHex:_toHex,toMap:_toMap,toArray:_toArray,undef:_undef,invalidUrl:_invalidUrl,addParam:_addParam,extend:_extend,json:_json},_INLINE_TAG_MAP=_toMap("a,abbr,acronym,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,img,input,ins,kbd,label,map,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),_BLOCK_TAG_MAP=_toMap("address,applet,blockquote,body,center,dd,dir,div,dl,dt,fieldset,form,frameset,h1,h2,h3,h4,h5,h6,head,hr,html,iframe,ins,isindex,li,map,menu,meta,noframes,noscript,object,ol,p,pre,script,style,table,tbody,td,tfoot,th,thead,title,tr,ul"),_SINGLE_TAG_MAP=_toMap("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),_STYLE_TAG_MAP=_toMap("b,basefont,big,del,em,font,i,s,small,span,strike,strong,sub,sup,u"),_CONTROL_TAG_MAP=_toMap("img,table,input,textarea,button"),_PRE_TAG_MAP=_toMap("pre,style,script"),_NOSPLIT_TAG_MAP=_toMap("html,head,body,td,tr,table,ol,ul,li"),_AUTOCLOSE_TAG_MAP=_toMap("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),_FILL_ATTR_MAP=_toMap("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),_VALUE_TAG_MAP=_toMap("input,button,textarea,select");K.basePath=_getBasePath(),K.options={designMode:!0,fullscreenMode:!1,filterMode:!0,wellFormatMode:!0,shadowMode:!0,loadStyleMode:!0,basePath:K.basePath,themesPath:K.basePath+"themes/",langPath:K.basePath+"lang/",pluginsPath:K.basePath+"plugins/",themeType:"default",langType:"zh-CN",urlType:"",newlineTag:"p",resizeType:2,syncType:"form",pasteType:2,dialogAlignType:"page",useContextmenu:!0,fullscreenShortcut:!1,bodyClass:"ke-content",indentChar:"\t",cssPath:"",cssData:"",minWidth:650,minHeight:100,minChangeSize:50,zIndex:811213,items:["source","|","undo","redo","|","preview","print","template","code","cut","copy","paste","plainpaste","wordpaste","|","justifyleft","justifycenter","justifyright","justifyfull","insertorderedlist","insertunorderedlist","indent","outdent","subscript","superscript","clearhtml","quickformat","selectall","|","fullscreen","/","formatblock","fontname","fontsize","|","forecolor","hilitecolor","bold","italic","underline","strikethrough","lineheight","removeformat","|","image","multiimage","flash","media","insertfile","table","hr","emoticons","baidumap","pagebreak","anchor","link","unlink","|","about"],noDisableItems:["source","fullscreen"],colorTable:[["#E53333","#E56600","#FF9900","#64451D","#D99694","#FFE500"],["#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF"],["#337FE5","#003399","#4C33E5","#9933E5","#CC33E5","#EE33EE"],["#FFFFFF","#CCCCCC","#999999","#666666","#333333","#000000"]],fontSizeTable:["9px","10px","12px","14px","16px","18px","24px","32px"],htmlTags:{font:["id","class","color","size","face",".background-color"],span:["id","class",".color",".background-color",".font-size",".font-family",".background",".font-weight",".font-style",".text-decoration",".vertical-align",".line-height"],div:["id","class","align",".border",".margin",".padding",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".background",".font-style",".text-decoration",".vertical-align",".margin-left"],
table:["id","class","border","cellspacing","cellpadding","width","height","align","bordercolor",".padding",".margin",".border","bgcolor",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".font-style",".text-decoration",".background",".width",".height",".border-collapse"],"td,th":["id","class","align","valign","width","height","colspan","rowspan","bgcolor",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".font-style",".text-decoration",".vertical-align",".background",".border"],a:["id","class","href","target","name"],embed:["id","class","src","width","height","type","loop","autostart","quality",".width",".height","align","allowscriptaccess","wmode"],img:["id","class","src","width","height","border","alt","title","align",".width",".height",".border"],"p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":["id","class","align",".text-align",".color",".background-color",".font-size",".font-family",".background",".font-weight",".font-style",".text-decoration",".vertical-align",".text-indent",".margin-left"],pre:["id","class"],hr:["id","class",".page-break-after"],"br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del":["id","class"],iframe:["id","class","src","frameborder","width","height",".width",".height"]},layout:'<div class="container"><div class="toolbar"></div><div class="edit"></div><div class="statusbar"></div></div>'};var _useCapture=!1,_INPUT_KEY_MAP=_toMap("8,9,13,32,46,48..57,59,61,65..90,106,109..111,188,190..192,219..222"),_CURSORMOVE_KEY_MAP=_toMap("33..40"),_CHANGE_KEY_MAP={};_each(_INPUT_KEY_MAP,function(e,t){_CHANGE_KEY_MAP[e]=t}),_each(_CURSORMOVE_KEY_MAP,function(e,t){_CHANGE_KEY_MAP[e]=t});var _EVENT_PROPS="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(",");_extend(KEvent,{init:function(e,t){var n=this,i=e.ownerDocument||e.document||e;if(n.event=t,_each(_EVENT_PROPS,function(e,i){n[i]=t[i]}),n.target||(n.target=n.srcElement||i),3===n.target.nodeType&&(n.target=n.target.parentNode),!n.relatedTarget&&n.fromElement&&(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),null==n.pageX&&null!=n.clientX){var r=i.documentElement,o=i.body;n.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),n.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)}switch(!n.which&&(n.charCode||0===n.charCode?n.charCode:n.keyCode)&&(n.which=n.charCode||n.keyCode),!n.metaKey&&n.ctrlKey&&(n.metaKey=n.ctrlKey),n.which||n.button===undefined||(n.which=1&n.button?1:2&n.button?3:4&n.button?2:0),n.which){case 186:n.which=59;break;case 187:case 107:case 43:n.which=61;break;case 189:case 45:n.which=109;break;case 42:n.which=106;break;case 47:n.which=111;break;case 78:n.which=110}n.which>=96&&n.which<=105&&(n.which-=48)},preventDefault:function(){var e=this.event;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.event;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},stop:function(){this.preventDefault(),this.stopPropagation()}});var _eventExpendo="kindeditor_"+_TIME,_eventId=0,_eventData={},_readyFinished=!1;window.attachEvent&&window.attachEvent("onunload",function(){_each(_eventData,function(e,t){t.el&&_unbind(t.el)})}),K.ctrl=_ctrl,K.ready=_ready,K.formatUrl=_formatUrl,K.formatHtml=_formatHtml,K.getCssList=_getCssList,K.getAttrList=_getAttrList,K.mediaType=_mediaType,K.mediaAttrs=_mediaAttrs,K.mediaEmbed=_mediaEmbed,K.mediaImg=_mediaImg,K.clearMsWord=_clearMsWord,K.tmpl=_tmpl;var _getSetAttrDiv=document.createElement("div");_getSetAttrDiv.setAttribute("className","t");var _GET_SET_ATTRIBUTE="t"!==_getSetAttrDiv.className;K.query=_query,K.queryAll=_queryAll,_extend(KNode,{init:function(e){var t=this;e=_isArray(e)?e:[e];for(var n=0,i=0,r=e.length;i<r;i++)e[i]&&(t[i]=e[i].constructor===KNode?e[i][0]:e[i],n++);t.length=n,t.doc=_getDoc(t[0]),t.name=_getNodeName(t[0]),t.type=t.length>0?t[0].nodeType:null,t.win=_getWin(t[0])},each:function(e){for(var t=this,n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t;return t},bind:function(e,t){return this.each(function(){_bind(this,e,t)}),this},unbind:function(e,t){return this.each(function(){_unbind(this,e,t)}),this},fire:function(e){return this.length<1?this:(_fire(this[0],e),this)},hasAttr:function(e){return!(this.length<1)&&!!_getAttr(this[0],e)},attr:function(e,t){var n=this;return e===undefined?_getAttrList(n.outer()):"object"==typeof e?(_each(e,function(e,t){n.attr(e,t)}),n):t===undefined?(t=n.length<1?null:_getAttr(n[0],e),null===t?"":t):(n.each(function(){_setAttr(this,e,t)}),n)},removeAttr:function(e){return this.each(function(){_removeAttr(this,e)}),this},get:function(e){return this.length<1?null:this[e||0]},eq:function(e){return this.length<1?null:this[e]?new KNode(this[e]):null},hasClass:function(e){return!(this.length<1)&&_hasClass(this[0],e)},addClass:function(e){return this.each(function(){_hasClass(this,e)||(this.className=_trim(this.className+" "+e))}),this},removeClass:function(e){return this.each(function(){_hasClass(this,e)&&(this.className=_trim(this.className.replace(new RegExp("(^|\\s)"+e+"(\\s|$)")," ")))}),this},html:function(e){var t=this;return e===undefined?t.length<1||1!=t.type?"":_formatHtml(t[0].innerHTML):(t.each(function(){_setHtml(this,e)}),t)},text:function(){var e=this;return e.length<1?"":_IE?e[0].innerText:e[0].textContent},hasVal:function(){return!(this.length<1)&&_hasVal(this[0])},val:function(e){var t=this;return e===undefined?t.length<1?"":t.hasVal()?t[0].value:t.attr("value"):(t.each(function(){_hasVal(this)?this.value=e:_setAttr(this,"value",e)}),t)},css:function(e,t){var n=this;return e===undefined?_getCssList(n.attr("style")):"object"==typeof e?(_each(e,function(e,t){n.css(e,t)}),n):t===undefined?n.length<1?"":n[0].style[_toCamel(e)]||_computedCss(n[0],e)||"":(n.each(function(){this.style[_toCamel(e)]=t}),n)},width:function(e){var t=this;return e===undefined?t.length<1?0:t[0].offsetWidth:t.css("width",_addUnit(e))},height:function(e){var t=this;return e===undefined?t.length<1?0:t[0].offsetHeight:t.css("height",_addUnit(e))},opacity:function(e){return this.each(function(){this.style.opacity===undefined?this.style.filter=1==e?"":"alpha(opacity="+100*e+")":this.style.opacity=1==e?"":e}),this},data:function(e,t){var n=this;return e="kindeditor_data_"+e,t===undefined?n.length<1?null:n[0][e]:(this.each(function(){this[e]=t}),n)},pos:function(){var e=this,t=e[0],n=0,i=0;if(t)if(t.getBoundingClientRect){var r=t.getBoundingClientRect(),o=_getScrollPos(e.doc);n=r.left+o.x,i=r.top+o.y}else for(;t;)n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{x:_round(n),y:_round(i)}},clone:function(e){return new KNode(this.length<1?[]:this[0].cloneNode(e))},append:function(e){return this.each(function(){this.appendChild&&this.appendChild(_get(e))}),this},appendTo:function(e){return this.each(function(){_get(e).appendChild(this)}),this},before:function(e){return this.each(function(){this.parentNode.insertBefore(_get(e),this)}),this},after:function(e){return this.each(function(){this.nextSibling?this.parentNode.insertBefore(_get(e),this.nextSibling):this.parentNode.appendChild(_get(e))}),this},replaceWith:function(e){var t=[];return this.each(function(n,i){_unbind(i);var r=_get(e);i.parentNode.replaceChild(r,i),t.push(r)}),K(t)},empty:function(){var e=this;return e.each(function(e,t){for(var n=t.firstChild;n;){if(!t.parentNode)return;var i=n.nextSibling;n.parentNode.removeChild(n),n=i}}),e},remove:function(e){var t=this;return t.each(function(n,i){if(i.parentNode){if(_unbind(i),e)for(var r=i.firstChild;r;){var o=r.nextSibling;i.parentNode.insertBefore(r,i),r=o}i.parentNode.removeChild(i),delete t[n]}}),t.length=0,t},show:function(e){var t=this;return e===undefined&&(e=t._originDisplay||""),"none"!=t.css("display")?t:t.css("display",e)},hide:function(){var e=this;return e.length<1?e:(e._originDisplay=e[0].style.display,e.css("display","none"))},outer:function(){var e=this;if(e.length<1)return"";var t,n=e.doc.createElement("div");return n.appendChild(e[0].cloneNode(!0)),t=_formatHtml(n.innerHTML),n=null,t},isSingle:function(){return!!_SINGLE_TAG_MAP[this.name]},isInline:function(){return!!_INLINE_TAG_MAP[this.name]},isBlock:function(){return!!_BLOCK_TAG_MAP[this.name]},isStyle:function(){return!!_STYLE_TAG_MAP[this.name]},isControl:function(){return!!_CONTROL_TAG_MAP[this.name]},contains:function(e){return!(this.length<1)&&_contains(this[0],_get(e))},parent:function(){if(this.length<1)return null;var e=this[0].parentNode;return e?new KNode(e):null},children:function(){if(this.length<1)return new KNode([]);for(var e=[],t=this[0].firstChild;t;)3==t.nodeType&&""===_trim(t.nodeValue)||e.push(t),t=t.nextSibling;return new KNode(e)},first:function(){var e=this.children();return e.length>0?e.eq(0):null},last:function(){var e=this.children();return e.length>0?e.eq(e.length-1):null},index:function(){if(this.length<1)return-1;for(var e=-1,t=this[0];t;)e++,t=t.previousSibling;return e},prev:function(){if(this.length<1)return null;var e=this[0].previousSibling;return e?new KNode(e):null},next:function(){if(this.length<1)return null;var e=this[0].nextSibling;return e?new KNode(e):null},scan:function(e,t){function n(i){for(var r=t?i.firstChild:i.lastChild;r;){var o=t?r.nextSibling:r.previousSibling;if(e(r)===!1)return!1;if(n(r)===!1)return!1;r=o}}if(!(this.length<1))return t=t===undefined||t,n(this[0]),this}}),_each("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu".split(","),function(e,t){KNode.prototype[t]=function(e){return e?this.bind(t,e):this.fire(t)}});var _K=K;K=function(e,t){function n(e){return e[0]||(e=[]),new KNode(e)}if(e!==undefined&&null!==e){if("string"==typeof e){t&&(t=_get(t));var i=e.length;if("@"===e.charAt(0)&&(e=e.substr(1)),e.length!==i||/<.+>/.test(e)){var r=t?t.ownerDocument||t:document,o=r.createElement("div"),a=[];o.innerHTML='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+e;for(var s=0,l=o.childNodes.length;s<l;s++){var c=o.childNodes[s];"__kindeditor_temp_tag__"!=c.id&&a.push(c)}return n(a)}return n(_queryAll(e,t))}return e&&e.constructor===KNode?e:(e.toArray&&(e=e.toArray()),n(_isArray(e)?e:_toArray(arguments)))}},_each(_K,function(e,t){K[e]=t}),K.NodeClass=KNode,window.KindEditor=K;var _START_TO_START=0,_START_TO_END=1,_END_TO_END=2,_END_TO_START=3,_BOOKMARK_ID=0;_extend(KRange,{init:function(e){var t=this;t.startContainer=e,t.startOffset=0,t.endContainer=e,t.endOffset=0,t.collapsed=!0,t.doc=e},commonAncestor:function(){function e(e){for(var t=[];e;)t.push(e),e=e.parentNode;return t}for(var t,n,i=e(this.startContainer),r=e(this.endContainer),o=0,a=i.length,s=r.length;++o&&(t=i[a-o],n=r[s-o],t&&n&&t===n););return i[a-o+1]},setStart:function(e,t){var n=this,i=n.doc;return n.startContainer=e,n.startOffset=t,n.endContainer===i&&(n.endContainer=e,n.endOffset=t),_updateCollapsed(this)},setEnd:function(e,t){var n=this,i=n.doc;return n.endContainer=e,n.endOffset=t,n.startContainer===i&&(n.startContainer=e,n.startOffset=t),_updateCollapsed(this)},setStartBefore:function(e){return this.setStart(e.parentNode||this.doc,K(e).index())},setStartAfter:function(e){return this.setStart(e.parentNode||this.doc,K(e).index()+1)},setEndBefore:function(e){return this.setEnd(e.parentNode||this.doc,K(e).index())},setEndAfter:function(e){return this.setEnd(e.parentNode||this.doc,K(e).index()+1)},selectNode:function(e){return this.setStartBefore(e).setEndAfter(e)},selectNodeContents:function(e){var t=K(e);if(3==t.type||t.isSingle())return this.selectNode(e);var n=t.children();return n.length>0?this.setStartBefore(n[0]).setEndAfter(n[n.length-1]):this.setStart(e,0).setEnd(e,0)},collapse:function(e){return e?this.setEnd(this.startContainer,this.startOffset):this.setStart(this.endContainer,this.endOffset)},compareBoundaryPoints:function(e,t){var n=this.get(),i=t.get();if(!_IERANGE)return n.compareBoundaryPoints(e,i);var r={};r[_START_TO_START]="StartToStart",r[_START_TO_END]="EndToStart",r[_END_TO_END]="EndToEnd",r[_END_TO_START]="StartToEnd";var o=n.compareEndPoints(r[e],i);if(0!==o)return o;var a,s,l,c,u;if(e!==_START_TO_START&&e!==_END_TO_START||(a=this.startContainer,c=this.startOffset),e!==_START_TO_END&&e!==_END_TO_END||(a=this.endContainer,c=this.endOffset),e!==_START_TO_START&&e!==_START_TO_END||(s=t.startContainer,u=t.startOffset),e!==_END_TO_END&&e!==_END_TO_START||(s=t.endContainer,u=t.endOffset),a===s){var d=c-u;return d>0?1:d<0?-1:0}for(l=s;l&&l.parentNode!==a;)l=l.parentNode;if(l)return K(l).index()>=c?-1:1;for(l=a;l&&l.parentNode!==s;)l=l.parentNode;return l?K(l).index()>=u?1:-1:(l=K(s).next(),l&&l.contains(a)?1:(l=K(a).next(),l&&l.contains(s)?-1:void 0))},cloneRange:function(){return new KRange(this.doc).setStart(this.startContainer,this.startOffset).setEnd(this.endContainer,this.endOffset)},toString:function(){var e=this.get(),t=_IERANGE?e.text:e.toString();return t.replace(/\r\n|\n|\r/g,"")},cloneContents:function(){return _copyAndDelete(this,!0,!1)},deleteContents:function(){return _copyAndDelete(this,!1,!0)},extractContents:function(){return _copyAndDelete(this,!0,!0)},insertNode:function(e){var t,n,i,r=this,o=r.startContainer,a=r.startOffset,s=r.endContainer,l=r.endOffset,c=1;return"#document-fragment"===e.nodeName.toLowerCase()&&(t=e.firstChild,n=e.lastChild,c=e.childNodes.length),1==o.nodeType?(i=o.childNodes[a],i?(o.insertBefore(e,i),o===s&&(l+=c)):o.appendChild(e)):3==o.nodeType&&(0===a?(o.parentNode.insertBefore(e,o),o.parentNode===s&&(l+=c)):a>=o.nodeValue.length?o.nextSibling?o.parentNode.insertBefore(e,o.nextSibling):o.parentNode.appendChild(e):(i=a>0?o.splitText(a):o,o.parentNode.insertBefore(e,i),o===s&&(s=i,l-=a))),t?r.setStartBefore(t).setEndAfter(n):r.selectNode(e),r.compareBoundaryPoints(_END_TO_END,r.cloneRange().setEnd(s,l))>=1?r:r.setEnd(s,l)},surroundContents:function(e){return e.appendChild(this.extractContents()),this.insertNode(e).selectNode(e)},isControl:function(){var e=this,t=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset;return 1==t.nodeType&&t===i&&n+1===r&&K(t.childNodes[n]).isControl()},get:function(e){var t,n=this,i=n.doc;if(!_IERANGE){t=i.createRange();try{t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset)}catch(e){}return t}if(e&&n.isControl())return t=i.body.createControlRange(),t.addElement(n.startContainer.childNodes[n.startOffset]),t;var r=n.cloneRange().down();return t=i.body.createTextRange(),t.setEndPoint("StartToStart",_getEndRange(r.startContainer,r.startOffset)),t.setEndPoint("EndToStart",_getEndRange(r.endContainer,r.endOffset)),t},html:function(){return K(this.cloneContents()).outer()},down:function(){function e(e,n,i){if(1==e.nodeType){var r=K(e).children();if(0!==r.length){var o,a,s,l;n>0&&(o=r.eq(n-1)),n<r.length&&(a=r.eq(n)),o&&3==o.type&&(s=o[0],l=s.nodeValue.length),a&&3==a.type&&(s=a[0],l=0),s&&(i?t.setStart(s,l):t.setEnd(s,l))}}}var t=this;return e(t.startContainer,t.startOffset,!0),e(t.endContainer,t.endOffset,!1),t},up:function(){function e(e,n,i){3==e.nodeType&&(0===n?i?t.setStartBefore(e):t.setEndBefore(e):n==e.nodeValue.length&&(i?t.setStartAfter(e):t.setEndAfter(e)))}var t=this;return e(t.startContainer,t.startOffset,!0),e(t.endContainer,t.endOffset,!1),t},enlarge:function(e){function t(t,i,r){var o,a=K(t);if(!(3==a.type||_NOSPLIT_TAG_MAP[a.name]||!e&&a.isBlock()))if(0===i){for(;!a.prev()&&(o=a.parent(),o&&!_NOSPLIT_TAG_MAP[o.name]&&(e||!o.isBlock()));)a=o;r?n.setStartBefore(a[0]):n.setEndBefore(a[0])}else if(i==a.children().length){for(;!a.next()&&(o=a.parent(),o&&!_NOSPLIT_TAG_MAP[o.name]&&(e||!o.isBlock()));)a=o;r?n.setStartAfter(a[0]):n.setEndAfter(a[0])}}var n=this;return n.up(),t(n.startContainer,n.startOffset,!0),t(n.endContainer,n.endOffset,!1),n},shrink:function(){for(var e,t=this,n=t.collapsed;1==t.startContainer.nodeType&&(e=t.startContainer.childNodes[t.startOffset])&&1==e.nodeType&&!K(e).isSingle();)t.setStart(e,0);if(n)return t.collapse(n);for(;1==t.endContainer.nodeType&&t.endOffset>0&&(e=t.endContainer.childNodes[t.endOffset-1])&&1==e.nodeType&&!K(e).isSingle();)t.setEnd(e,e.childNodes.length);return t},createBookmark:function(e){var t,n=this,i=n.doc,r=K('<span style="display:none;"></span>',i)[0];return r.id="__kindeditor_bookmark_start_"+_BOOKMARK_ID++ +"__",n.collapsed||(t=r.cloneNode(!0),t.id="__kindeditor_bookmark_end_"+_BOOKMARK_ID++ +"__"),t&&n.cloneRange().collapse(!1).insertNode(t).setEndBefore(t),n.insertNode(r).setStartAfter(r),{start:e?"#"+r.id:r,end:t?e?"#"+t.id:t:null}},moveToBookmark:function(e){var t=this,n=t.doc,i=K(e.start,n),r=e.end?K(e.end,n):null;return!i||i.length<1?t:(t.setStartBefore(i[0]),i.remove(),r&&r.length>0?(t.setEndBefore(r[0]),r.remove()):t.collapse(!0),t)},dump:function(){console.log("--------------------"),console.log(3==this.startContainer.nodeType?this.startContainer.nodeValue:this.startContainer,this.startOffset),console.log(3==this.endContainer.nodeType?this.endContainer.nodeValue:this.endContainer,this.endOffset)}}),K.RangeClass=KRange,K.range=_range,K.START_TO_START=_START_TO_START,K.START_TO_END=_START_TO_END,K.END_TO_END=_END_TO_END,K.END_TO_START=_END_TO_START,_extend(KCmd,{init:function(e){var t=this,n=e.doc;t.doc=n,t.win=_getWin(n),t.sel=_getSel(n),t.range=e},selection:function(e){var t=this,n=t.doc,i=_getRng(n);return t.sel=_getSel(n),i?(t.range=_range(i),"html"==K(t.range.startContainer).name&&t.range.selectNodeContents(n.body).collapse(!1),t):(e&&t.range.selectNodeContents(n.body).collapse(!1),t)},select:function(e){e=_undef(e,!0);var t,n=this,i=n.sel,r=n.range.cloneRange().shrink(),o=r.startContainer,a=r.startOffset,s=(r.endContainer,r.endOffset,_getDoc(o)),l=n.win,c=!1;if(e&&1==o.nodeType&&r.collapsed){if(_IERANGE){var u=K("<span>&nbsp;</span>",s);r.insertNode(u[0]),t=s.body.createTextRange();try{t.moveToElementText(u[0])}catch(e){}return t.collapse(!1),t.select(),u.remove(),l.focus(),n}if(_WEBKIT){var d=o.childNodes;(K(o).isInline()||a>0&&K(d[a-1]).isInline()||d[a]&&K(d[a]).isInline())&&(r.insertNode(s.createTextNode("​")),c=!0)}}if(_IERANGE)try{t=r.get(!0),t.select()}catch(e){}else if(c&&r.collapse(!1),t=r.get(!0),i.removeAllRanges(),i.addRange(t),s!==document){var p=K(t.endContainer).pos();l.scrollTo(p.x,p.y)}return l.focus(),n},wrap:function(e){var t,n=this,i=n.doc,r=n.range;if(t=K(e,i),r.collapsed)return r.shrink(),r.insertNode(t[0]).selectNodeContents(t[0]),n;if(t.isBlock()){for(var o=t.clone(!0),a=o;a.first();)a=a.first();return a.append(r.extractContents()),r.insertNode(o[0]).selectNode(o[0]),n}r.enlarge();var s=r.createBookmark(),l=r.commonAncestor(),c=!1;return K(l).scan(function(e){if(!c&&e==s.start)return void(c=!0);if(c){if(e==s.end)return!1;var n=K(e);if(_inPreElement(n))return;if(3==n.type&&_trim(e.nodeValue).length>0){for(var i;(i=n.parent())&&i.isStyle()&&1==i.children().length;)n=i;_wrapNode(n,t)}}}),r.moveToBookmark(s),n},split:function(e,t){for(var n,i=this.range,r=i.doc,o=i.cloneRange().collapse(e),a=o.startContainer,s=o.startOffset,l=3==a.nodeType?a.parentNode:a,c=!1;l&&l.parentNode;){if(n=K(l),t){if(!n.isStyle())break;if(!_hasAttrOrCss(n,t))break}else if(_NOSPLIT_TAG_MAP[n.name])break;c=!0,l=l.parentNode}if(c){var u=r.createElement("span");i.cloneRange().collapse(!e).insertNode(u),e?o.setStartBefore(l.firstChild).setEnd(a,s):o.setStart(a,s).setEndAfter(l.lastChild);var d=o.extractContents(),p=d.firstChild,h=d.lastChild;e?(o.insertNode(d),i.setStartAfter(h).setEndBefore(u)):(l.appendChild(d),i.setStartBefore(u).setEndBefore(p));var f=u.parentNode;if(f==i.endContainer){var m=K(u).prev(),g=K(u).next();m&&g&&3==m.type&&3==g.type?i.setEnd(m[0],m[0].nodeValue.length):e||i.setEnd(i.endContainer,i.endOffset-1)}f.removeChild(u)}return this},remove:function(e){var t=this,n=t.doc,i=t.range;if(i.enlarge(),0===i.startOffset){for(var r,o=K(i.startContainer);(r=o.parent())&&r.isStyle()&&1==r.children().length;)o=r;i.setStart(o[0],0),o=K(i.startContainer),o.isBlock()&&_removeAttrOrCss(o,e);var a=o.parent();a&&a.isBlock()&&_removeAttrOrCss(a,e)}var s,l;if(i.collapsed){if(t.split(!0,e),s=i.startContainer,l=i.startOffset,l>0){var c=K(s.childNodes[l-1]);c&&_isEmptyNode(c)&&(c.remove(),i.setStart(s,l-1))}var u=K(s.childNodes[l]);return u&&_isEmptyNode(u)&&u.remove(),_isEmptyNode(s)&&(i.startBefore(s),s.remove()),i.collapse(!0),t}t.split(!0,e),t.split(!1,e);var d=n.createElement("span"),p=n.createElement("span");i.cloneRange().collapse(!1).insertNode(p),i.cloneRange().collapse(!0).insertNode(d);var h=[],f=!1;K(i.commonAncestor()).scan(function(e){return f||e!=d?e!=p&&void(f&&h.push(e)):void(f=!0)}),K(d).remove(),K(p).remove(),s=i.startContainer,l=i.startOffset;var m=i.endContainer,g=i.endOffset;if(l>0){var v=K(s.childNodes[l-1]);v&&_isEmptyNode(v)&&(v.remove(),i.setStart(s,l-1),s==m&&i.setEnd(m,g-1));var y=K(s.childNodes[l]);y&&_isEmptyNode(y)&&(y.remove(),s==m&&i.setEnd(m,g-1))}var b=K(m.childNodes[i.endOffset]);b&&_isEmptyNode(b)&&b.remove();var w=i.createBookmark(!0);return _each(h,function(t,n){_removeAttrOrCss(K(n),e)}),i.moveToBookmark(w),t},commonNode:function(e){function t(t){for(var n=t,i=t;i;){if(_hasAttrOrCss(K(i),e))return K(i);i=i.parentNode}for(;n&&(n=n.lastChild);)if(_hasAttrOrCss(K(n),e))return K(n);return null}var n=this.range,i=n.endContainer,r=n.endOffset,o=3==i.nodeType||0===r?i:i.childNodes[r-1],a=t(o);if(a)return a;if(1==o.nodeType||3==i.nodeType&&0===r){var s=K(o).prev();if(s)return t(s)}return null},commonAncestor:function(e){function t(t){for(;t;){if(1==t.nodeType&&t.tagName.toLowerCase()===e)return t;t=t.parentNode}return null}var n=this.range,i=n.startContainer,r=n.startOffset,o=n.endContainer,a=n.endOffset,s=3==i.nodeType||0===r?i:i.childNodes[r-1],l=3==o.nodeType||0===a?o:o.childNodes[a-1],c=t(s),u=t(l);return c&&u&&c===u?K(c):null},state:function(e){var t=this,n=t.doc,i=!1;try{i=n.queryCommandState(e)}catch(e){}return i},val:function(e){function t(e){return e.toLowerCase()}var n=this,i=n.doc;n.range;e=t(e);var r,o="";return"fontfamily"===e||"fontname"===e?(o=_nativeCommandValue(i,"fontname"),o=o.replace(/['"]/g,""),t(o)):"formatblock"===e?(o=_nativeCommandValue(i,e),""===o&&(r=n.commonNode({"h1,h2,h3,h4,h5,h6,p,div,pre,address":"*"}),r&&(o=r.name)),"Normal"===o&&(o="p"),t(o)):"fontsize"===e?(r=n.commonNode({"*":".font-size"}),r&&(o=r.css("font-size")),t(o)):"forecolor"===e?(r=n.commonNode({"*":".color"}),r&&(o=r.css("color")),o=_toHex(o),""===o&&(o="default"),t(o)):"hilitecolor"===e?(r=n.commonNode({"*":".background-color"}),r&&(o=r.css("background-color")),o=_toHex(o),""===o&&(o="default"),t(o)):o},toggle:function(e,t){var n=this;return n.commonNode(t)?n.remove(t):n.wrap(e),n.select()},bold:function(){return this.toggle("<strong></strong>",{span:".font-weight=bold",strong:"*",b:"*"})},italic:function(){return this.toggle("<em></em>",{span:".font-style=italic",em:"*",i:"*"})},underline:function(){return this.toggle("<u></u>",{span:".text-decoration=underline",u:"*"})},strikethrough:function(){return this.toggle("<s></s>",{span:".text-decoration=line-through",s:"*"})},forecolor:function(e){return this.wrap('<span style="color:'+e+';"></span>').select()},hilitecolor:function(e){return this.wrap('<span style="background-color:'+e+';"></span>').select()},fontsize:function(e){return this.wrap('<span style="font-size:'+e+';"></span>').select()},fontname:function(e){return this.fontfamily(e)},fontfamily:function(e){return this.wrap('<span style="font-family:'+e+';"></span>').select()},removeformat:function(){var e={"*":".font-weight,.font-style,.text-decoration,.color,.background-color,.font-size,.font-family,.text-indent"},t=_STYLE_TAG_MAP;return _each(t,function(t,n){e[t]="*"}),this.remove(e),this.select()},inserthtml:function(e,t){function n(e,t){t='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+t;var n=e.get();n.item?n.item(0).outerHTML=t:n.pasteHTML(t);var i=e.doc.getElementById("__kindeditor_temp_tag__");i.parentNode.removeChild(i);var o=_toRange(n);e.setEnd(o.endContainer,o.endOffset),e.collapse(!1),r.select(!1)}function i(e,t){var n=e.doc,i=n.createDocumentFragment();K("@"+t,n).each(function(){i.appendChild(this)}),e.deleteContents(),e.insertNode(i),e.collapse(!1),r.select(!1)}var r=this,o=r.range;if(""===e)return r;if(_IERANGE&&t){try{n(o,e)}catch(t){i(o,e)}return r}return i(o,e),r},hr:function(){return this.inserthtml("<hr />")},print:function(){return this.win.print(),this},insertimage:function(e,t,n,i,r,o){t=_undef(t,""),r=_undef(r,0);var a='<img src="'+_escape(e)+'" data-ke-src="'+_escape(e)+'" ';return n&&(a+='width="'+_escape(n)+'" '),i&&(a+='height="'+_escape(i)+'" '),t&&(a+='title="'+_escape(t)+'" '),o&&(a+='align="'+_escape(o)+'" '),a+='alt="'+_escape(t)+'" ',a+="/>",this.inserthtml(a)},createlink:function(e,t){function n(e,t,n){K(e).attr("href",t).attr("data-ke-src",t),n?K(e).attr("target",n):K(e).removeAttr("target")}var i=this,r=i.doc,o=i.range;i.select();var a=i.commonNode({a:"*"});a&&!o.isControl()&&(o.selectNode(a.get()),i.select());var s='<a href="'+_escape(e)+'" data-ke-src="'+_escape(e)+'" ';if(t&&(s+=' target="'+_escape(t)+'"'),o.collapsed)return s+=">"+_escape(e)+"</a>",i.inserthtml(s);if(o.isControl()){var l=K(o.startContainer.childNodes[o.startOffset]);return s+="></a>",l.after(K(s,r)),l.next().append(l),o.selectNode(l[0]),i.select()}var c=o.startContainer,u=o.startOffset,d=o.endContainer,p=o.endOffset;if(1==c.nodeType&&c===d&&u+1===p){var h=c.childNodes[u];if("a"==h.nodeName.toLowerCase())return n(h,e,t),i}return _nativeCommand(r,"createlink","__kindeditor_temp_url__"),K('a[href="__kindeditor_temp_url__"]',r).each(function(){n(this,e,t)}),i},unlink:function(){var e=this,t=e.doc,n=e.range;if(e.select(),n.collapsed){var i=e.commonNode({a:"*"});if(i&&(n.selectNode(i.get()),e.select()),_nativeCommand(t,"unlink",null),_WEBKIT&&"img"===K(n.startContainer).name){var r=K(n.startContainer).parent();"a"===r.name&&r.remove(!0)}}else _nativeCommand(t,"unlink",null);return e}}),_each("formatblock,selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript".split(","),function(e,t){KCmd.prototype[t]=function(e){var n=this;return n.select(),_nativeCommand(n.doc,t,e),_IERANGE&&_inArray(t,"justifyleft,justifycenter,justifyright,justifyfull".split(","))>=0&&n.selection(),(!_IERANGE||_inArray(t,"formatblock,selectall,insertorderedlist,insertunorderedlist".split(","))>=0)&&n.selection(),n}}),_each("cut,copy,paste".split(","),function(e,t){KCmd.prototype[t]=function(){var e=this;if(!e.doc.queryCommandSupported(t))throw"not supported";return e.select(),_nativeCommand(e.doc,t,null),e}}),K.CmdClass=KCmd,K.cmd=_cmd,_extend(KWidget,{init:function(e){var t=this;if(t.name=e.name||"",t.doc=e.doc||document,t.win=_getWin(t.doc),t.x=_addUnit(e.x),t.y=_addUnit(e.y),t.z=e.z,t.width=_addUnit(e.width),t.height=_addUnit(e.height),t.div=K('<div style="display:block;"></div>'),t.options=e,t._alignEl=e.alignEl,t.width&&t.div.css("width",t.width),t.height&&t.div.css("height",t.height),t.z&&t.div.css({position:"absolute",left:t.x,top:t.y,"z-index":t.z}),!t.z||t.x!==undefined&&t.y!==undefined||t.autoPos(t.width,t.height),e.cls&&t.div.addClass(e.cls),e.shadowMode&&t.div.addClass("ke-shadow"),e.css&&t.div.css(e.css),e.src?K(e.src).replaceWith(t.div):K(t.doc.body).append(t.div),e.html&&t.div.html(e.html),e.autoScroll)if(_IE&&_V<7||_QUIRKS){var n=_getScrollPos();K(t.win).bind("scroll",function(e){var i=_getScrollPos(),r=i.x-n.x,o=i.y-n.y;t.pos(_removeUnit(t.x)+r,_removeUnit(t.y)+o,!1)})}else t.div.css("position","fixed")},pos:function(e,t,n){var i=this;return n=_undef(n,!0),null!==e&&(e=e<0?0:_addUnit(e),i.div.css("left",e),n&&(i.x=e)),null!==t&&(t=t<0?0:_addUnit(t),i.div.css("top",t),n&&(i.y=t)),i},autoPos:function(e,t){var n=this,i=_removeUnit(e)||0,r=_removeUnit(t)||0,o=_getScrollPos();if(n._alignEl){var a=K(n._alignEl),s=a.pos(),l=_round(a[0].clientWidth/2-i/2),c=_round(a[0].clientHeight/2-r/2);x=l<0?s.x:s.x+l,y=c<0?s.y:s.y+c}else{var u=_docElement(n.doc);x=_round(o.x+(u.clientWidth-i)/2),y=_round(o.y+(u.clientHeight-r)/2)}return _IE&&_V<7||_QUIRKS||(x-=o.x,y-=o.y),n.pos(x,y)},remove:function(){var e=this;return(_IE&&_V<7||_QUIRKS)&&K(e.win).unbind("scroll"),e.div.remove(),_each(e,function(t){e[t]=null}),this},show:function(){return this.div.show(),this},hide:function(){return this.div.hide(),this},draggable:function(e){var t=this;return e=e||{},e.moveEl=t.div,e.moveFn=function(e,n,i,r,o,a){(e+=o)<0&&(e=0),(n+=a)<0&&(n=0),t.pos(e,n)},_drag(e),t}}),K.WidgetClass=KWidget,K.widget=_widget;var html,_direction="";(html=document.getElementsByTagName("html"))&&(_direction=html[0].dir),_extend(KEdit,KWidget,{init:function(e){function t(){var t=_iframeDoc(n.iframe);t.open(),s&&(t.domain=document.domain),t.write(_getInitHtml(i,r,o,a)),t.close(),n.win=n.iframe[0].contentWindow,n.doc=t;var l=_cmd(t);n.afterChange(function(e){l.selection()}),_WEBKIT&&K(t).click(function(e){"img"===K(e.target).name&&(l.selection(!0),l.range.selectNode(e.target),l.select())}),_IE&&(n._mousedownHandler=function(){var e=l.range.cloneRange();e.shrink(),e.isControl()&&n.blur()},K(document).mousedown(n._mousedownHandler),K(t).keydown(function(e){if(8==e.which){l.selection();var t=l.range;t.isControl()&&(t.collapse(!0),K(t.startContainer.childNodes[t.startOffset]).remove(),e.preventDefault())}})),n.cmd=l,n.html(_elementVal(n.srcElement)),_IE?(t.body.disabled=!0,t.body.contentEditable=!0,t.body.removeAttribute("disabled")):t.designMode="on",e.afterCreate&&e.afterCreate.call(n)}var n=this;KEdit.parent.init.call(n,e),n.srcElement=K(e.srcElement),n.div.addClass("ke-edit"),n.designMode=_undef(e.designMode,!0),n.beforeGetHtml=e.beforeGetHtml,n.beforeSetHtml=e.beforeSetHtml,n.afterSetHtml=e.afterSetHtml;var i=_undef(e.themesPath,""),r=e.bodyClass,o=e.cssPath,a=e.cssData,s="res:"!=location.protocol&&location.host.replace(/:\d+/,"")!==document.domain,l="document.open();"+(s?'document.domain="'+document.domain+'";':"")+"document.close();",c=_IE?' src="javascript:void(function(){'+encodeURIComponent(l)+'}())"':"";n.iframe=K('<iframe class="ke-edit-iframe" hidefocus="true" frameborder="0"'+c+"></iframe>").css("width","100%"),n.textarea=K('<textarea class="ke-edit-textarea" hidefocus="true"></textarea>').css("width","100%"),n.tabIndex=isNaN(parseInt(e.tabIndex,10))?n.srcElement.attr("tabindex"):parseInt(e.tabIndex,10),n.iframe.attr("tabindex",n.tabIndex),n.textarea.attr("tabindex",n.tabIndex),n.width&&n.setWidth(n.width),n.height&&n.setHeight(n.height),n.designMode?n.textarea.hide():n.iframe.hide(),s&&n.iframe.bind("load",function(e){n.iframe.unbind("load"),_IE?t():setTimeout(t,0)}),n.div.append(n.iframe),n.div.append(n.textarea),n.srcElement.hide(),!s&&t()},setWidth:function(e){var t=this;return e=_addUnit(e),t.width=e,t.div.css("width",e),t},setHeight:function(e){var t=this;return e=_addUnit(e),t.height=e,t.div.css("height",e),t.iframe.css("height",e),(_IE&&_V<8||_QUIRKS)&&(e=_addUnit(_removeUnit(e)-2)),t.textarea.css("height",e),t},remove:function(){var e=this,t=e.doc;K(t.body).unbind(),K(t).unbind(),K(e.win).unbind(),e._mousedownHandler&&K(document).unbind("mousedown",e._mousedownHandler),_elementVal(e.srcElement,e.html()),e.srcElement.show(),e.iframe.unbind(),e.textarea.unbind(),KEdit.parent.remove.call(e)},html:function(e,t){var n=this,i=n.doc;if(n.designMode){var r=i.body;return e===undefined?(e=t?"<!doctype html><html>"+r.parentNode.innerHTML+"</html>":r.innerHTML,n.beforeGetHtml&&(e=n.beforeGetHtml(e)),_GECKO&&"<br />"==e&&(e=""),e):(n.beforeSetHtml&&(e=n.beforeSetHtml(e)),_IE&&_V>=9&&(e=e.replace(/(<.*?checked=")checked(".*>)/gi,"$1$2")),
K(r).html(e),n.afterSetHtml&&n.afterSetHtml(),n)}return e===undefined?n.textarea.val():(n.textarea.val(e),n)},design:function(e){var t,n=this;if(e===undefined?!n.designMode:e){if(!n.designMode){t=n.html(),n.designMode=!0,n.textarea.hide(),n.html(t);var i=n.iframe,r=_removeUnit(n.height);i.height(r-2),i.show(),setTimeout(function(){i.height(r)},0)}}else n.designMode&&(t=n.html(),n.designMode=!1,n.html(t),n.iframe.hide(),n.textarea.show());return n.focus()},focus:function(){var e=this;return e.designMode?e.win.focus():e.textarea[0].focus(),e},blur:function(){var e=this;if(_IE){var t=K('<input type="text" style="float:left;width:0;height:0;padding:0;margin:0;border:0;" value="" />',e.div);e.div.append(t),t[0].focus(),t.remove()}else e.designMode?e.win.blur():e.textarea[0].blur();return e},afterChange:function(e){function t(t){setTimeout(function(){e(t)},1)}var n=this,i=n.doc,r=i.body;return K(i).keyup(function(t){t.ctrlKey||t.altKey||!_CHANGE_KEY_MAP[t.which]||e(t)}),K(i).mouseup(e).contextmenu(e),K(n.win).blur(e),K(r).bind("paste",t),K(r).bind("cut",t),n}}),K.EditClass=KEdit,K.edit=_edit,K.iframeDoc=_iframeDoc,_extend(KToolbar,KWidget,{init:function(e){function t(e){var t=K(e);return t.hasClass("ke-outline")?t:t.hasClass("ke-toolbar-icon")?t.parent():void 0}function n(e,n){var i=t(e.target);if(i){if(i.hasClass("ke-disabled"))return;if(i.hasClass("ke-selected"))return;i[n]("ke-on")}}var i=this;KToolbar.parent.init.call(i,e),i.disableMode=_undef(e.disableMode,!1),i.noDisableItemMap=_toMap(_undef(e.noDisableItems,[])),i._itemMap={},i.div.addClass("ke-toolbar").bind("contextmenu,mousedown,mousemove",function(e){e.preventDefault()}).attr("unselectable","on"),i.div.mouseover(function(e){n(e,"addClass")}).mouseout(function(e){n(e,"removeClass")}).click(function(e){var n=t(e.target);if(n){if(n.hasClass("ke-disabled"))return;i.options.click.call(this,e,n.attr("data-name"))}})},get:function(e){return this._itemMap[e]?this._itemMap[e]:this._itemMap[e]=K("span.ke-icon-"+e,this.div).parent()},select:function(e){return _selectToolbar.call(this,e,function(e){e.addClass("ke-selected")}),self},unselect:function(e){return _selectToolbar.call(this,e,function(e){e.removeClass("ke-selected").removeClass("ke-on")}),self},enable:function(e){var t=this,n=e.get?e:t.get(e);return n&&(n.removeClass("ke-disabled"),n.opacity(1)),t},disable:function(e){var t=this,n=e.get?e:t.get(e);return n&&(n.removeClass("ke-selected").addClass("ke-disabled"),n.opacity(.5)),t},disableAll:function(e,t){var n=this,i=n.noDisableItemMap;return t&&(i=_toMap(t)),(e===undefined?!n.disableMode:e)?(K("span.ke-outline",n.div).each(function(){var e=K(this),t=e[0].getAttribute("data-name",2);i[t]||n.disable(e)}),n.disableMode=!0):(K("span.ke-outline",n.div).each(function(){var e=K(this),t=e[0].getAttribute("data-name",2);i[t]||n.enable(e)}),n.disableMode=!1),n}}),K.ToolbarClass=KToolbar,K.toolbar=_toolbar,_extend(KMenu,KWidget,{init:function(e){var t=this;e.z=e.z||811213,KMenu.parent.init.call(t,e),t.centerLineMode=_undef(e.centerLineMode,!0),t.div.addClass("ke-menu").bind("click,mousedown",function(e){e.stopPropagation()}).attr("unselectable","on")},addItem:function(e){var t=this;if("-"===e.title)return void t.div.append(K('<div class="ke-menu-separator"></div>'));var n=K('<div class="ke-menu-item" unselectable="on"></div>'),i=K('<div class="ke-inline-block ke-menu-item-left"></div>'),r=K('<div class="ke-inline-block ke-menu-item-right"></div>'),o=_addUnit(e.height),a=_undef(e.iconClass,"");t.div.append(n),o&&(n.css("height",o),r.css("line-height",o));var s;return t.centerLineMode&&(s=K('<div class="ke-inline-block ke-menu-item-center"></div>'),o&&s.css("height",o)),n.mouseover(function(e){K(this).addClass("ke-menu-item-on"),s&&s.addClass("ke-menu-item-center-on")}).mouseout(function(e){K(this).removeClass("ke-menu-item-on"),s&&s.removeClass("ke-menu-item-center-on")}).click(function(t){e.click.call(K(this)),t.stopPropagation()}).append(i),s&&n.append(s),n.append(r),e.checked&&(a="ke-icon-checked"),""!==a&&i.html('<span class="ke-inline-block ke-toolbar-icon ke-toolbar-icon-url '+a+'"></span>'),r.html(e.title),t},remove:function(){var e=this;return e.options.beforeRemove&&e.options.beforeRemove.call(e),K(".ke-menu-item",e.div[0]).unbind(),KMenu.parent.remove.call(e),e}}),K.MenuClass=KMenu,K.menu=_menu,_extend(KColorPicker,KWidget,{init:function(e){var t=this;e.z=e.z||811213,KColorPicker.parent.init.call(t,e);var n=e.colors||[["#E53333","#E56600","#FF9900","#64451D","#DFC5A4","#FFE500"],["#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF"],["#337FE5","#003399","#4C33E5","#9933E5","#CC33E5","#EE33EE"],["#FFFFFF","#CCCCCC","#999999","#666666","#333333","#000000"]];t.selectedColor=(e.selectedColor||"").toLowerCase(),t._cells=[],t.div.addClass("ke-colorpicker").bind("click,mousedown",function(e){e.stopPropagation()}).attr("unselectable","on");var i=t.doc.createElement("table");t.div.append(i),i.className="ke-colorpicker-table",i.cellPadding=0,i.cellSpacing=0,i.border=0;var r=i.insertRow(0),o=r.insertCell(0);o.colSpan=n[0].length,t._addAttr(o,"","ke-colorpicker-cell-top");for(var a=0;a<n.length;a++){r=i.insertRow(a+1);for(var s=0;s<n[a].length;s++)o=r.insertCell(s),t._addAttr(o,n[a][s],"ke-colorpicker-cell")}},_addAttr:function(e,t,n){var i=this;e=K(e).addClass(n),i.selectedColor===t.toLowerCase()&&e.addClass("ke-colorpicker-cell-selected"),e.attr("title",t||i.options.noColor),e.mouseover(function(e){K(this).addClass("ke-colorpicker-cell-on")}),e.mouseout(function(e){K(this).removeClass("ke-colorpicker-cell-on")}),e.click(function(e){e.stop(),i.options.click.call(K(this),t)}),t?e.append(K('<div class="ke-colorpicker-cell-color" unselectable="on"></div>').css("background-color",t)):e.html(i.options.noColor),K(e).attr("unselectable","on"),i._cells.push(e)},remove:function(){var e=this;return _each(e._cells,function(){this.unbind()}),KColorPicker.parent.remove.call(e),e}}),K.ColorPickerClass=KColorPicker,K.colorpicker=_colorpicker,_extend(KUploadButton,{init:function(e){var t=this,n=K(e.button),i=e.fieldName||"file",r=e.url||"",o=n.val(),a=e.extraParams||{},s=n[0].className||"",l=e.target||"kindeditor_upload_iframe_"+(new Date).getTime();e.afterError=e.afterError||function(e){alert(e)};var c=[];for(var u in a)c.push('<input type="hidden" name="'+u+'" value="'+a[u]+'" />');var d=['<div class="ke-inline-block '+s+'">',e.target?"":'<iframe name="'+l+'" style="display:none;"></iframe>',e.form?'<div class="ke-upload-area">':'<form class="ke-upload-area ke-form" method="post" enctype="multipart/form-data" target="'+l+'" action="'+r+'">','<span class="ke-button-common">',c.join(""),'<input type="button" class="ke-button-common ke-button" value="'+o+'" />',"</span>",'<input type="file" class="ke-upload-file" name="'+i+'" tabindex="-1" />',e.form?"</div>":"</form>","</div>"].join(""),p=K(d,n.doc);n.hide(),n.before(p),t.div=p,t.button=n,t.iframe=e.target?K('iframe[name="'+l+'"]'):K("iframe",p),t.form=e.form?K(e.form):K("form",p),t.fileBox=K(".ke-upload-file",p);var h=e.width||K(".ke-button-common",p).width();K(".ke-upload-area",p).width(h),t.options=e},submit:function(){var e=this,t=e.iframe;return t.bind("load",function(){t.unbind();var n=document.createElement("form");e.fileBox.before(n),K(n).append(e.fileBox),n.reset(),K(n).remove(!0);var i,r=K.iframeDoc(t),o=r.getElementsByTagName("pre")[0],a="";a=o?o.innerHTML:r.body.innerHTML,a=_unescape(a),t[0].src="javascript:false";try{i=K.json(a)}catch(t){e.options.afterError.call(e,"<!doctype html><html>"+r.body.parentNode.innerHTML+"</html>")}i&&e.options.afterUpload.call(e,i)}),e.form[0].submit(),e},remove:function(){var e=this;return e.fileBox&&e.fileBox.unbind(),e.iframe.remove(),e.div.remove(),e.button.show(),e}}),K.UploadButtonClass=KUploadButton,K.uploadbutton=_uploadbutton,_extend(KDialog,KWidget,{init:function(e){var t=this,n=_undef(e.shadowMode,!0);e.z=e.z||811213,e.shadowMode=!1,e.autoScroll=_undef(e.autoScroll,!0),KDialog.parent.init.call(t,e);var i=e.title,r=K(e.body,t.doc),o=e.previewBtn,a=e.yesBtn,s=e.noBtn,l=e.closeBtn,c=_undef(e.showMask,!0);t.div.addClass("ke-dialog").bind("click,mousedown",function(e){e.stopPropagation()});var u=K('<div class="ke-dialog-content"></div>').appendTo(t.div);_IE&&_V<7?t.iframeMask=K('<iframe src="about:blank" class="ke-dialog-shadow"></iframe>').appendTo(t.div):n&&K('<div class="ke-dialog-shadow"></div>').appendTo(t.div);var d=K('<div class="ke-dialog-header"></div>');u.append(d),d.html(i),t.closeIcon=K('<span class="ke-dialog-icon-close" title="'+l.name+'"></span>').click(l.click),d.append(t.closeIcon),t.draggable({clickEl:d,beforeDrag:e.beforeDrag});var p=K('<div class="ke-dialog-body"></div>');u.append(p),p.append(r);var h=K('<div class="ke-dialog-footer"></div>');if((o||a||s)&&u.append(h),_each([{btn:o,name:"preview"},{btn:a,name:"yes"},{btn:s,name:"no"}],function(){if(this.btn){var e=_createButton(this.btn);e.addClass("ke-dialog-"+this.name),h.append(e)}}),t.height&&p.height(_removeUnit(t.height)-d.height()-h.height()),t.div.width(t.div.width()),t.div.height(t.div.height()),t.mask=null,c){var f=_docElement(t.doc),m=Math.max(f.scrollWidth,f.clientWidth),g=Math.max(f.scrollHeight,f.clientHeight);t.mask=_widget({x:0,y:0,z:t.z-1,cls:"ke-dialog-mask",width:m,height:g})}t.autoPos(t.div.width(),t.div.height()),t.footerDiv=h,t.bodyDiv=p,t.headerDiv=d,t.isLoading=!1},setMaskIndex:function(e){var t=this;t.mask.div.css("z-index",e)},showLoading:function(e){e=_undef(e,"");var t=this,n=t.bodyDiv;return t.loading=K('<div class="ke-dialog-loading"><div class="ke-inline-block ke-dialog-loading-content" style="margin-top:'+Math.round(n.height()/3)+'px;">'+e+"</div></div>").width(n.width()).height(n.height()).css("top",t.headerDiv.height()+"px"),n.css("visibility","hidden").after(t.loading),t.isLoading=!0,t},hideLoading:function(){return this.loading&&this.loading.remove(),this.bodyDiv.css("visibility","visible"),this.isLoading=!1,this},remove:function(){var e=this;return e.options.beforeRemove&&e.options.beforeRemove.call(e),e.mask&&e.mask.remove(),e.iframeMask&&e.iframeMask.remove(),e.closeIcon.unbind(),K("input",e.div).unbind(),K("button",e.div).unbind(),e.footerDiv.unbind(),e.bodyDiv.unbind(),e.headerDiv.unbind(),K("iframe",e.div).each(function(){K(this).remove()}),KDialog.parent.remove.call(e),e}}),K.DialogClass=KDialog,K.dialog=_dialog,K.tabs=_tabs,K.loadScript=_loadScript,K.loadStyle=_loadStyle,K.ajax=_ajax;var _plugins={},_language={};KEditor.prototype={lang:function(e){return _lang(e,this.langType)},loadPlugin:function(e,t){var n=this,i=this._pluginStatus;return i||(i=this._pluginStatus={}),_plugins[e]?_isFunction(_plugins[e])?(i[e]||(_plugins[e].call(n,KindEditor),i[e]="inited"),t&&t.call(n),n):(setTimeout(function(){n.loadPlugin(e,t)},100),n):(_plugins[e]="loading",_loadScript(n.pluginsPath+e+"/"+e+".js?ver="+encodeURIComponent(K.DEBUG?_TIME:_VERSION),function(){setTimeout(function(){_plugins[e]&&n.loadPlugin(e,t)},0)}),n)},handler:function(e,t){var n=this;return n._handlers[e]||(n._handlers[e]=[]),_isFunction(t)?(n._handlers[e].push(t),n):(_each(n._handlers[e],function(){t=this.call(n,t)}),t)},clickToolbar:function(e,t){var n=this,i="clickToolbar"+e;return t===undefined?n._handlers[i]?n.handler(i):(n.loadPlugin(e,function(){n.handler(i)}),n):n.handler(i,t)},updateState:function(){var e=this;return _each("justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,subscript,superscript,bold,italic,underline,strikethrough".split(","),function(t,n){e.cmd.state(n)?e.toolbar.select(n):e.toolbar.unselect(n)}),e},addContextmenu:function(e){return this._contextmenus.push(e),this},afterCreate:function(e){return this.handler("afterCreate",e)},beforeRemove:function(e){return this.handler("beforeRemove",e)},beforeGetHtml:function(e){return this.handler("beforeGetHtml",e)},beforeSetHtml:function(e){return this.handler("beforeSetHtml",e)},afterSetHtml:function(e){return this.handler("afterSetHtml",e)},create:function(){function e(){return 0===l.height()?void setTimeout(e,100):void t.resize(i,r,!1)}var t=this,n=t.fullscreenMode;if(t.isCreated)return t;if(t.srcElement.data("kindeditor"))return t;t.srcElement.data("kindeditor","true"),n?_docElement().style.overflow="hidden":_docElement().style.overflow="";var i=n?_docElement().clientWidth+"px":t.width,r=n?_docElement().clientHeight+"px":t.height;(_IE&&_V<8||_QUIRKS)&&(r=_addUnit(_removeUnit(r)+2));var o=t.container=K(t.layout);n?K(document.body).append(o):t.srcElement.before(o);var a=K(".toolbar",o),s=K(".edit",o),l=t.statusbar=K(".statusbar",o);o.removeClass("container").addClass("ke-container ke-container-"+t.themeType).css("width",i),n?(o.css({position:"absolute",left:0,top:0,"z-index":811211}),_GECKO||(t._scrollPos=_getScrollPos()),window.scrollTo(0,0),K(document.body).css({height:"1px",overflow:"hidden"}),K(document.body.parentNode).css("overflow","hidden"),t._fullscreenExecuted=!0):(t._fullscreenExecuted&&(K(document.body).css({height:"",overflow:""}),K(document.body.parentNode).css("overflow","")),t._scrollPos&&window.scrollTo(t._scrollPos.x,t._scrollPos.y));var c=[];K.each(t.items,function(e,n){"|"==n?c.push('<span class="ke-inline-block ke-separator"></span>'):"/"==n?c.push('<div class="ke-hr"></div>'):(c.push('<span class="ke-outline" data-name="'+n+'" title="'+t.lang(n)+'" unselectable="on">'),c.push('<span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-'+n+'" unselectable="on"></span></span>'))});var u=t.toolbar=_toolbar({src:a,html:c.join(""),noDisableItems:t.noDisableItems,click:function(e,n){if(e.stop(),t.menu){var i=t.menu.name;if(t.hideMenu(),i===n)return}t.clickToolbar(n)}}),d=_removeUnit(r)-u.div.height(),p=t.edit=_edit({height:d>0&&_removeUnit(r)>t.minHeight?d:t.minHeight,src:s,srcElement:t.srcElement,designMode:t.designMode,themesPath:t.themesPath,bodyClass:t.bodyClass,cssPath:t.cssPath,cssData:t.cssData,beforeGetHtml:function(e){return e=t.beforeGetHtml(e),e=_removeBookmarkTag(_removeTempTag(e)),_formatHtml(e,t.filterMode?t.htmlTags:null,t.urlType,t.wellFormatMode,t.indentChar)},beforeSetHtml:function(e){return e=_formatHtml(e,t.filterMode?t.htmlTags:null,"",!1),t.beforeSetHtml(e)},afterSetHtml:function(){t.edit=p=this,t.afterSetHtml()},afterCreate:function(){if(t.edit=p=this,t.cmd=p.cmd,t._docMousedownFn=function(e){t.menu&&t.hideMenu()},K(p.doc,document).mousedown(t._docMousedownFn),_bindContextmenuEvent.call(t),_bindNewlineEvent.call(t),_bindTabEvent.call(t),_bindFocusEvent.call(t),p.afterChange(function(e){p.designMode&&(t.updateState(),t.addBookmark(),t.options.afterChange&&t.options.afterChange.call(t))}),p.textarea.keyup(function(e){e.ctrlKey||e.altKey||!_INPUT_KEY_MAP[e.which]||t.options.afterChange&&t.options.afterChange.call(t)}),t.readonlyMode&&t.readonly(),t.isCreated=!0,""===t.initContent&&(t.initContent=t.html()),t._undoStack.length>0){var e=t._undoStack.pop();e.start&&(t.html(e.html),p.cmd.range.moveToBookmark(e),t.select())}t.afterCreate(),t.options.afterCreate&&t.options.afterCreate.call(t)}});return l.removeClass("statusbar").addClass("ke-statusbar").append('<span class="ke-inline-block ke-statusbar-center-icon"></span>').append('<span class="ke-inline-block ke-statusbar-right-icon"></span>'),t._fullscreenResizeHandler&&(K(window).unbind("resize",t._fullscreenResizeHandler),t._fullscreenResizeHandler=null),e(),n?(t._fullscreenResizeHandler=function(e){t.isCreated&&t.resize(_docElement().clientWidth,_docElement().clientHeight,!1)},K(window).bind("resize",t._fullscreenResizeHandler),u.select("fullscreen"),l.first().css("visibility","hidden"),l.last().css("visibility","hidden")):(_GECKO&&K(window).bind("scroll",function(e){t._scrollPos=_getScrollPos()}),t.resizeType>0?_drag({moveEl:o,clickEl:l,moveFn:function(e,n,i,r,o,a){r+=a,t.resize(null,r)}}):l.first().css("visibility","hidden"),2===t.resizeType?_drag({moveEl:o,clickEl:l.last(),moveFn:function(e,n,i,r,o,a){i+=o,r+=a,t.resize(i,r)}}):l.last().css("visibility","hidden")),t},remove:function(){var e=this;return e.isCreated?(e.beforeRemove(),e.srcElement.data("kindeditor",""),e.menu&&e.hideMenu(),_each(e.dialogs,function(){e.hideDialog()}),K(document).unbind("mousedown",e._docMousedownFn),e.toolbar.remove(),e.edit.remove(),e.statusbar.last().unbind(),e.statusbar.unbind(),e.container.remove(),e.container=e.toolbar=e.edit=e.menu=null,e.dialogs=[],e.isCreated=!1,e):e},resize:function(e,t,n){var i=this;return n=_undef(n,!0),e&&(/%/.test(e)||(e=_removeUnit(e),e=e<i.minWidth?i.minWidth:e),i.container.css("width",_addUnit(e)),n&&(i.width=_addUnit(e))),t&&(t=_removeUnit(t),editHeight=_removeUnit(t)-i.toolbar.div.height()-i.statusbar.height(),editHeight=editHeight<i.minHeight?i.minHeight:editHeight,i.edit.setHeight(editHeight),n&&(i.height=_addUnit(t))),i},select:function(){return this.isCreated&&this.cmd.select(),this},html:function(e){var t=this;return e===undefined?t.isCreated?t.edit.html():_elementVal(t.srcElement):(t.isCreated?t.edit.html(e):_elementVal(t.srcElement,e),t.isCreated&&t.cmd.selection(),t)},fullHtml:function(){return this.isCreated?this.edit.html(undefined,!0):""},text:function(e){var t=this;return e===undefined?_trim(t.html().replace(/<(?!img|embed).*?>/gi,"").replace(/&nbsp;/gi," ")):t.html(_escape(e))},isEmpty:function(){return""===_trim(this.text().replace(/\r\n|\n|\r/,""))},isDirty:function(){return _trim(this.initContent.replace(/\r\n|\n|\r|t/g,""))!==_trim(this.html().replace(/\r\n|\n|\r|t/g,""))},selectedHtml:function(){var e=this.isCreated?this.cmd.range.html():"";return e=_removeBookmarkTag(_removeTempTag(e))},count:function(e){var t=this;return e=(e||"html").toLowerCase(),"html"===e?t.html().length:"text"===e?t.text().replace(/<(?:img|embed).*?>/gi,"K").replace(/\r\n|\n|\r/g,"").length:0},exec:function(e){e=e.toLowerCase();var t=this,n=t.cmd,i=_inArray(e,"selectall,copy,paste,print".split(","))<0;return i&&t.addBookmark(!1),n[e].apply(n,_toArray(arguments,1)),i&&(t.updateState(),t.addBookmark(!1),t.options.afterChange&&t.options.afterChange.call(t)),t},insertHtml:function(e,t){return this.isCreated?(e=this.beforeSetHtml(e),this.exec("inserthtml",e,t),this):this},appendHtml:function(e){if(this.html(this.html()+e),this.isCreated){var t=this.cmd;t.range.selectNodeContents(t.doc.body).collapse(!1),t.select()}return this},sync:function(){return _elementVal(this.srcElement,this.html()),this},focus:function(){return this.isCreated?this.edit.focus():this.srcElement[0].focus(),this},blur:function(){return this.isCreated?this.edit.blur():this.srcElement[0].blur(),this},addBookmark:function(e){e=_undef(e,!0);var t,n=this,i=n.edit,r=i.doc.body,o=_removeTempTag(r.innerHTML);if(e&&n._undoStack.length>0){var a=n._undoStack[n._undoStack.length-1];if(Math.abs(o.length-_removeBookmarkTag(a.html).length)<n.minChangeSize)return n}if(i.designMode&&!n._firstAddBookmark){var s=n.cmd.range;t=s.createBookmark(!0),t.html=_removeTempTag(r.innerHTML),s.moveToBookmark(t)}else t={html:o};return n._firstAddBookmark=!1,_addBookmarkToStack(n._undoStack,t),n},undo:function(){return _undoToRedo.call(this,this._undoStack,this._redoStack)},redo:function(){return _undoToRedo.call(this,this._redoStack,this._undoStack)},fullscreen:function(e){return this.fullscreenMode=e===undefined?!this.fullscreenMode:e,this.addBookmark(!1),this.remove().create()},readonly:function(e){e=_undef(e,!0);var t=this,n=t.edit,i=n.doc;t.designMode?t.toolbar.disableAll(e,[]):_each(t.noDisableItems,function(){t.toolbar[e?"disable":"enable"](this)}),_IE?i.body.contentEditable=!e:i.designMode=e?"off":"on",n.textarea[0].disabled=e},createMenu:function(e){var t=this,n=e.name,i=t.toolbar.get(n),r=i.pos();return e.x=r.x,e.y=r.y+i.height(),e.z=t.options.zIndex,e.shadowMode=_undef(e.shadowMode,t.shadowMode),e.selectedColor!==undefined?(e.cls="ke-colorpicker-"+t.themeType,e.noColor=t.lang("noColor"),t.menu=_colorpicker(e)):(e.cls="ke-menu-"+t.themeType,e.centerLineMode=!1,t.menu=_menu(e)),t.menu},hideMenu:function(){return this.menu.remove(),this.menu=null,this},hideContextmenu:function(){return this.contextmenu.remove(),this.contextmenu=null,this},createDialog:function(e){var t=this;e.name;if(e.z=t.options.zIndex,e.shadowMode=_undef(e.shadowMode,t.shadowMode),e.closeBtn=_undef(e.closeBtn,{name:t.lang("close"),click:function(e){t.hideDialog(),_IE&&t.cmd&&t.cmd.select()}}),e.noBtn=_undef(e.noBtn,{name:t.lang(e.yesBtn?"no":"close"),click:function(e){t.hideDialog(),_IE&&t.cmd&&t.cmd.select()}}),"page"!=t.dialogAlignType&&(e.alignEl=t.container),e.cls="ke-dialog-"+t.themeType,t.dialogs.length>0){var n=t.dialogs[0],i=t.dialogs[t.dialogs.length-1];n.setMaskIndex(i.z+2),e.z=i.z+3,e.showMask=!1}var r=_dialog(e);return t.dialogs.push(r),r},hideDialog:function(){var e=this;if(e.dialogs.length>0&&e.dialogs.pop().remove(),e.dialogs.length>0){var t=e.dialogs[0],n=e.dialogs[e.dialogs.length-1];t.setMaskIndex(n.z-1)}return e},errorDialog:function(e){var t=this,n=t.createDialog({width:750,title:t.lang("uploadError"),body:'<div style="padding:10px 20px;"><iframe frameborder="0" style="width:708px;height:400px;"></iframe></div>'}),i=K("iframe",n.div),r=K.iframeDoc(i);return r.open(),r.write(e),r.close(),K(r.body).css("background-color","#FFF"),i[0].contentWindow.focus(),t}},_instances=[],K.remove=function(e){_eachEditor(e,function(e){this.remove(),_instances.splice(e,1)})},K.sync=function(e){_eachEditor(e,function(){this.sync()})},K.html=function(e,t){_eachEditor(e,function(){this.html(t)})},K.insertHtml=function(e,t){_eachEditor(e,function(){this.insertHtml(t)})},K.appendHtml=function(e,t){_eachEditor(e,function(){this.appendHtml(t)})},_IE&&_V<7&&_nativeCommand(document,"BackgroundImageCache",!0),K.EditorClass=KEditor,K.editor=_editor,K.create=_create,K.instances=_instances,K.plugin=_plugin,K.lang=_lang,_plugin("core",function(e){var t=this,n={undo:"Z",redo:"Y",bold:"B",italic:"I",underline:"U",print:"P",selectall:"A"};if(t.afterSetHtml(function(){t.options.afterChange&&t.options.afterChange.call(t)}),t.afterCreate(function(){if("form"==t.syncType){for(var n=e(t.srcElement),i=!1;n=n.parent();)if("form"==n.name){i=!0;break}if(i){n.bind("submit",function(n){t.sync(),e(window).bind("unload",function(){t.edit.textarea.remove()})});var r=e('[type="reset"]',n);r.click(function(){t.html(t.initContent),t.cmd.selection()}),t.beforeRemove(function(){n.unbind(),r.unbind()})}}}),t.clickToolbar("source",function(){t.edit.designMode?(t.toolbar.disableAll(!0),t.edit.design(!1),t.toolbar.select("source")):(t.toolbar.disableAll(!1),t.edit.design(!0),t.toolbar.unselect("source"),_GECKO?setTimeout(function(){t.cmd.selection()},0):t.cmd.selection()),t.designMode=t.edit.designMode}),t.afterCreate(function(){t.designMode||t.toolbar.disableAll(!0).select("source")}),t.clickToolbar("fullscreen",function(){t.fullscreen()}),t.fullscreenShortcut){var i=!1;t.afterCreate(function(){if(e(t.edit.doc,t.edit.textarea).keyup(function(e){27==e.which&&setTimeout(function(){t.fullscreen()},0)}),i){if(_IE&&!t.designMode)return;t.focus()}i||(i=!0)})}_each("undo,redo".split(","),function(e,i){n[i]&&t.afterCreate(function(){_ctrl(this.edit.doc,n[i],function(){t.clickToolbar(i)})}),t.clickToolbar(i,function(){t[i]()})}),t.clickToolbar("formatblock",function(){var e=t.lang("formatblock.formatBlock"),n={h1:28,h2:24,h3:18,H4:14,p:12},i=t.cmd.val("formatblock"),r=t.createMenu({name:"formatblock",width:"en"==t.langType?200:150});_each(e,function(e,o){var a="font-size:"+n[e]+"px;";"h"===e.charAt(0)&&(a+="font-weight:bold;"),r.addItem({title:'<span style="'+a+'" unselectable="on">'+o+"</span>",height:n[e]+12,checked:i===e||i===o,click:function(){t.select().exec("formatblock","<"+e+">").hideMenu()}})})}),t.clickToolbar("fontname",function(){var e=t.cmd.val("fontname"),n=t.createMenu({name:"fontname",width:150});_each(t.lang("fontname.fontName"),function(i,r){n.addItem({title:'<span style="font-family: '+i+';" unselectable="on">'+r+"</span>",checked:e===i.toLowerCase()||e===r.toLowerCase(),click:function(){t.exec("fontname",i).hideMenu()}})})}),t.clickToolbar("fontsize",function(){var e=t.cmd.val("fontsize"),n=t.createMenu({name:"fontsize",width:150});_each(t.fontSizeTable,function(i,r){n.addItem({title:'<span style="font-size:'+r+';" unselectable="on">'+r+"</span>",height:_removeUnit(r)+12,checked:e===r,click:function(){t.exec("fontsize",r).hideMenu()}})})}),_each("forecolor,hilitecolor".split(","),function(e,n){t.clickToolbar(n,function(){t.createMenu({name:n,selectedColor:t.cmd.val(n)||"default",colors:t.colorTable,click:function(e){t.exec(n,e).hideMenu()}})})}),_each("cut,copy,paste".split(","),function(e,n){t.clickToolbar(n,function(){t.focus();try{t.exec(n,null)}catch(e){alert(t.lang(n+"Error"))}})}),t.clickToolbar("about",function(){var e='<div style="margin:20px;"><div>KindEditor '+_VERSION+'</div><div>Copyright &copy; <a href="http://www.kindsoft.net/" target="_blank">kindsoft.net</a> All rights reserved.</div></div>';t.createDialog({name:"about",width:350,title:t.lang("about"),body:e})}),t.plugin.getSelectedLink=function(){return t.cmd.commonAncestor("a")},t.plugin.getSelectedImage=function(){return _getImageFromRange(t.edit.cmd.range,function(e){return!/^ke-\w+$/i.test(e[0].className)})},t.plugin.getSelectedFlash=function(){return _getImageFromRange(t.edit.cmd.range,function(e){return"ke-flash"==e[0].className})},t.plugin.getSelectedMedia=function(){return _getImageFromRange(t.edit.cmd.range,function(e){return"ke-media"==e[0].className||"ke-rm"==e[0].className})},t.plugin.getSelectedAnchor=function(){return _getImageFromRange(t.edit.cmd.range,function(e){return"ke-anchor"==e[0].className})},_each("link,image,flash,media,anchor".split(","),function(e,n){var i=n.charAt(0).toUpperCase()+n.substr(1);_each("edit,delete".split(","),function(e,r){t.addContextmenu({title:t.lang(r+i),click:function(){t.loadPlugin(n,function(){t.plugin[n][r](),t.hideMenu()})},cond:t.plugin["getSelected"+i],width:150,iconClass:"edit"==r?"ke-icon-"+n:undefined})}),t.addContextmenu({title:"-"})}),t.plugin.getSelectedTable=function(){return t.cmd.commonAncestor("table")},t.plugin.getSelectedRow=function(){return t.cmd.commonAncestor("tr")},t.plugin.getSelectedCell=function(){return t.cmd.commonAncestor("td")},_each("prop,cellprop,colinsertleft,colinsertright,rowinsertabove,rowinsertbelow,rowmerge,colmerge,rowsplit,colsplit,coldelete,rowdelete,insert,delete".split(","),function(e,n){var i=_inArray(n,["prop","delete"])<0?t.plugin.getSelectedCell:t.plugin.getSelectedTable;t.addContextmenu({title:t.lang("table"+n),click:function(){t.loadPlugin("table",function(){t.plugin.table[n](),t.hideMenu()})},cond:i,width:170,iconClass:"ke-icon-table"+n})}),t.addContextmenu({title:"-"}),_each("selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript,hr,print,bold,italic,underline,strikethrough,removeformat,unlink".split(","),function(e,i){n[i]&&t.afterCreate(function(){_ctrl(this.edit.doc,n[i],function(){t.cmd.selection(),t.clickToolbar(i)})}),t.clickToolbar(i,function(){t.focus().exec(i,null)})}),t.afterCreate(function(){function n(){i.range.moveToBookmark(r),i.select(),_WEBKIT&&(e("div."+s,o).each(function(){e(this).after("<br />").remove(!0)}),e("span.Apple-style-span",o).remove(!0),e("span.Apple-tab-span",o).remove(!0),e("span[style]",o).each(function(){"nowrap"==e(this).css("white-space")&&e(this).remove(!0)}),e("meta",o).remove());var n=o[0].innerHTML;o.remove(),""!==n&&(_WEBKIT&&(n=n.replace(/(<br>)\1/gi,"$1")),2===t.pasteType&&(n=n.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi,""),/schemas-microsoft-com|worddocument|mso-\w+/i.test(n)?n=_clearMsWord(n,t.filterMode?t.htmlTags:e.options.htmlTags):(n=_formatHtml(n,t.filterMode?t.htmlTags:null),n=t.beforeSetHtml(n))),1===t.pasteType&&(n=n.replace(/&nbsp;/gi," "),n=n.replace(/\n\s*\n/g,"\n"),n=n.replace(/<br[^>]*>/gi,"\n"),n=n.replace(/<\/p><p[^>]*>/gi,"\n"),n=n.replace(/<[^>]+>/g,""),n=n.replace(/ {2}/g," &nbsp;"),"p"==t.newlineTag?/\n/.test(n)&&(n=n.replace(/^/,"<p>").replace(/$/,"<br /></p>").replace(/\n/g,"<br /></p><p>")):n=n.replace(/\n/g,"<br />$&")),t.insertHtml(n,!0))}var i,r,o,a=t.edit.doc,s="__kindeditor_paste__",l=!1;e(a.body).bind("paste",function(c){if(0===t.pasteType)return void c.stop();if(!l){if(l=!0,e("div."+s,a).remove(),i=t.cmd.selection(),r=i.range.createBookmark(),o=e('<div class="'+s+'"></div>',a).css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",left:"-1981px",top:e(r.start).pos().y+"px","white-space":"nowrap"}),e(a.body).append(o),_IE){var u=i.range.get(!0);u.moveToElementText(o[0]),u.select(),u.execCommand("paste"),c.preventDefault()}else i.range.selectNodeContents(o[0]),i.select(),o[0].tabIndex=-1,o[0].focus();setTimeout(function(){n(),l=!1},0)}})}),t.beforeGetHtml(function(e){return _IE&&_V<=8&&(e=e.replace(/<div\s+[^>]*data-ke-input-tag="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,function(e,t){return unescape(t)}),e=e.replace(/(<input)((?:\s+[^>]*)?>)/gi,function(e,t,n){return/\s+type="[^"]+"/i.test(e)?e:t+' type="text"'+n})),e.replace(/(<(?:noscript|noscript\s[^>]*)>)([\s\S]*?)(<\/noscript>)/gi,function(e,t,n,i){return t+_unescape(n).replace(/\s+/g," ")+i}).replace(/<img[^>]*class="?ke-(flash|rm|media)"?[^>]*>/gi,function(e){var t=_getAttrList(e),n=_getCssList(t.style||""),i=_mediaAttrs(t["data-ke-tag"]),r=_undef(n.width,""),o=_undef(n.height,"");return/px/i.test(r)&&(r=_removeUnit(r)),/px/i.test(o)&&(o=_removeUnit(o)),i.width=_undef(t.width,r),i.height=_undef(t.height,o),_mediaEmbed(i)}).replace(/<img[^>]*class="?ke-anchor"?[^>]*>/gi,function(e){var t=_getAttrList(e);return'<a name="'+unescape(t["data-ke-name"])+'"></a>'}).replace(/<div\s+[^>]*data-ke-script-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,function(e,t,n){return"<script"+unescape(t)+">"+unescape(n)+"</script>"}).replace(/<div\s+[^>]*data-ke-noscript-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,function(e,t,n){return"<noscript"+unescape(t)+">"+unescape(n)+"</noscript>"}).replace(/(<[^>]*)data-ke-src="([^"]*)"([^>]*>)/gi,function(e,t,n,i){return e=e.replace(/(\s+(?:href|src)=")[^"]*(")/i,function(e,t,i){return t+_unescape(n)+i}),e=e.replace(/\s+data-ke-src="[^"]*"/i,"")}).replace(/(<[^>]+\s)data-ke-(on\w+="[^"]*"[^>]*>)/gi,function(e,t,n){return t+n})}),t.beforeSetHtml(function(e){return _IE&&_V<=8&&(e=e.replace(/<input[^>]*>|<(select|button)[^>]*>[\s\S]*?<\/\1>/gi,function(e){var t=_getAttrList(e),n=_getCssList(t.style||"");return"none"==n.display?'<div class="ke-display-none" data-ke-input-tag="'+escape(e)+'"></div>':e})),e.replace(/<embed[^>]*type="([^"]+)"[^>]*>(?:<\/embed>)?/gi,function(e){var n=_getAttrList(e);return n.src=_undef(n.src,""),n.width=_undef(n.width,0),n.height=_undef(n.height,0),_mediaImg(t.themesPath+"common/blank.gif",n)}).replace(/<a[^>]*name="([^"]+)"[^>]*>(?:<\/a>)?/gi,function(e){var n=_getAttrList(e);return n.href!==undefined?e:'<img class="ke-anchor" src="'+t.themesPath+'common/anchor.gif" data-ke-name="'+escape(n.name)+'" />'}).replace(/<script([^>]*)>([\s\S]*?)<\/script>/gi,function(e,t,n){return'<div class="ke-script" data-ke-script-attr="'+escape(t)+'">'+escape(n)+"</div>"}).replace(/<noscript([^>]*)>([\s\S]*?)<\/noscript>/gi,function(e,t,n){return'<div class="ke-noscript" data-ke-noscript-attr="'+escape(t)+'">'+escape(n)+"</div>"}).replace(/(<[^>]*)(href|src)="([^"]*)"([^>]*>)/gi,function(e,t,n,i,r){return e.match(/\sdata-ke-src="[^"]*"/i)?e:e=t+n+'="'+i+'" data-ke-src="'+_escape(i)+'"'+r}).replace(/(<[^>]+\s)(on\w+="[^"]*"[^>]*>)/gi,function(e,t,n){return t+"data-ke-"+n}).replace(/<table[^>]*\s+border="0"[^>]*>/gi,function(e){return e.indexOf("ke-zeroborder")>=0?e:_addClassToTag(e,"ke-zeroborder")})})})}}(window),KindEditor.lang({source:"HTML代码",preview:"预览",undo:"后退(Ctrl+Z)",redo:"前进(Ctrl+Y)",cut:"剪切(Ctrl+X)",copy:"复制(Ctrl+C)",paste:"粘贴(Ctrl+V)",plainpaste:"粘贴为无格式文本",wordpaste:"从Word粘贴",selectall:"全选(Ctrl+A)",justifyleft:"左对齐",justifycenter:"居中",justifyright:"右对齐",justifyfull:"两端对齐",insertorderedlist:"编号",insertunorderedlist:"项目符号",indent:"增加缩进",outdent:"减少缩进",subscript:"下标",superscript:"上标",formatblock:"段落",
fontname:"字体",fontsize:"文字大小",forecolor:"文字颜色",hilitecolor:"文字背景",bold:"粗体(Ctrl+B)",italic:"斜体(Ctrl+I)",underline:"下划线(Ctrl+U)",strikethrough:"删除线",removeformat:"删除格式",image:"图片",multiimage:"批量图片上传",flash:"Flash",media:"视音频",table:"表格",tablecell:"单元格",hr:"插入横线",emoticons:"插入表情",link:"超级链接",unlink:"取消超级链接",fullscreen:"全屏显示",about:"关于",print:"打印(Ctrl+P)",filemanager:"文件空间",code:"插入程序代码",map:"Google地图",baidumap:"百度地图",lineheight:"行距",clearhtml:"清理HTML代码",pagebreak:"插入分页符",quickformat:"一键排版",insertfile:"插入文件",template:"插入模板",anchor:"锚点",yes:"确定",no:"取消",close:"关闭",editImage:"图片属性",deleteImage:"删除图片",editFlash:"Flash属性",deleteFlash:"删除Flash",editMedia:"视音频属性",deleteMedia:"删除视音频",editLink:"超级链接属性",deleteLink:"取消超级链接",editAnchor:"锚点属性",deleteAnchor:"删除锚点",tableprop:"表格属性",tablecellprop:"单元格属性",tableinsert:"插入表格",tabledelete:"删除表格",tablecolinsertleft:"左侧插入列",tablecolinsertright:"右侧插入列",tablerowinsertabove:"上方插入行",tablerowinsertbelow:"下方插入行",tablerowmerge:"向下合并单元格",tablecolmerge:"向右合并单元格",tablerowsplit:"拆分行",tablecolsplit:"拆分列",tablecoldelete:"删除列",tablerowdelete:"删除行",noColor:"无颜色",pleaseSelectFile:"请选择文件。",invalidImg:"请输入有效的URL地址。\n只允许jpg,gif,bmp,png格式。",invalidMedia:"请输入有效的URL地址。\n只允许swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb格式。",invalidWidth:"宽度必须为数字。",invalidHeight:"高度必须为数字。",invalidBorder:"边框必须为数字。",invalidUrl:"请输入有效的URL地址。",invalidRows:"行数为必选项，只允许输入大于0的数字。",invalidCols:"列数为必选项，只允许输入大于0的数字。",invalidPadding:"边距必须为数字。",invalidSpacing:"间距必须为数字。",invalidJson:"服务器发生故障。",uploadSuccess:"上传成功。",cutError:"您的浏览器安全设置不允许使用剪切操作，请使用快捷键(Ctrl+X)来完成。",copyError:"您的浏览器安全设置不允许使用复制操作，请使用快捷键(Ctrl+C)来完成。",pasteError:"您的浏览器安全设置不允许使用粘贴操作，请使用快捷键(Ctrl+V)来完成。",ajaxLoading:"加载中，请稍候 ...",uploadLoading:"上传中，请稍候 ...",uploadError:"上传错误","plainpaste.comment":"请使用快捷键(Ctrl+V)把内容粘贴到下面的方框里。","wordpaste.comment":"请使用快捷键(Ctrl+V)把内容粘贴到下面的方框里。","code.pleaseInput":"请输入程序代码。","link.url":"URL","link.linkType":"打开类型","link.newWindow":"新窗口","link.selfWindow":"当前窗口","flash.url":"URL","flash.width":"宽度","flash.height":"高度","flash.upload":"上传","flash.viewServer":"文件空间","media.url":"URL","media.width":"宽度","media.height":"高度","media.autostart":"自动播放","media.upload":"上传","media.viewServer":"文件空间","image.remoteImage":"网络图片","image.localImage":"本地上传","image.remoteUrl":"图片地址","image.localUrl":"上传文件","image.size":"图片大小","image.width":"宽","image.height":"高","image.resetSize":"重置大小","image.align":"对齐方式","image.defaultAlign":"默认方式","image.leftAlign":"左对齐","image.rightAlign":"右对齐","image.imgTitle":"图片说明","image.upload":"浏览...","image.viewServer":"图片空间","multiimage.uploadDesc":"允许用户同时上传<%=uploadLimit%>张图片，单张图片容量不超过<%=sizeLimit%>","multiimage.startUpload":"开始上传","multiimage.clearAll":"全部清空","multiimage.insertAll":"全部插入","multiimage.queueLimitExceeded":"文件数量超过限制。","multiimage.fileExceedsSizeLimit":"文件大小超过限制。","multiimage.zeroByteFile":"无法上传空文件。","multiimage.invalidFiletype":"文件类型不正确。","multiimage.unknownError":"发生异常，无法上传。","multiimage.pending":"等待上传","multiimage.uploadError":"上传失败","filemanager.emptyFolder":"空文件夹","filemanager.moveup":"移到上一级文件夹","filemanager.viewType":"显示方式：","filemanager.viewImage":"缩略图","filemanager.listImage":"详细信息","filemanager.orderType":"排序方式：","filemanager.fileName":"名称","filemanager.fileSize":"大小","filemanager.fileType":"类型","insertfile.url":"URL","insertfile.title":"文件说明","insertfile.upload":"上传","insertfile.viewServer":"文件空间","table.cells":"单元格数","table.rows":"行数","table.cols":"列数","table.size":"大小","table.width":"宽度","table.height":"高度","table.percent":"%","table.px":"px","table.space":"边距间距","table.padding":"边距","table.spacing":"间距","table.align":"对齐方式","table.textAlign":"水平对齐","table.verticalAlign":"垂直对齐","table.alignDefault":"默认","table.alignLeft":"左对齐","table.alignCenter":"居中","table.alignRight":"右对齐","table.alignTop":"顶部","table.alignMiddle":"中部","table.alignBottom":"底部","table.alignBaseline":"基线","table.border":"边框","table.borderWidth":"边框","table.borderColor":"颜色","table.backgroundColor":"背景颜色","map.address":"地址: ","map.search":"搜索","baidumap.address":"地址: ","baidumap.search":"搜索","baidumap.insertDynamicMap":"插入动态地图","anchor.name":"锚点名称","formatblock.formatBlock":{h1:"标题 1",h2:"标题 2",h3:"标题 3",h4:"标题 4",p:"正 文"},"fontname.fontName":{SimSun:"宋体",NSimSun:"新宋体",FangSong_GB2312:"仿宋_GB2312",KaiTi_GB2312:"楷体_GB2312",SimHei:"黑体","Microsoft YaHei":"微软雅黑",Arial:"Arial","Arial Black":"Arial Black","Times New Roman":"Times New Roman","Courier New":"Courier New",Tahoma:"Tahoma",Verdana:"Verdana"},"lineheight.lineHeight":[{1:"单倍行距"},{1.5:"1.5倍行距"},{2:"2倍行距"},{2.5:"2.5倍行距"},{3:"3倍行距"}],"template.selectTemplate":"可选模板","template.replaceContent":"替换当前内容","template.fileList":{"1.html":"图片和文字","2.html":"表格","3.html":"项目编号"}},"zh-CN"),KindEditor.options.langType="zh-CN",KindEditor.plugin("anchor",function(e){var t=this,n="anchor",i=t.lang(n+".");t.plugin.anchor={edit:function(){var r=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keName">'+i.name+"</label>",'<input class="ke-input-text" type="text" id="keName" name="name" value="" style="width:100px;" />',"</div>","</div>"].join(""),o=t.createDialog({name:n,width:300,title:t.lang(n),body:r,yesBtn:{name:t.lang("yes"),click:function(e){t.insertHtml('<a name="'+s.val()+'">').hideDialog().focus()}}}),a=o.div,s=e('input[name="name"]',a),l=t.plugin.getSelectedAnchor();l&&s.val(unescape(l.attr("data-ke-name"))),s[0].focus(),s[0].select()},delete:function(){t.plugin.getSelectedAnchor().remove()}},t.clickToolbar(n,t.plugin.anchor.edit)}),KindEditor.plugin("autoheight",function(e){function t(){var e=r.edit,t=e.doc.body;e.iframe[0].scroll="no",t.style.overflowY="hidden"}function n(){var t=r.edit,n=t.doc.body;t.iframe.height(o),r.resize(null,Math.max((e.IE?n.scrollHeight:n.offsetHeight)+76,o))}function i(){o=e.removeUnit(r.height),r.edit.afterChange(n),t(),n()}var r=this;if(r.autoHeightMode){var o;r.isCreated?i():r.afterCreate(i)}}),KindEditor.plugin("baidumap",function(e){var t=this,n="baidumap",i=t.lang(n+"."),r=e.undef(t.mapWidth,558),o=e.undef(t.mapHeight,360);t.clickToolbar(n,function(){function a(){s=m[0].contentWindow,l=e.iframeDoc(m)}var s,l,c=['<div style="padding:10px 20px;">','<div class="ke-header">','<div class="ke-left">',i.address+' <input id="kindeditor_plugin_map_address" name="address" class="ke-input-text" value="" style="width:200px;" /> ','<span class="ke-button-common ke-button-outer">','<input type="button" name="searchBtn" class="ke-button-common ke-button" value="'+i.search+'" />',"</span>","</div>",'<div class="ke-right">','<input type="checkbox" id="keInsertDynamicMap" name="insertDynamicMap" value="1" /> <label for="keInsertDynamicMap">'+i.insertDynamicMap+"</label>","</div>",'<div class="ke-clearfix"></div>',"</div>",'<div class="ke-map" style="width:'+r+"px;height:"+o+'px;"></div>',"</div>"].join(""),u=t.createDialog({name:n,width:r+42,title:t.lang(n),body:c,yesBtn:{name:t.lang("yes"),click:function(e){var n=s.map,i=n.getCenter(),a=i.lng+","+i.lat,l=n.getZoom(),c=[f[0].checked?t.pluginsPath+"baidumap/index.html":"http://api.map.baidu.com/staticimage","?center="+encodeURIComponent(a),"&zoom="+encodeURIComponent(l),"&width="+r,"&height="+o,"&markers="+encodeURIComponent(a),"&markerStyles="+encodeURIComponent("l,A")].join("");f[0].checked?t.insertHtml('<iframe src="'+c+'" frameborder="0" style="width:'+(r+2)+"px;height:"+(o+2)+'px;"></iframe>'):t.exec("insertimage",c),t.hideDialog().focus()}},beforeRemove:function(){h.remove(),l&&l.write(""),m.remove()}}),d=u.div,p=e('[name="address"]',d),h=e('[name="searchBtn"]',d),f=e('[name="insertDynamicMap"]',u.div),m=e('<iframe class="ke-textarea" frameborder="0" src="'+t.pluginsPath+'baidumap/map.html" style="width:'+r+"px;height:"+o+'px;"></iframe>');m.bind("load",function(){m.unbind("load"),e.IE?a():setTimeout(a,0)}),e(".ke-map",d).replaceWith(m),h.click(function(){s.search(p.val())})})}),KindEditor.plugin("map",function(e){var t=this,n="map",i=t.lang(n+".");t.clickToolbar(n,function(){function r(){o=p[0].contentWindow,a=e.iframeDoc(p)}var o,a,s=['<div style="padding:10px 20px;">','<div class="ke-dialog-row">',i.address+' <input id="kindeditor_plugin_map_address" name="address" class="ke-input-text" value="" style="width:200px;" /> ','<span class="ke-button-common ke-button-outer">','<input type="button" name="searchBtn" class="ke-button-common ke-button" value="'+i.search+'" />',"</span>","</div>",'<div class="ke-map" style="width:558px;height:360px;"></div>',"</div>"].join(""),l=t.createDialog({name:n,width:600,title:t.lang(n),body:s,yesBtn:{name:t.lang("yes"),click:function(e){var n=(o.geocoder,o.map),i=n.getCenter().lat()+","+n.getCenter().lng(),r=n.getZoom(),a=n.getMapTypeId(),s="http://maps.googleapis.com/maps/api/staticmap";s+="?center="+encodeURIComponent(i),s+="&zoom="+encodeURIComponent(r),s+="&size=558x360",s+="&maptype="+encodeURIComponent(a),s+="&markers="+encodeURIComponent(i),s+="&language="+t.langType,s+="&sensor=false",t.exec("insertimage",s).hideDialog().focus()}},beforeRemove:function(){d.remove(),a&&a.write(""),p.remove()}}),c=l.div,u=e('[name="address"]',c),d=e('[name="searchBtn"]',c),p=(["<!doctype html><html><head>",'<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />',"<style>","\thtml { height: 100% }","\tbody { height: 100%; margin: 0; padding: 0; background-color: #FFF }","\t#map_canvas { height: 100% }","</style>",'<script src="http://maps.googleapis.com/maps/api/js?sensor=false&language='+t.langType+'"></script>',"<script>","var map, geocoder;","function initialize() {","\tvar latlng = new google.maps.LatLng(31.230393, 121.473704);","\tvar options = {","\t\tzoom: 11,","\t\tcenter: latlng,","\t\tdisableDefaultUI: true,","\t\tpanControl: true,","\t\tzoomControl: true,","\t\tmapTypeControl: true,","\t\tscaleControl: true,","\t\tstreetViewControl: false,","\t\toverviewMapControl: true,","\t\tmapTypeId: google.maps.MapTypeId.ROADMAP","\t};",'\tmap = new google.maps.Map(document.getElementById("map_canvas"), options);',"\tgeocoder = new google.maps.Geocoder();","\tgeocoder.geocode({latLng: latlng}, function(results, status) {","\t\tif (status == google.maps.GeocoderStatus.OK) {","\t\t\tif (results[3]) {",'\t\t\t\tparent.document.getElementById("kindeditor_plugin_map_address").value = results[3].formatted_address;',"\t\t\t}","\t\t}","\t});","}","function search(address) {","\tif (!map) return;","\tgeocoder.geocode({address : address}, function(results, status) {","\t\tif (status == google.maps.GeocoderStatus.OK) {","\t\t\tmap.setZoom(11);","\t\t\tmap.setCenter(results[0].geometry.location);","\t\t\tvar marker = new google.maps.Marker({","\t\t\t\tmap: map,","\t\t\t\tposition: results[0].geometry.location","\t\t\t});","\t\t} else {",'\t\t\talert("Invalid address: " + address);',"\t\t}","\t});","}","</script>","</head>",'<body onload="initialize();">','<div id="map_canvas" style="width:100%; height:100%"></div>',"</body></html>"].join("\n"),e('<iframe class="ke-textarea" frameborder="0" src="'+t.pluginsPath+'map/map.html" style="width:558px;height:360px;"></iframe>'));p.bind("load",function(){p.unbind("load"),e.IE?r():setTimeout(r,0)}),e(".ke-map",c).replaceWith(p),d.click(function(){o.search(u.val())})})}),KindEditor.plugin("clearhtml",function(e){var t=this,n="clearhtml";t.clickToolbar(n,function(){t.focus();var n=t.html();n=n.replace(/(<script[^>]*>)([\s\S]*?)(<\/script>)/gi,""),n=n.replace(/(<style[^>]*>)([\s\S]*?)(<\/style>)/gi,""),n=e.formatHtml(n,{a:["href","target"],embed:["src","width","height","type","loop","autostart","quality",".width",".height","align","allowscriptaccess"],img:["src","width","height","border","alt","title",".width",".height"],table:["border"],"td,th":["rowspan","colspan"],"div,hr,br,tbody,tr,p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":[]}),t.html(n),t.cmd.selection(!0),t.addBookmark()})}),KindEditor.plugin("code",function(e){var t=this,n="code";t.clickToolbar(n,function(){var i=t.lang(n+"."),r=['<div style="padding:10px 20px;">','<div class="ke-dialog-row">','<select class="ke-code-type">','<option value="js">JavaScript</option>','<option value="html">HTML</option>','<option value="css">CSS</option>','<option value="php">PHP</option>','<option value="pl">Perl</option>','<option value="py">Python</option>','<option value="rb">Ruby</option>','<option value="java">Java</option>','<option value="vb">ASP/VB</option>','<option value="cpp">C/C++</option>','<option value="cs">C#</option>','<option value="xml">XML</option>','<option value="bsh">Shell</option>','<option value="">Other</option>',"</select>","</div>",'<textarea class="ke-textarea" style="width:408px;height:260px;"></textarea>',"</div>"].join(""),o=t.createDialog({name:n,width:450,title:t.lang(n),body:r,yesBtn:{name:t.lang("yes"),click:function(n){var r=e(".ke-code-type",o.div).val(),s=a.val(),l=""===r?"":" lang-"+r,c='<pre class="prettyprint'+l+'">\n'+e.escape(s)+"</pre> ";return""===e.trim(s)?(alert(i.pleaseInput),void a[0].focus()):void t.insertHtml(c).hideDialog().focus()}}}),a=e("textarea",o.div);a[0].focus()})}),KindEditor.plugin("emoticons",function(e){var t=this,n="emoticons",i=t.emoticonsPath||t.pluginsPath+"emoticons/images/",r=void 0===t.allowPreviewEmoticons||t.allowPreviewEmoticons,o=1;t.clickToolbar(n,function(){function a(n,r,o){x?n.mouseover(function(){r>v?(x.css("left",0),x.css("right","")):(x.css("left",""),x.css("right",0)),$.attr("src",i+o+".gif"),e(this).addClass("ke-on")}):n.mouseover(function(){e(this).addClass("ke-on")}),n.mouseout(function(){e(this).removeClass("ke-on")}),n.click(function(e){t.insertHtml('<img src="'+i+o+'.gif" border="0" alt="" />').hideMenu().focus(),e.stop()})}function s(t,n){var r=document.createElement("table");n.append(r),x&&(e(r).mouseover(function(){x.show("block")}),e(r).mouseout(function(){x.hide()}),b.push(e(r))),r.className="ke-table",r.cellPadding=0,r.cellSpacing=0,r.border=0;for(var o=(t-1)*m+f,s=0;s<d;s++)for(var l=r.insertRow(s),c=0;c<p;c++){var u=e(l.insertCell(c));u.addClass("ke-cell"),a(u,c,o);var h=e('<span class="ke-img"></span>').css("background-position","-"+24*o+"px 0px").css("background-image","url("+i+"static.gif)");u.append(h),b.push(u),o++}return r}function l(){e.each(b,function(){this.unbind()})}function c(e,t){e.click(function(e){l(),_.parentNode.removeChild(_),k.remove(),_=s(t,y),u(t),o=t,e.stop()})}function u(t){k=e('<div class="ke-page"></div>'),y.append(k);for(var n=1;n<=g;n++){if(t!==n){var i=e('<a href="javascript:;">['+n+"]</a>");c(i,n),k.append(i),b.push(i)}else k.append(e("@["+n+"]"));k.append(e("@&nbsp;"))}}var d=5,p=9,h=135,f=0,m=d*p,g=Math.ceil(h/m),v=Math.floor(p/2),y=e('<div class="ke-plugin-emoticons"></div>'),b=[],w=t.createMenu({name:n,beforeRemove:function(){l()}});w.div.append(y);var x,$;r&&(x=e('<div class="ke-preview"></div>').css("right",0),$=e('<img class="ke-preview-img" src="'+i+f+'.gif" />'),y.append(x),x.append($));var k,_=s(o,y);u(o)})}),KindEditor.plugin("filemanager",function(e){function t(e,t,n){return e+" ("+Math.ceil(t/1024)+"KB, "+n+")"}function n(e,n){n.is_dir?e.attr("title",n.filename):e.attr("title",t(n.filename,n.filesize,n.datetime))}var i=this,r="filemanager",o=e.undef(i.fileManagerJson,i.basePath+"php/file_manager_json.php"),a=i.pluginsPath+r+"/images/",s=i.lang(r+".");i.plugin.filemanagerDialog=function(t){function l(t,n,r){var a="path="+t+"&order="+n+"&dir="+m;b.showLoading(i.lang("ajaxLoading")),e.ajax(e.addParam(o,a+"&"+(new Date).getTime()),function(e){b.hideLoading(),r(e)})}function c(t,n,i,r){var o=e.formatUrl(n.current_url+i.filename,"absolute"),a=encodeURIComponent(n.current_dir_path+i.filename+"/");i.is_dir?t.click(function(e){l(a,_.val(),r)}):i.is_photo?t.click(function(e){v.call(this,o,i.filename)}):t.click(function(e){v.call(this,o,i.filename)}),C.push(t)}function u(t,n){function i(){"VIEW"==k.val()?l(t.current_dir_path,_.val(),p):l(t.current_dir_path,_.val(),d)}e.each(C,function(){this.unbind()}),$.unbind(),k.unbind(),_.unbind(),t.current_dir_path&&$.click(function(e){l(t.moveup_dir_path,_.val(),n)}),k.change(i),_.change(i),x.html("")}function d(t){u(t,d);var n=document.createElement("table");n.className="ke-table",n.cellPadding=0,n.cellSpacing=0,n.border=0,x.append(n);for(var i=t.file_list,r=0,o=i.length;r<o;r++){var l=i[r],p=e(n.insertRow(r));p.mouseover(function(t){e(this).addClass("ke-on")}).mouseout(function(t){e(this).removeClass("ke-on")});var h=a+(l.is_dir?"folder-16.gif":"file-16.gif"),f=e('<img src="'+h+'" width="16" height="16" alt="'+l.filename+'" align="absmiddle" />'),m=e(p[0].insertCell(0)).addClass("ke-cell ke-name").append(f).append(document.createTextNode(" "+l.filename));!l.is_dir||l.has_file?(p.css("cursor","pointer"),m.attr("title",l.filename),c(m,t,l,d)):m.attr("title",s.emptyFolder),e(p[0].insertCell(1)).addClass("ke-cell ke-size").html(l.is_dir?"-":Math.ceil(l.filesize/1024)+"KB"),e(p[0].insertCell(2)).addClass("ke-cell ke-datetime").html(l.datetime)}}function p(t){u(t,p);for(var i=t.file_list,r=0,o=i.length;r<o;r++){var l=i[r],d=e('<div class="ke-inline-block ke-item"></div>');x.append(d);var h=e('<div class="ke-inline-block ke-photo"></div>').mouseover(function(t){e(this).addClass("ke-on")}).mouseout(function(t){e(this).removeClass("ke-on")});d.append(h);var f=t.current_url+l.filename,m=l.is_dir?a+"folder-64.gif":l.is_photo?f:a+"file-64.gif",g=e('<img src="'+m+'" width="80" height="80" alt="'+l.filename+'" />');!l.is_dir||l.has_file?(h.css("cursor","pointer"),n(h,l),c(h,t,l,p)):h.attr("title",s.emptyFolder),h.append(g),d.append('<div class="ke-name" title="'+l.filename+'">'+l.filename+"</div>")}}var h=e.undef(t.width,650),f=e.undef(t.height,510),m=e.undef(t.dirName,""),g=e.undef(t.viewType,"VIEW").toUpperCase(),v=t.clickFn,y=['<div style="padding:10px 20px;">','<div class="ke-plugin-filemanager-header">','<div class="ke-left">','<img class="ke-inline-block" name="moveupImg" src="'+a+'go-up.gif" width="16" height="16" border="0" alt="" /> ','<a class="ke-inline-block" name="moveupLink" href="javascript:;">'+s.moveup+"</a>","</div>",'<div class="ke-right">',s.viewType+' <select class="ke-inline-block" name="viewType">','<option value="VIEW">'+s.viewImage+"</option>",'<option value="LIST">'+s.listImage+"</option>","</select> ",s.orderType+' <select class="ke-inline-block" name="orderType">','<option value="NAME">'+s.fileName+"</option>",'<option value="SIZE">'+s.fileSize+"</option>",'<option value="TYPE">'+s.fileType+"</option>","</select>","</div>",'<div class="ke-clearfix"></div>',"</div>",'<div class="ke-plugin-filemanager-body"></div>',"</div>"].join(""),b=i.createDialog({name:r,width:h,height:f,title:i.lang(r),body:y}),w=b.div,x=e(".ke-plugin-filemanager-body",w),$=(e('[name="moveupImg"]',w),e('[name="moveupLink"]',w)),k=(e('[name="viewServer"]',w),e('[name="viewType"]',w)),_=e('[name="orderType"]',w),C=[];return k.val(g),l("",_.val(),"VIEW"==g?p:d),b}}),KindEditor.plugin("flash",function(e){var t=this,n="flash",i=t.lang(n+"."),r=e.undef(t.allowFlashUpload,!0),o=e.undef(t.allowFileManager,!1),a=e.undef(t.formatUploadUrl,!0),s=e.undef(t.extraFileUploadParams,{}),l=e.undef(t.filePostName,"imgFile"),c=e.undef(t.uploadJson,t.basePath+"php/upload_json.php");t.plugin.flash={edit:function(){var u=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keUrl" style="width:60px;">'+i.url+"</label>",'<input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:160px;" /> &nbsp;','<input type="button" class="ke-upload-button" value="'+i.upload+'" /> &nbsp;','<span class="ke-button-common ke-button-outer">','<input type="button" class="ke-button-common ke-button" name="viewServer" value="'+i.viewServer+'" />',"</span>","</div>",'<div class="ke-dialog-row">','<label for="keWidth" style="width:60px;">'+i.width+"</label>",'<input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="550" maxlength="4" /> ',"</div>",'<div class="ke-dialog-row">','<label for="keHeight" style="width:60px;">'+i.height+"</label>",'<input type="text" id="keHeight" class="ke-input-text ke-input-number" name="height" value="400" maxlength="4" /> ',"</div>","</div>"].join(""),d=t.createDialog({name:n,width:450,title:t.lang(n),body:u,yesBtn:{name:t.lang("yes"),click:function(n){var i=e.trim(h.val()),r=m.val(),o=g.val();if("http://"==i||e.invalidUrl(i))return alert(t.lang("invalidUrl")),void h[0].focus();if(!/^\d*$/.test(r))return alert(t.lang("invalidWidth")),void m[0].focus();if(!/^\d*$/.test(o))return alert(t.lang("invalidHeight")),void g[0].focus();var a=e.mediaImg(t.themesPath+"common/blank.gif",{src:i,type:e.mediaType(".swf"),width:r,height:o,quality:"high"});t.insertHtml(a).hideDialog().focus()}}}),p=d.div,h=e('[name="url"]',p),f=e('[name="viewServer"]',p),m=e('[name="width"]',p),g=e('[name="height"]',p);if(h.val("http://"),r){var v=e.uploadbutton({button:e(".ke-upload-button",p)[0],fieldName:l,extraParams:s,url:e.addParam(c,"dir=flash"),afterUpload:function(i){if(d.hideLoading(),0===i.error){var r=i.url;a&&(r=e.formatUrl(r,"absolute")),h.val(r),t.afterUpload&&t.afterUpload.call(t,r,i,n),alert(t.lang("uploadSuccess"))}else alert(i.message)},afterError:function(e){d.hideLoading(),t.errorDialog(e)}});v.fileBox.change(function(e){d.showLoading(t.lang("uploadLoading")),v.submit()})}else e(".ke-upload-button",p).hide();o?f.click(function(n){t.loadPlugin("filemanager",function(){t.plugin.filemanagerDialog({viewType:"LIST",dirName:"flash",clickFn:function(n,i){t.dialogs.length>1&&(e('[name="url"]',p).val(n),t.afterSelectFile&&t.afterSelectFile.call(t,n),t.hideDialog())}})})}):f.hide();var y=t.plugin.getSelectedFlash();if(y){var b=e.mediaAttrs(y.attr("data-ke-tag"));h.val(b.src),m.val(e.removeUnit(y.css("width"))||b.width||0),g.val(e.removeUnit(y.css("height"))||b.height||0)}h[0].focus(),h[0].select()},delete:function(){t.plugin.getSelectedFlash().remove(),t.addBookmark()}},t.clickToolbar(n,t.plugin.flash.edit)}),KindEditor.plugin("image",function(e){var t=this,n="image",i=e.undef(t.allowImageUpload,!0),r=e.undef(t.allowImageRemote,!0),o=e.undef(t.formatUploadUrl,!0),a=e.undef(t.allowFileManager,!1),s=e.undef(t.uploadJson,t.basePath+"php/upload_json.php"),l=e.undef(t.imageTabIndex,0),c=t.pluginsPath+"image/images/",u=e.undef(t.extraFileUploadParams,{}),d=e.undef(t.filePostName,"imgFile"),p=e.undef(t.fillDescAfterUploadImage,!1),h=t.lang(n+".");t.plugin.imageDialog=function(i){function r(e,t){A.val(e),D.val(t),N=e,L=t}var l=(i.imageUrl,e.undef(i.imageWidth,""),e.undef(i.imageHeight,""),e.undef(i.imageTitle,""),e.undef(i.imageAlign,""),e.undef(i.showRemote,!0)),f=e.undef(i.showLocal,!0),m=e.undef(i.tabIndex,0),g=i.clickFn,v="kindeditor_upload_iframe_"+(new Date).getTime(),y=[];for(var b in u)y.push('<input type="hidden" name="'+b+'" value="'+u[b]+'" />');var w,x=['<div style="padding:20px;">','<div class="tabs"></div>','<div class="tab1" style="display:none;">','<div class="ke-dialog-row">','<label for="remoteUrl" style="width:60px;">'+h.remoteUrl+"</label>",'<input type="text" id="remoteUrl" class="ke-input-text" name="url" value="" style="width:200px;" /> &nbsp;','<span class="ke-button-common ke-button-outer">','<input type="button" class="ke-button-common ke-button" name="viewServer" value="'+h.viewServer+'" />',"</span>","</div>",'<div class="ke-dialog-row">','<label for="remoteWidth" style="width:60px;">'+h.size+"</label>",h.width+' <input type="text" id="remoteWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" /> ',h.height+' <input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" /> ','<img class="ke-refresh-btn" src="'+c+'refresh.png" width="16" height="16" alt="" style="cursor:pointer;" title="'+h.resetSize+'" />',"</div>",'<div class="ke-dialog-row">','<label style="width:60px;">'+h.align+"</label>",'<input type="radio" name="align" class="ke-inline-block" value="" checked="checked" /> <img name="defaultImg" src="'+c+'align_top.gif" width="23" height="25" alt="" />',' <input type="radio" name="align" class="ke-inline-block" value="left" /> <img name="leftImg" src="'+c+'align_left.gif" width="23" height="25" alt="" />',' <input type="radio" name="align" class="ke-inline-block" value="right" /> <img name="rightImg" src="'+c+'align_right.gif" width="23" height="25" alt="" />',"</div>",'<div class="ke-dialog-row">','<label for="remoteTitle" style="width:60px;">'+h.imgTitle+"</label>",'<input type="text" id="remoteTitle" class="ke-input-text" name="title" value="" style="width:200px;" />',"</div>","</div>",'<div class="tab2" style="display:none;">','<iframe name="'+v+'" style="display:none;"></iframe>','<form class="ke-upload-area ke-form" method="post" enctype="multipart/form-data" target="'+v+'" action="'+e.addParam(s,"dir=image")+'">','<div class="ke-dialog-row">',y.join(""),'<label style="width:60px;">'+h.localUrl+"</label>",'<input type="text" name="localUrl" class="ke-input-text" tabindex="-1" style="width:200px;" readonly="true" /> &nbsp;','<input type="button" class="ke-upload-button" value="'+h.upload+'" />',"</div>","</form>","</div>","</div>"].join(""),$=f||a?450:400,k=f&&l?300:250,_=t.createDialog({name:n,width:$,height:k,title:t.lang(n),body:x,yesBtn:{name:t.lang("yes"),click:function(n){if(!_.isLoading){if(f&&l&&w&&1===w.selectedIndex||!l)return""==I.fileBox.val()?void alert(t.lang("pleaseSelectFile")):(_.showLoading(t.lang("uploadLoading")),I.submit(),void T.val(""));var i=e.trim(S.val()),r=A.val(),o=D.val(),a=P.val(),s="";return O.each(function(){if(this.checked)return s=this.value,!1}),"http://"==i||e.invalidUrl(i)?(alert(t.lang("invalidUrl")),void S[0].focus()):/^\d*$/.test(r)?/^\d*$/.test(o)?void g.call(t,i,a,r,o,0,s):(alert(t.lang("invalidHeight")),void D[0].focus()):(alert(t.lang("invalidWidth")),void A[0].focus())}}},beforeRemove:function(){E.unbind(),A.unbind(),D.unbind(),M.unbind()}}),C=_.div,S=e('[name="url"]',C),T=e('[name="localUrl"]',C),E=e('[name="viewServer"]',C),A=e('.tab1 [name="width"]',C),D=e('.tab1 [name="height"]',C),M=e(".ke-refresh-btn",C),P=e('.tab1 [name="title"]',C),O=e('.tab1 [name="align"]',C);l&&f?(w=e.tabs({src:e(".tabs",C),afterSelect:function(e){}}),w.add({title:h.remoteImage,panel:e(".tab1",C)}),w.add({title:h.localImage,panel:e(".tab2",C)}),w.select(m)):l?e(".tab1",C).show():f&&e(".tab2",C).show();var I=e.uploadbutton({button:e(".ke-upload-button",C)[0],fieldName:d,form:e(".ke-form",C),target:v,width:60,afterUpload:function(i){if(_.hideLoading(),0===i.error){var r=i.url;o&&(r=e.formatUrl(r,"absolute")),t.afterUpload&&t.afterUpload.call(t,r,i,n),p?(e(".ke-dialog-row #remoteUrl",C).val(r),e(".ke-tabs-li",C)[0].click(),e(".ke-refresh-btn",C).click()):g.call(t,r,i.title,i.width,i.height,i.border,i.align)}else alert(i.message)},afterError:function(e){_.hideLoading(),t.errorDialog(e)}});I.fileBox.change(function(e){T.val(I.fileBox.val())}),a?E.click(function(n){t.loadPlugin("filemanager",function(){t.plugin.filemanagerDialog({viewType:"VIEW",dirName:"image",clickFn:function(n,i){t.dialogs.length>1&&(e('[name="url"]',C).val(n),t.afterSelectFile&&t.afterSelectFile.call(t,n),t.hideDialog())}})})}):E.hide();var N=0,L=0;return M.click(function(t){var n=e('<img src="'+S.val()+'" />',document).css({position:"absolute",visibility:"hidden",top:0,left:"-1000px"});n.bind("load",function(){r(n.width(),n.height()),n.remove()}),e(document.body).append(n)}),A.change(function(e){N>0&&D.val(Math.round(L/N*parseInt(this.value,10)))}),D.change(function(e){L>0&&A.val(Math.round(N/L*parseInt(this.value,10)))}),S.val(i.imageUrl),r(i.imageWidth,i.imageHeight),P.val(i.imageTitle),O.each(function(){if(this.value===i.imageAlign)return this.checked=!0,!1}),l&&0===m&&(S[0].focus(),S[0].select()),_},t.plugin.image={edit:function(){var e=t.plugin.getSelectedImage();t.plugin.imageDialog({imageUrl:e?e.attr("data-ke-src"):"http://",imageWidth:e?e.width():"",imageHeight:e?e.height():"",imageTitle:e?e.attr("title"):"",imageAlign:e?e.attr("align"):"",showRemote:r,showLocal:i,tabIndex:e?0:l,clickFn:function(n,i,r,o,a,s){e?(e.attr("src",n),e.attr("data-ke-src",n),e.attr("width",r),e.attr("height",o),e.attr("title",i),e.attr("align",s),e.attr("alt",i)):t.exec("insertimage",n,i,r,o,a,s),setTimeout(function(){t.hideDialog().focus()},0)}})},delete:function(){var e=t.plugin.getSelectedImage();"a"==e.parent().name&&(e=e.parent()),e.remove(),t.addBookmark()}},t.clickToolbar(n,t.plugin.image.edit)}),KindEditor.plugin("insertfile",function(e){var t=this,n="insertfile",i=e.undef(t.allowFileUpload,!0),r=e.undef(t.allowFileManager,!1),o=e.undef(t.formatUploadUrl,!0),a=e.undef(t.uploadJson,t.basePath+"php/upload_json.php"),s=e.undef(t.extraFileUploadParams,{}),l=e.undef(t.filePostName,"imgFile"),c=t.lang(n+".");t.plugin.fileDialog=function(u){var d=e.undef(u.fileUrl,"http://"),p=e.undef(u.fileTitle,""),h=u.clickFn,f=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keUrl" style="width:60px;">'+c.url+"</label>",'<input type="text" id="keUrl" name="url" class="ke-input-text" style="width:160px;" /> &nbsp;','<input type="button" class="ke-upload-button" value="'+c.upload+'" /> &nbsp;','<span class="ke-button-common ke-button-outer">','<input type="button" class="ke-button-common ke-button" name="viewServer" value="'+c.viewServer+'" />',"</span>","</div>",'<div class="ke-dialog-row">','<label for="keTitle" style="width:60px;">'+c.title+"</label>",'<input type="text" id="keTitle" class="ke-input-text" name="title" value="" style="width:160px;" /></div>',"</div>","</form>","</div>"].join(""),m=t.createDialog({name:n,width:450,title:t.lang(n),body:f,yesBtn:{name:t.lang("yes"),click:function(n){var i=e.trim(v.val()),r=b.val();return"http://"==i||e.invalidUrl(i)?(alert(t.lang("invalidUrl")),void v[0].focus()):(""===e.trim(r)&&(r=i),void h.call(t,i,r))}}}),g=m.div,v=e('[name="url"]',g),y=e('[name="viewServer"]',g),b=e('[name="title"]',g);if(i){var w=e.uploadbutton({button:e(".ke-upload-button",g)[0],fieldName:l,url:e.addParam(a,"dir=file"),extraParams:s,afterUpload:function(i){if(m.hideLoading(),0===i.error){var r=i.url;o&&(r=e.formatUrl(r,"absolute")),v.val(r),t.afterUpload&&t.afterUpload.call(t,r,i,n),alert(t.lang("uploadSuccess"))}else alert(i.message)},afterError:function(e){m.hideLoading(),t.errorDialog(e)}});w.fileBox.change(function(e){m.showLoading(t.lang("uploadLoading")),w.submit()})}else e(".ke-upload-button",g).hide();r?y.click(function(n){t.loadPlugin("filemanager",function(){t.plugin.filemanagerDialog({viewType:"LIST",dirName:"file",clickFn:function(n,i){t.dialogs.length>1&&(e('[name="url"]',g).val(n),t.afterSelectFile&&t.afterSelectFile.call(t,n),t.hideDialog())}})})}):y.hide(),v.val(d),b.val(p),v[0].focus(),v[0].select()},t.clickToolbar(n,function(){t.plugin.fileDialog({clickFn:function(e,n){var i='<a class="ke-insertfile" href="'+e+'" data-ke-src="'+e+'" target="_blank">'+n+"</a>";t.insertHtml(i).hideDialog().focus()}})})}),KindEditor.plugin("lineheight",function(e){var t=this,n="lineheight",i=t.lang(n+".");t.clickToolbar(n,function(){var r="",o=t.cmd.commonNode({"*":".line-height"});o&&(r=o.css("line-height"));var a=t.createMenu({name:n,width:150});e.each(i.lineHeight,function(n,i){e.each(i,function(e,n){a.addItem({title:n,checked:r===e,click:function(){t.cmd.toggle('<span style="line-height:'+e+';"></span>',{span:".line-height="+e}),t.updateState(),t.addBookmark(),t.hideMenu()}})})})})}),KindEditor.plugin("link",function(e){var t=this,n="link";t.plugin.link={edit:function(){var i=t.lang(n+"."),r='<div style="padding:20px;"><div class="ke-dialog-row"><label for="keUrl" style="width:60px;">'+i.url+'</label><input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:260px;" /></div><div class="ke-dialog-row""><label for="keType" style="width:60px;">'+i.linkType+'</label><select id="keType" name="type"></select></div></div>',o=t.createDialog({name:n,width:450,title:t.lang(n),body:r,yesBtn:{name:t.lang("yes"),click:function(n){var i=e.trim(s.val());return"http://"==i||e.invalidUrl(i)?(alert(t.lang("invalidUrl")),void s[0].focus()):void t.exec("createlink",i,l.val()).hideDialog().focus();
}}}),a=o.div,s=e('input[name="url"]',a),l=e('select[name="type"]',a);s.val("http://"),l[0].options[0]=new Option(i.newWindow,"_blank"),l[0].options[1]=new Option(i.selfWindow,""),t.cmd.selection();var c=t.plugin.getSelectedLink();c&&(t.cmd.range.selectNode(c[0]),t.cmd.select(),s.val(c.attr("data-ke-src")),l.val(c.attr("target"))),s[0].focus(),s[0].select()},delete:function(){t.exec("unlink",null)}},t.clickToolbar(n,t.plugin.link.edit)}),KindEditor.plugin("media",function(e){var t=this,n="media",i=t.lang(n+"."),r=e.undef(t.allowMediaUpload,!0),o=e.undef(t.allowFileManager,!1),a=e.undef(t.formatUploadUrl,!0),s=e.undef(t.extraFileUploadParams,{}),l=e.undef(t.filePostName,"imgFile"),c=e.undef(t.uploadJson,t.basePath+"php/upload_json.php");t.plugin.media={edit:function(){var u=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keUrl" style="width:60px;">'+i.url+"</label>",'<input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:160px;" /> &nbsp;','<input type="button" class="ke-upload-button" value="'+i.upload+'" /> &nbsp;','<span class="ke-button-common ke-button-outer">','<input type="button" class="ke-button-common ke-button" name="viewServer" value="'+i.viewServer+'" />',"</span>","</div>",'<div class="ke-dialog-row">','<label for="keWidth" style="width:60px;">'+i.width+"</label>",'<input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="550" maxlength="4" />',"</div>",'<div class="ke-dialog-row">','<label for="keHeight" style="width:60px;">'+i.height+"</label>",'<input type="text" id="keHeight" class="ke-input-text ke-input-number" name="height" value="400" maxlength="4" />',"</div>",'<div class="ke-dialog-row">','<label for="keAutostart">'+i.autostart+"</label>",'<input type="checkbox" id="keAutostart" name="autostart" value="" /> ',"</div>","</div>"].join(""),d=t.createDialog({name:n,width:450,height:230,title:t.lang(n),body:u,yesBtn:{name:t.lang("yes"),click:function(n){var i=e.trim(h.val()),r=m.val(),o=g.val();if("http://"==i||e.invalidUrl(i))return alert(t.lang("invalidUrl")),void h[0].focus();if(!/^\d*$/.test(r))return alert(t.lang("invalidWidth")),void m[0].focus();if(!/^\d*$/.test(o))return alert(t.lang("invalidHeight")),void g[0].focus();var a=e.mediaImg(t.themesPath+"common/blank.gif",{src:i,type:e.mediaType(i),width:r,height:o,autostart:v[0].checked?"true":"false",loop:"true"});t.insertHtml(a).hideDialog().focus()}}}),p=d.div,h=e('[name="url"]',p),f=e('[name="viewServer"]',p),m=e('[name="width"]',p),g=e('[name="height"]',p),v=e('[name="autostart"]',p);if(h.val("http://"),r){var y=e.uploadbutton({button:e(".ke-upload-button",p)[0],fieldName:l,extraParams:s,url:e.addParam(c,"dir=media"),afterUpload:function(i){if(d.hideLoading(),0===i.error){var r=i.url;a&&(r=e.formatUrl(r,"absolute")),h.val(r),t.afterUpload&&t.afterUpload.call(t,r,i,n),alert(t.lang("uploadSuccess"))}else alert(i.message)},afterError:function(e){d.hideLoading(),t.errorDialog(e)}});y.fileBox.change(function(e){d.showLoading(t.lang("uploadLoading")),y.submit()})}else e(".ke-upload-button",p).hide();o?f.click(function(n){t.loadPlugin("filemanager",function(){t.plugin.filemanagerDialog({viewType:"LIST",dirName:"media",clickFn:function(n,i){t.dialogs.length>1&&(e('[name="url"]',p).val(n),t.afterSelectFile&&t.afterSelectFile.call(t,n),t.hideDialog())}})})}):f.hide();var b=t.plugin.getSelectedMedia();if(b){var w=e.mediaAttrs(b.attr("data-ke-tag"));h.val(w.src),m.val(e.removeUnit(b.css("width"))||w.width||0),g.val(e.removeUnit(b.css("height"))||w.height||0),v[0].checked="true"===w.autostart}h[0].focus(),h[0].select()},delete:function(){t.plugin.getSelectedMedia().remove(),t.addBookmark()}},t.clickToolbar(n,t.plugin.media.edit)}),function(e){function t(e){this.init(e)}e.extend(t,{init:function(t){function n(t,n){e(".ke-status > div",t).hide(),e(".ke-message",t).addClass("ke-error").show().html(e.escape(n))}var i=this;t.afterError=t.afterError||function(e){alert(e)},i.options=t,i.progressbars={},i.div=e(t.container).html(['<div class="ke-swfupload">','<div class="ke-swfupload-top">','<div class="ke-inline-block ke-swfupload-button">','<input type="button" value="Browse" />',"</div>",'<div class="ke-inline-block ke-swfupload-desc">'+t.uploadDesc+"</div>",'<span class="ke-button-common ke-button-outer ke-swfupload-startupload">','<input type="button" class="ke-button-common ke-button" value="'+t.startButtonValue+'" />',"</span>","</div>",'<div class="ke-swfupload-body"></div>',"</div>"].join("")),i.bodyDiv=e(".ke-swfupload-body",i.div);var r={debug:!1,upload_url:t.uploadUrl,flash_url:t.flashUrl,file_post_name:t.filePostName,button_placeholder:e(".ke-swfupload-button > input",i.div)[0],button_image_url:t.buttonImageUrl,button_width:t.buttonWidth,button_height:t.buttonHeight,button_cursor:SWFUpload.CURSOR.HAND,file_types:t.fileTypes,file_types_description:t.fileTypesDesc,file_upload_limit:t.fileUploadLimit,file_size_limit:t.fileSizeLimit,post_params:t.postParams,file_queued_handler:function(e){e.url=i.options.fileIconUrl,i.appendFile(e)},file_queue_error_handler:function(n,i,r){var o="";switch(i){case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:o=t.queueLimitExceeded;break;case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:o=t.fileExceedsSizeLimit;break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:o=t.zeroByteFile;break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:o=t.invalidFiletype;break;default:o=t.unknownError}e.DEBUG&&alert(o)},upload_start_handler:function(t){var n=this,i=e('div[data-id="'+t.id+'"]',n.bodyDiv);e(".ke-status > div",i).hide(),e(".ke-progressbar",i).show()},upload_progress_handler:function(e,t,n){var r=Math.round(100*t/n),o=i.progressbars[e.id];o.bar.css("width",Math.round(80*r/100)+"px"),o.percent.html(r+"%")},upload_error_handler:function(t,r,o){if(t&&t.filestatus==SWFUpload.FILE_STATUS.ERROR){var a=e('div[data-id="'+t.id+'"]',i.bodyDiv).eq(0);n(a,i.options.errorMessage)}},upload_success_handler:function(t,r){var o=e('div[data-id="'+t.id+'"]',i.bodyDiv).eq(0),a={};try{a=e.json(r)}catch(e){i.options.afterError.call(this,"<!doctype html><html>"+r+"</html>")}return 0!==a.error?void n(o,e.DEBUG?a.message:i.options.errorMessage):(t.url=a.url,e(".ke-img",o).attr("src",t.url).attr("data-status",t.filestatus).data("data",a),void e(".ke-status > div",o).hide())}};i.swfu=new SWFUpload(r),e(".ke-swfupload-startupload input",i.div).click(function(){i.swfu.startUpload()})},getUrlList:function(){var t=[];return e(".ke-img",self.bodyDiv).each(function(){var n=e(this),i=n.attr("data-status");i==SWFUpload.FILE_STATUS.COMPLETE&&t.push(n.data("data"))}),t},removeFile:function(t){var n=this;n.swfu.cancelUpload(t);var i=e('div[data-id="'+t+'"]',n.bodyDiv);e(".ke-photo",i).unbind(),e(".ke-delete",i).unbind(),i.remove()},removeFiles:function(){var t=this;e(".ke-item",t.bodyDiv).each(function(){t.removeFile(e(this).attr("data-id"))})},appendFile:function(t){var n=this,i=e('<div class="ke-inline-block ke-item" data-id="'+t.id+'"></div>');n.bodyDiv.append(i);var r=e('<div class="ke-inline-block ke-photo"></div>').mouseover(function(t){e(this).addClass("ke-on")}).mouseout(function(t){e(this).removeClass("ke-on")});i.append(r);var o=e('<img src="'+t.url+'" class="ke-img" data-status="'+t.filestatus+'" width="80" height="80" alt="'+t.name+'" />');r.append(o),e('<span class="ke-delete"></span>').appendTo(r).click(function(){n.removeFile(t.id)});var a=e('<div class="ke-status"></div>').appendTo(r);e(['<div class="ke-progressbar">','<div class="ke-progressbar-bar"><div class="ke-progressbar-bar-inner"></div></div>','<div class="ke-progressbar-percent">0%</div></div>'].join("")).hide().appendTo(a),e('<div class="ke-message">'+n.options.pendingMessage+"</div>").appendTo(a),i.append('<div class="ke-name">'+t.name+"</div>"),n.progressbars[t.id]={bar:e(".ke-progressbar-bar-inner",r),percent:e(".ke-progressbar-percent",r)}},remove:function(){this.removeFiles(),this.swfu.destroy(),this.div.html("")}}),e.swfupload=function(e,n){return new t(e,n)}}(KindEditor),KindEditor.plugin("multiimage",function(e){var t=this,n="multiimage",i=(e.undef(t.formatUploadUrl,!0),e.undef(t.uploadJson,t.basePath+"php/upload_json.php")),r=t.pluginsPath+"multiimage/images/",o=e.undef(t.imageSizeLimit,"1MB"),a=(e.undef(t.imageFileTypes,"*.jpg;*.gif;*.png"),e.undef(t.imageUploadLimit,20)),s=e.undef(t.filePostName,"imgFile"),l=t.lang(n+".");t.plugin.multiImageDialog=function(c){var u=c.clickFn,d=e.tmpl(l.uploadDesc,{uploadLimit:a,sizeLimit:o}),p=['<div style="padding:20px;">','<div class="swfupload">',"</div>","</div>"].join(""),h=t.createDialog({name:n,width:650,height:510,title:t.lang(n),body:p,previewBtn:{name:l.insertAll,click:function(e){u.call(t,m.getUrlList())}},yesBtn:{name:l.clearAll,click:function(e){m.removeFiles()}},beforeRemove:function(){(!e.IE||e.V<=8)&&m.remove()}}),f=h.div,m=e.swfupload({container:e(".swfupload",f),buttonImageUrl:r+("zh-CN"==t.langType?"select-files-zh-CN.png":"select-files-en.png"),buttonWidth:"zh-CN"==t.langType?72:88,buttonHeight:23,fileIconUrl:r+"image.png",uploadDesc:d,startButtonValue:l.startUpload,uploadUrl:e.addParam(i,"dir=image"),flashUrl:r+"swfupload.swf",filePostName:s,fileTypes:"*.jpg;*.jpeg;*.gif;*.png;*.bmp",fileTypesDesc:"Image Files",fileUploadLimit:a,fileSizeLimit:o,postParams:e.undef(t.extraFileUploadParams,{}),queueLimitExceeded:l.queueLimitExceeded,fileExceedsSizeLimit:l.fileExceedsSizeLimit,zeroByteFile:l.zeroByteFile,invalidFiletype:l.invalidFiletype,unknownError:l.unknownError,pendingMessage:l.pending,errorMessage:l.uploadError,afterError:function(e){t.errorDialog(e)}});return h},t.clickToolbar(n,function(){t.plugin.multiImageDialog({clickFn:function(n){0!==n.length&&(e.each(n,function(e,n){t.afterUpload&&t.afterUpload.call(t,n.url,n,"multiimage"),t.exec("insertimage",n.url,n.title,n.width,n.height,n.border,n.align)}),setTimeout(function(){t.hideDialog().focus()},0))}})})}),function(){window.SWFUpload=function(e){this.initSWFUpload(e)},SWFUpload.prototype.initSWFUpload=function(e){try{this.customSettings={},this.settings=e,this.eventQueue=[],this.movieName="KindEditor_SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(),this.loadFlash(),this.displayDebugInfo()}catch(e){throw delete SWFUpload.instances[this.movieName],e}},SWFUpload.instances={},SWFUpload.movieCount=0,SWFUpload.version="2.2.0 2009-03-25",SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130},SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290},SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5},SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120},SWFUpload.CURSOR={ARROW:-1,HAND:-2},SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"},SWFUpload.completeURL=function(e){if("string"!=typeof e||e.match(/^https?:\/\//i)||e.match(/^\//))return e;var t=(window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),window.location.pathname.lastIndexOf("/"));return t<=0?path="/":path=window.location.pathname.substr(0,t)+"/",path+e},SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(e,t){this.settings[e]=void 0==this.settings[e]?t:this.settings[e]},this.ensureDefault("upload_url",""),this.ensureDefault("preserve_relative_urls",!1),this.ensureDefault("file_post_name","Filedata"),this.ensureDefault("post_params",{}),this.ensureDefault("use_query_string",!1),this.ensureDefault("requeue_on_error",!1),this.ensureDefault("http_success",[]),this.ensureDefault("assume_success_timeout",0),this.ensureDefault("file_types","*.*"),this.ensureDefault("file_types_description","All Files"),this.ensureDefault("file_size_limit",0),this.ensureDefault("file_upload_limit",0),this.ensureDefault("file_queue_limit",0),this.ensureDefault("flash_url","swfupload.swf"),this.ensureDefault("prevent_swf_caching",!0),this.ensureDefault("button_image_url",""),this.ensureDefault("button_width",1),this.ensureDefault("button_height",1),this.ensureDefault("button_text",""),this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;"),this.ensureDefault("button_text_top_padding",0),this.ensureDefault("button_text_left_padding",0),this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES),this.ensureDefault("button_disabled",!1),this.ensureDefault("button_placeholder_id",""),this.ensureDefault("button_placeholder",null),this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW),this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW),this.ensureDefault("debug",!1),this.settings.debug_enabled=this.settings.debug,this.settings.return_upload_start_handler=this.returnUploadStart,this.ensureDefault("swfupload_loaded_handler",null),this.ensureDefault("file_dialog_start_handler",null),this.ensureDefault("file_queued_handler",null),this.ensureDefault("file_queue_error_handler",null),this.ensureDefault("file_dialog_complete_handler",null),this.ensureDefault("upload_start_handler",null),this.ensureDefault("upload_progress_handler",null),this.ensureDefault("upload_error_handler",null),this.ensureDefault("upload_success_handler",null),this.ensureDefault("upload_complete_handler",null),this.ensureDefault("debug_handler",this.debugMessage),this.ensureDefault("custom_settings",{}),this.customSettings=this.settings.custom_settings,this.settings.prevent_swf_caching&&(this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()),this.settings.preserve_relative_urls||(this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)),delete this.ensureDefault},SWFUpload.prototype.loadFlash=function(){var e,t;if(null!==document.getElementById(this.movieName))throw"ID "+this.movieName+" is already in use. The Flash Object could not be added";if(e=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder,void 0==e)throw"Could not find the placeholder element: "+this.settings.button_placeholder_id;t=document.createElement("div"),t.innerHTML=this.getFlashHTML(),e.parentNode.replaceChild(t.firstChild,e),void 0==window[this.movieName]&&(window[this.movieName]=this.getMovieElement())},SWFUpload.prototype.getFlashHTML=function(){var e="";return KindEditor.IE&&KindEditor.V>8&&(e=' classid = "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"'),['<object id="',this.movieName,'"'+e+' type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.settings.flash_url,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")},SWFUpload.prototype.getFlashVars=function(){var e=this.buildParamString(),t=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(t),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",encodeURIComponent(e),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")},SWFUpload.prototype.getMovieElement=function(){if(void 0==this.movieElement&&(this.movieElement=document.getElementById(this.movieName)),null===this.movieElement)throw"Could not find Flash element";return this.movieElement},SWFUpload.prototype.buildParamString=function(){var e=this.settings.post_params,t=[];if("object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n.toString())+"="+encodeURIComponent(e[n].toString()));return t.join("&amp;")},SWFUpload.prototype.destroy=function(){try{this.cancelUpload(null,!1);var e=null;if(e=this.getMovieElement(),e&&"unknown"==typeof e.CallFunction){for(var t in e)try{"function"==typeof e[t]&&(e[t]=null)}catch(e){}try{e.parentNode.removeChild(e)}catch(e){}}return window[this.movieName]=null,SWFUpload.instances[this.movieName]=null,delete SWFUpload.instances[this.movieName],this.movieElement=null,this.settings=null,this.customSettings=null,this.eventQueue=null,this.movieName=null,!0}catch(e){return!1}},SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","\t","upload_url:               ",this.settings.upload_url,"\n","\t","flash_url:                ",this.settings.flash_url,"\n","\t","use_query_string:         ",this.settings.use_query_string.toString(),"\n","\t","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","\t","http_success:             ",this.settings.http_success.join(", "),"\n","\t","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","\t","file_post_name:           ",this.settings.file_post_name,"\n","\t","post_params:              ",this.settings.post_params.toString(),"\n","\t","file_types:               ",this.settings.file_types,"\n","\t","file_types_description:   ",this.settings.file_types_description,"\n","\t","file_size_limit:          ",this.settings.file_size_limit,"\n","\t","file_upload_limit:        ",this.settings.file_upload_limit,"\n","\t","file_queue_limit:         ",this.settings.file_queue_limit,"\n","\t","debug:                    ",this.settings.debug.toString(),"\n","\t","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","\t","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","\t","button_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n","\t","button_image_url:         ",this.settings.button_image_url.toString(),"\n","\t","button_width:             ",this.settings.button_width.toString(),"\n","\t","button_height:            ",this.settings.button_height.toString(),"\n","\t","button_text:              ",this.settings.button_text.toString(),"\n","\t","button_text_style:        ",this.settings.button_text_style.toString(),"\n","\t","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","\t","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","\t","button_action:            ",this.settings.button_action.toString(),"\n","\t","button_disabled:          ",this.settings.button_disabled.toString(),"\n","\t","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","\t","swfupload_loaded_handler assigned:  ",("function"==typeof this.settings.swfupload_loaded_handler).toString(),"\n","\t","file_dialog_start_handler assigned: ",("function"==typeof this.settings.file_dialog_start_handler).toString(),"\n","\t","file_queued_handler assigned:       ",("function"==typeof this.settings.file_queued_handler).toString(),"\n","\t","file_queue_error_handler assigned:  ",("function"==typeof this.settings.file_queue_error_handler).toString(),"\n","\t","upload_start_handler assigned:      ",("function"==typeof this.settings.upload_start_handler).toString(),"\n","\t","upload_progress_handler assigned:   ",("function"==typeof this.settings.upload_progress_handler).toString(),"\n","\t","upload_error_handler assigned:      ",("function"==typeof this.settings.upload_error_handler).toString(),"\n","\t","upload_success_handler assigned:    ",("function"==typeof this.settings.upload_success_handler).toString(),"\n","\t","upload_complete_handler assigned:   ",("function"==typeof this.settings.upload_complete_handler).toString(),"\n","\t","debug_handler assigned:             ",("function"==typeof this.settings.debug_handler).toString(),"\n"].join(""))},SWFUpload.prototype.addSetting=function(e,t,n){return void 0==t?this.settings[e]=n:this.settings[e]=t},SWFUpload.prototype.getSetting=function(e){return void 0!=this.settings[e]?this.settings[e]:""},SWFUpload.prototype.callFlash=function(functionName,argumentArray){argumentArray=argumentArray||[];var movieElement=this.getMovieElement(),returnValue,returnString;try{returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>"),returnValue=eval(returnString)}catch(e){throw"Call to "+functionName+" failed"}return void 0!=returnValue&&"object"==typeof returnValue.post&&(returnValue=this.unescapeFilePostParams(returnValue)),returnValue},SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")},SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")},SWFUpload.prototype.startUpload=function(e){this.callFlash("StartUpload",[e])},SWFUpload.prototype.cancelUpload=function(e,t){t!==!1&&(t=!0),this.callFlash("CancelUpload",[e,t])},SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")},SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")},SWFUpload.prototype.setStats=function(e){this.callFlash("SetStats",[e])},SWFUpload.prototype.getFile=function(e){return"number"==typeof e?this.callFlash("GetFileByIndex",[e]):this.callFlash("GetFile",[e])},SWFUpload.prototype.addFileParam=function(e,t,n){return this.callFlash("AddFileParam",[e,t,n])},SWFUpload.prototype.removeFileParam=function(e,t){this.callFlash("RemoveFileParam",[e,t])},SWFUpload.prototype.setUploadURL=function(e){this.settings.upload_url=e.toString(),this.callFlash("SetUploadURL",[e])},SWFUpload.prototype.setPostParams=function(e){this.settings.post_params=e,this.callFlash("SetPostParams",[e])},SWFUpload.prototype.addPostParam=function(e,t){this.settings.post_params[e]=t,this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.removePostParam=function(e){delete this.settings.post_params[e],this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.setFileTypes=function(e,t){this.settings.file_types=e,this.settings.file_types_description=t,this.callFlash("SetFileTypes",[e,t])},SWFUpload.prototype.setFileSizeLimit=function(e){this.settings.file_size_limit=e,this.callFlash("SetFileSizeLimit",[e])},SWFUpload.prototype.setFileUploadLimit=function(e){this.settings.file_upload_limit=e,this.callFlash("SetFileUploadLimit",[e])},SWFUpload.prototype.setFileQueueLimit=function(e){this.settings.file_queue_limit=e,this.callFlash("SetFileQueueLimit",[e])},SWFUpload.prototype.setFilePostName=function(e){this.settings.file_post_name=e,this.callFlash("SetFilePostName",[e])},SWFUpload.prototype.setUseQueryString=function(e){this.settings.use_query_string=e,this.callFlash("SetUseQueryString",[e])},SWFUpload.prototype.setRequeueOnError=function(e){this.settings.requeue_on_error=e,this.callFlash("SetRequeueOnError",[e])},SWFUpload.prototype.setHTTPSuccess=function(e){"string"==typeof e&&(e=e.replace(" ","").split(",")),this.settings.http_success=e,this.callFlash("SetHTTPSuccess",[e])},SWFUpload.prototype.setAssumeSuccessTimeout=function(e){this.settings.assume_success_timeout=e,this.callFlash("SetAssumeSuccessTimeout",[e])},SWFUpload.prototype.setDebugEnabled=function(e){this.settings.debug_enabled=e,this.callFlash("SetDebugEnabled",[e])},SWFUpload.prototype.setButtonImageURL=function(e){void 0==e&&(e=""),this.settings.button_image_url=e,this.callFlash("SetButtonImageURL",[e])},SWFUpload.prototype.setButtonDimensions=function(e,t){this.settings.button_width=e,this.settings.button_height=t;var n=this.getMovieElement();void 0!=n&&(n.style.width=e+"px",n.style.height=t+"px"),this.callFlash("SetButtonDimensions",[e,t])},SWFUpload.prototype.setButtonText=function(e){this.settings.button_text=e,this.callFlash("SetButtonText",[e])},SWFUpload.prototype.setButtonTextPadding=function(e,t){this.settings.button_text_top_padding=t,this.settings.button_text_left_padding=e,this.callFlash("SetButtonTextPadding",[e,t])},SWFUpload.prototype.setButtonTextStyle=function(e){this.settings.button_text_style=e,this.callFlash("SetButtonTextStyle",[e])},SWFUpload.prototype.setButtonDisabled=function(e){this.settings.button_disabled=e,this.callFlash("SetButtonDisabled",[e])},SWFUpload.prototype.setButtonAction=function(e){this.settings.button_action=e,this.callFlash("SetButtonAction",[e])},SWFUpload.prototype.setButtonCursor=function(e){this.settings.button_cursor=e,this.callFlash("SetButtonCursor",[e])},SWFUpload.prototype.queueEvent=function(e,t){void 0==t?t=[]:t instanceof Array||(t=[t]);var n=this;if("function"==typeof this.settings[e])this.eventQueue.push(function(){this.settings[e].apply(this,t)}),setTimeout(function(){n.executeNextEvent()},0);else if(null!==this.settings[e])throw"Event handler "+e+" is unknown or is not a function"},SWFUpload.prototype.executeNextEvent=function(){var e=this.eventQueue?this.eventQueue.shift():null;"function"==typeof e&&e.apply(this)},SWFUpload.prototype.unescapeFilePostParams=function(e){var t,n=/[$]([0-9a-f]{4})/i,i={};if(void 0!=e){for(var r in e.post)if(e.post.hasOwnProperty(r)){t=r;for(var o;null!==(o=n.exec(t));)t=t.replace(o[0],String.fromCharCode(parseInt("0x"+o[1],16)));i[t]=e.post[r]}e.post=i}return e},SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(e){return!1}},SWFUpload.prototype.flashReady=function(){var e=this.getMovieElement();return e?(this.cleanUp(e),void this.queueEvent("swfupload_loaded_handler")):void this.debug("Flash called back ready but the flash movie can't be found.")},SWFUpload.prototype.cleanUp=function(e){try{if(this.movieElement&&"unknown"==typeof e.CallFunction){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(var t in e)try{"function"==typeof e[t]&&(e[t]=null)}catch(e){}}}catch(e){}window.__flash__removeCallback=function(e,t){try{e&&(e[t]=null)}catch(e){}}},SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")},SWFUpload.prototype.fileQueued=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("file_queued_handler",e)},SWFUpload.prototype.fileQueueError=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("file_queue_error_handler",[e,t,n])},SWFUpload.prototype.fileDialogComplete=function(e,t,n){this.queueEvent("file_dialog_complete_handler",[e,t,n])},SWFUpload.prototype.uploadStart=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("return_upload_start_handler",e)},SWFUpload.prototype.returnUploadStart=function(e){var t;if("function"==typeof this.settings.upload_start_handler)e=this.unescapeFilePostParams(e),t=this.settings.upload_start_handler.call(this,e);else if(void 0!=this.settings.upload_start_handler)throw"upload_start_handler must be a function";void 0===t&&(t=!0),t=!!t,this.callFlash("ReturnUploadStart",[t])},SWFUpload.prototype.uploadProgress=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("upload_progress_handler",[e,t,n])},SWFUpload.prototype.uploadError=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("upload_error_handler",[e,t,n])},SWFUpload.prototype.uploadSuccess=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("upload_success_handler",[e,t,n])},SWFUpload.prototype.uploadComplete=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("upload_complete_handler",e)},SWFUpload.prototype.debug=function(e){this.queueEvent("debug_handler",e)},SWFUpload.prototype.debugMessage=function(e){if(this.settings.debug){var t,n=[];if("object"==typeof e&&"string"==typeof e.name&&"string"==typeof e.message){for(var i in e)e.hasOwnProperty(i)&&n.push(i+": "+e[i]);t=n.join("\n")||"",n=t.split("\n"),t="EXCEPTION: "+n.join("\nEXCEPTION: "),SWFUpload.Console.writeLine(t)}else SWFUpload.Console.writeLine(e)}},SWFUpload.Console={},SWFUpload.Console.writeLine=function(e){var t,n;try{t=document.getElementById("SWFUpload_Console"),t||(n=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(n),t=document.createElement("textarea"),t.id="SWFUpload_Console",t.style.fontFamily="monospace",t.setAttribute("wrap","off"),t.wrap="off",t.style.overflow="auto",t.style.width="700px",t.style.height="350px",t.style.margin="5px",n.appendChild(t)),t.value+=e+"\n",t.scrollTop=t.scrollHeight-t.clientHeight}catch(e){alert("Exception: "+e.name+" Message: "+e.message)}}}(),function(){"function"==typeof SWFUpload&&(SWFUpload.queue={},SWFUpload.prototype.initSettings=function(e){return function(){"function"==typeof e&&e.call(this),this.queueSettings={},this.queueSettings.queue_cancelled_flag=!1,this.queueSettings.queue_upload_count=0,this.queueSettings.user_upload_complete_handler=this.settings.upload_complete_handler,this.queueSettings.user_upload_start_handler=this.settings.upload_start_handler,this.settings.upload_complete_handler=SWFUpload.queue.uploadCompleteHandler,this.settings.upload_start_handler=SWFUpload.queue.uploadStartHandler,this.settings.queue_complete_handler=this.settings.queue_complete_handler||null}}(SWFUpload.prototype.initSettings),SWFUpload.prototype.startUpload=function(e){this.queueSettings.queue_cancelled_flag=!1,this.callFlash("StartUpload",[e])},SWFUpload.prototype.cancelQueue=function(){this.queueSettings.queue_cancelled_flag=!0,this.stopUpload();for(var e=this.getStats();e.files_queued>0;)this.cancelUpload(),e=this.getStats()},SWFUpload.queue.uploadStartHandler=function(e){var t;return"function"==typeof this.queueSettings.user_upload_start_handler&&(t=this.queueSettings.user_upload_start_handler.call(this,e)),t=t!==!1,this.queueSettings.queue_cancelled_flag=!t,t},SWFUpload.queue.uploadCompleteHandler=function(e){var t,n=this.queueSettings.user_upload_complete_handler;if(e.filestatus===SWFUpload.FILE_STATUS.COMPLETE&&this.queueSettings.queue_upload_count++,t="function"==typeof n?n.call(this,e)!==!1:e.filestatus!==SWFUpload.FILE_STATUS.QUEUED){var i=this.getStats();i.files_queued>0&&this.queueSettings.queue_cancelled_flag===!1?this.startUpload():this.queueSettings.queue_cancelled_flag===!1?(this.queueEvent("queue_complete_handler",[this.queueSettings.queue_upload_count]),this.queueSettings.queue_upload_count=0):(this.queueSettings.queue_cancelled_flag=!1,this.queueSettings.queue_upload_count=0)}})}(),KindEditor.plugin("pagebreak",function(e){
var t=this,n="pagebreak",i=e.undef(t.pagebreakHtml,'<hr style="page-break-after: always;" class="ke-pagebreak" />');t.clickToolbar(n,function(){var n=t.cmd,r=n.range;t.focus();var o="br"==t.newlineTag||e.WEBKIT?"":'<span id="__kindeditor_tail_tag__"></span>';if(t.insertHtml(i+o),""!==o){var a=e("#__kindeditor_tail_tag__",t.edit.doc);r.selectNodeContents(a[0]),a.removeAttr("id"),n.select()}})}),KindEditor.plugin("plainpaste",function(e){var t=this,n="plainpaste";t.clickToolbar(n,function(){var i=t.lang(n+"."),r='<div style="padding:10px 20px;"><div style="margin-bottom:10px;">'+i.comment+'</div><textarea class="ke-textarea" style="width:408px;height:260px;"></textarea></div>',o=t.createDialog({name:n,width:450,title:t.lang(n),body:r,yesBtn:{name:t.lang("yes"),click:function(n){var i=a.val();i=e.escape(i),i=i.replace(/ {2}/g," &nbsp;"),i="p"==t.newlineTag?i.replace(/^/,"<p>").replace(/$/,"</p>").replace(/\n/g,"</p><p>"):i.replace(/\n/g,"<br />$&"),t.insertHtml(i).hideDialog().focus()}}}),a=e("textarea",o.div);a[0].focus()})}),KindEditor.plugin("preview",function(e){var t=this,n="preview";t.clickToolbar(n,function(){var i=(t.lang(n+"."),'<div style="padding:10px 20px;"><iframe class="ke-textarea" frameborder="0" style="width:708px;height:400px;"></iframe></div>'),r=t.createDialog({name:n,width:750,title:t.lang(n),body:i}),o=e("iframe",r.div),a=e.iframeDoc(o);a.open(),a.write(t.fullHtml()),a.close(),e(a.body).css("background-color","#FFF"),o[0].contentWindow.focus()})}),KindEditor.plugin("quickformat",function(e){function t(e){for(var t=e.first();t&&t.first();)t=t.first();return t}var n=this,i="quickformat",r=e.toMap("blockquote,center,div,h1,h2,h3,h4,h5,h6,p");n.clickToolbar(i,function(){n.focus();for(var i,o=n.edit.doc,a=n.cmd.range,s=e(o.body).first(),l=[],c=[],u=a.createBookmark(!0);s;){i=s.next();var d=t(s);d&&"img"==d.name||(r[s.name]?(s.html(s.html().replace(/^(\s|&nbsp;|　)+/gi,"")),s.css("text-indent","2em")):c.push(s),(!i||r[i.name]||r[s.name]&&!r[i.name])&&(c.length>0&&l.push(c),c=[])),s=i}e.each(l,function(t,n){var i=e('<p style="text-indent:2em;"></p>',o);n[0].before(i),e.each(n,function(e,t){i.append(t)})}),a.moveToBookmark(u),n.addBookmark()})}),KindEditor.plugin("table",function(e){function t(e,t){t=t.toUpperCase(),e.css("background-color",t),e.css("color","#000000"===t?"#FFFFFF":"#000000"),e.html(t)}function n(n,i){function o(){e.each(l,function(){this.remove()}),l=[],e(document).unbind("click,mousedown",o),n.unbind("click,mousedown",o)}i.bind("click,mousedown",function(e){e.stopPropagation()}),i.click(function(i){o();var a=e(this),s=a.pos(),c=e.colorpicker({x:s.x,y:s.y+a.height(),z:811214,selectedColor:e(this).html(),colors:r.colorTable,noColor:r.lang("noColor"),shadowMode:r.shadowMode,click:function(e){t(a,e),o()}});l.push(c),e(document).bind("click,mousedown",o),n.bind("click,mousedown",o)})}function i(e,t,n){for(var i=0,r=0,o=t.cells.length;r<o&&t.cells[r]!=n;r++)i+=t.cells[r].rowSpan-1;return n.cellIndex-i}var r=this,o="table",a=r.lang(o+"."),s="ke-zeroborder",l=[];r.plugin.table={prop:function(i){var l=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keRows" style="width:90px;">'+a.cells+"</label>",a.rows+' <input type="text" id="keRows" class="ke-input-text ke-input-number" name="rows" value="" maxlength="4" /> &nbsp; ',a.cols+' <input type="text" class="ke-input-text ke-input-number" name="cols" value="" maxlength="4" />',"</div>",'<div class="ke-dialog-row">','<label for="keWidth" style="width:90px;">'+a.size+"</label>",a.width+' <input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" /> &nbsp; ','<select name="widthType">','<option value="%">'+a.percent+"</option>",'<option value="px">'+a.px+"</option>","</select> &nbsp; ",a.height+' <input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" /> &nbsp; ','<select name="heightType">','<option value="%">'+a.percent+"</option>",'<option value="px">'+a.px+"</option>","</select>","</div>",'<div class="ke-dialog-row">','<label for="kePadding" style="width:90px;">'+a.space+"</label>",a.padding+' <input type="text" id="kePadding" class="ke-input-text ke-input-number" name="padding" value="" maxlength="4" /> &nbsp; ',a.spacing+' <input type="text" class="ke-input-text ke-input-number" name="spacing" value="" maxlength="4" />',"</div>",'<div class="ke-dialog-row">','<label for="keAlign" style="width:90px;">'+a.align+"</label>",'<select id="keAlign" name="align">','<option value="">'+a.alignDefault+"</option>",'<option value="left">'+a.alignLeft+"</option>",'<option value="center">'+a.alignCenter+"</option>",'<option value="right">'+a.alignRight+"</option>","</select>","</div>",'<div class="ke-dialog-row">','<label for="keBorder" style="width:90px;">'+a.border+"</label>",a.borderWidth+' <input type="text" id="keBorder" class="ke-input-text ke-input-number" name="border" value="" maxlength="4" /> &nbsp; ',a.borderColor+' <span class="ke-inline-block ke-input-color"></span>',"</div>",'<div class="ke-dialog-row">','<label for="keBgColor" style="width:90px;">'+a.backgroundColor+"</label>",'<span class="ke-inline-block ke-input-color"></span>',"</div>","</div>"].join(""),c=r.cmd.range.createBookmark(),u=r.createDialog({name:o,width:500,title:r.lang(o),body:l,beforeRemove:function(){$.unbind()},yesBtn:{name:r.lang("yes"),click:function(t){var n=p.val(),i=h.val(),o=f.val(),a=m.val(),l=g.val(),u=v.val(),d=y.val(),_=b.val(),C=w.val(),S=x.val(),T=e($[0]).html()||"",E=e($[1]).html()||"";if(0==n||!/^\d+$/.test(n))return alert(r.lang("invalidRows")),void p[0].focus();if(0==i||!/^\d+$/.test(i))return alert(r.lang("invalidRows")),void h[0].focus();if(!/^\d*$/.test(o))return alert(r.lang("invalidWidth")),void f[0].focus();if(!/^\d*$/.test(a))return alert(r.lang("invalidHeight")),void m[0].focus();if(!/^\d*$/.test(d))return alert(r.lang("invalidPadding")),void y[0].focus();if(!/^\d*$/.test(_))return alert(r.lang("invalidSpacing")),void b[0].focus();if(!/^\d*$/.test(S))return alert(r.lang("invalidBorder")),void x[0].focus();if(k)return""!==o?k.width(o+l):k.css("width",""),void 0!==k[0].width&&k.removeAttr("width"),""!==a?k.height(a+u):k.css("height",""),void 0!==k[0].height&&k.removeAttr("height"),k.css("background-color",E),void 0!==k[0].bgColor&&k.removeAttr("bgColor"),""!==d?k[0].cellPadding=d:k.removeAttr("cellPadding"),""!==_?k[0].cellSpacing=_:k.removeAttr("cellSpacing"),""!==C?k[0].align=C:k.removeAttr("align"),""!==S?k.attr("border",S):k.removeAttr("border"),""===S||"0"===S?k.addClass(s):k.removeClass(s),""!==T?k.attr("borderColor",T):k.removeAttr("borderColor"),r.hideDialog().focus(),r.cmd.range.moveToBookmark(c),r.cmd.select(),void r.addBookmark();var A="";""!==o&&(A+="width:"+o+l+";"),""!==a&&(A+="height:"+a+u+";"),""!==E&&(A+="background-color:"+E+";");var D="<table";""!==A&&(D+=' style="'+A+'"'),""!==d&&(D+=' cellpadding="'+d+'"'),""!==_&&(D+=' cellspacing="'+_+'"'),""!==C&&(D+=' align="'+C+'"'),""!==S&&(D+=' border="'+S+'"'),""!==S&&"0"!==S||(D+=' class="'+s+'"'),""!==T&&(D+=' bordercolor="'+T+'"'),D+=">";for(var M=0;M<n;M++){D+="<tr>";for(var P=0;P<i;P++)D+="<td>"+(e.IE?"&nbsp;":"<br />")+"</td>";D+="</tr>"}D+="</table>",e.IE||(D+="<br />"),r.insertHtml(D),r.select().hideDialog().focus(),r.addBookmark()}}}),d=u.div,p=e('[name="rows"]',d).val(3),h=e('[name="cols"]',d).val(2),f=e('[name="width"]',d).val(100),m=e('[name="height"]',d),g=e('[name="widthType"]',d),v=e('[name="heightType"]',d),y=e('[name="padding"]',d).val(2),b=e('[name="spacing"]',d).val(0),w=e('[name="align"]',d),x=e('[name="border"]',d).val(1),$=e(".ke-input-color",d);n(d,$.eq(0)),n(d,$.eq(1)),t($.eq(0),"#000000"),t($.eq(1),""),p[0].focus(),p[0].select();var k;if(!i&&(k=r.plugin.getSelectedTable())){p.val(k[0].rows.length),h.val(k[0].rows.length>0?k[0].rows[0].cells.length:0),p.attr("disabled",!0),h.attr("disabled",!0);var _,C=k[0].style.width||k[0].width,S=k[0].style.height||k[0].height;void 0!==C&&(_=/^(\d+)((?:px|%)*)$/.exec(C))?(f.val(_[1]),g.val(_[2])):f.val(""),void 0!==S&&(_=/^(\d+)((?:px|%)*)$/.exec(S))&&(m.val(_[1]),v.val(_[2])),y.val(k[0].cellPadding||""),b.val(k[0].cellSpacing||""),w.val(k[0].align||""),x.val(void 0===k[0].border?"":k[0].border),t($.eq(0),e.toHex(k.attr("borderColor")||"")),t($.eq(1),e.toHex(k[0].style.backgroundColor||k[0].bgColor||"")),f[0].focus(),f[0].select()}},cellprop:function(){var i=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keWidth" style="width:90px;">'+a.size+"</label>",a.width+' <input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" /> &nbsp; ','<select name="widthType">','<option value="%">'+a.percent+"</option>",'<option value="px">'+a.px+"</option>","</select> &nbsp; ",a.height+' <input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" /> &nbsp; ','<select name="heightType">','<option value="%">'+a.percent+"</option>",'<option value="px">'+a.px+"</option>","</select>","</div>",'<div class="ke-dialog-row">','<label for="keAlign" style="width:90px;">'+a.align+"</label>",a.textAlign+' <select id="keAlign" name="textAlign">','<option value="">'+a.alignDefault+"</option>",'<option value="left">'+a.alignLeft+"</option>",'<option value="center">'+a.alignCenter+"</option>",'<option value="right">'+a.alignRight+"</option>","</select> ",a.verticalAlign+' <select name="verticalAlign">','<option value="">'+a.alignDefault+"</option>",'<option value="top">'+a.alignTop+"</option>",'<option value="middle">'+a.alignMiddle+"</option>",'<option value="bottom">'+a.alignBottom+"</option>",'<option value="baseline">'+a.alignBaseline+"</option>","</select>","</div>",'<div class="ke-dialog-row">','<label for="keBorder" style="width:90px;">'+a.border+"</label>",a.borderWidth+' <input type="text" id="keBorder" class="ke-input-text ke-input-number" name="border" value="" maxlength="4" /> &nbsp; ',a.borderColor+' <span class="ke-inline-block ke-input-color"></span>',"</div>",'<div class="ke-dialog-row">','<label for="keBgColor" style="width:90px;">'+a.backgroundColor+"</label>",'<span class="ke-inline-block ke-input-color"></span>',"</div>","</div>"].join(""),s=r.cmd.range.createBookmark(),l=r.createDialog({name:o,width:500,title:r.lang("tablecell"),body:i,beforeRemove:function(){b.unbind()},yesBtn:{name:r.lang("yes"),click:function(t){var n=u.val(),i=d.val(),o=p.val(),a=h.val(),l=(f.val(),m.val(),g.val()),c=v.val(),w=y.val(),$=e(b[0]).html()||"",k=e(b[1]).html()||"";return/^\d*$/.test(n)?/^\d*$/.test(i)?/^\d*$/.test(w)?(x.css({width:""!==n?n+o:"",height:""!==i?i+a:"","background-color":k,"text-align":l,"vertical-align":c,"border-width":w,"border-style":""!==w?"solid":"","border-color":$}),r.hideDialog().focus(),r.cmd.range.moveToBookmark(s),r.cmd.select(),void r.addBookmark()):(alert(r.lang("invalidBorder")),void y[0].focus()):(alert(r.lang("invalidHeight")),void d[0].focus()):(alert(r.lang("invalidWidth")),void u[0].focus())}}}),c=l.div,u=e('[name="width"]',c).val(100),d=e('[name="height"]',c),p=e('[name="widthType"]',c),h=e('[name="heightType"]',c),f=e('[name="padding"]',c).val(2),m=e('[name="spacing"]',c).val(0),g=e('[name="textAlign"]',c),v=e('[name="verticalAlign"]',c),y=e('[name="border"]',c).val(1),b=e(".ke-input-color",c);n(c,b.eq(0)),n(c,b.eq(1)),t(b.eq(0),"#000000"),t(b.eq(1),""),u[0].focus(),u[0].select();var w,x=r.plugin.getSelectedCell(),$=x[0].style.width||x[0].width||"",k=x[0].style.height||x[0].height||"";(w=/^(\d+)((?:px|%)*)$/.exec($))?(u.val(w[1]),p.val(w[2])):u.val(""),(w=/^(\d+)((?:px|%)*)$/.exec(k))&&(d.val(w[1]),h.val(w[2])),g.val(x[0].style.textAlign||""),v.val(x[0].style.verticalAlign||"");var _=x[0].style.borderWidth||"";_&&(_=parseInt(_)),y.val(_),t(b.eq(0),e.toHex(x[0].style.borderColor||"")),t(b.eq(1),e.toHex(x[0].style.backgroundColor||"")),u[0].focus(),u[0].select()},insert:function(){this.prop(!0)},delete:function(){var e=r.plugin.getSelectedTable();r.cmd.range.setStartBefore(e[0]).collapse(!0),r.cmd.select(),e.remove(),r.addBookmark()},colinsert:function(t){var n=r.plugin.getSelectedTable()[0],o=r.plugin.getSelectedRow()[0],a=r.plugin.getSelectedCell()[0],s=a.cellIndex+t;s+=n.rows[0].cells.length-o.cells.length;for(var l=0,c=n.rows.length;l<c;l++){var u=n.rows[l],d=u.insertCell(s);d.innerHTML=e.IE?"":"<br />",s=i(n,u,d)}r.cmd.range.selectNodeContents(a).collapse(!0),r.cmd.select(),r.addBookmark()},colinsertleft:function(){this.colinsert(0)},colinsertright:function(){this.colinsert(1)},rowinsert:function(t){var n=r.plugin.getSelectedTable()[0],i=r.plugin.getSelectedRow()[0],o=r.plugin.getSelectedCell()[0],a=i.rowIndex;1===t&&(a=i.rowIndex+(o.rowSpan-1)+t);for(var s=n.insertRow(a),l=0,c=i.cells.length;l<c;l++){i.cells[l].rowSpan>1&&(c-=i.cells[l].rowSpan-1);var u=s.insertCell(l);1===t&&i.cells[l].colSpan>1&&(u.colSpan=i.cells[l].colSpan),u.innerHTML=e.IE?"":"<br />"}for(var d=a;d>=0;d--){var p=n.rows[d].cells;if(p.length>l){for(var h=o.cellIndex;h>=0;h--)p[h].rowSpan>1&&(p[h].rowSpan+=1);break}}r.cmd.range.selectNodeContents(o).collapse(!0),r.cmd.select(),r.addBookmark()},rowinsertabove:function(){this.rowinsert(0)},rowinsertbelow:function(){this.rowinsert(1)},rowmerge:function(){var e=r.plugin.getSelectedTable()[0],t=r.plugin.getSelectedRow()[0],n=r.plugin.getSelectedCell()[0],i=t.rowIndex,o=i+n.rowSpan,a=e.rows[o];if(!(e.rows.length<=o)){var s=n.cellIndex;if(!(a.cells.length<=s)){var l=a.cells[s];n.colSpan===l.colSpan&&(n.rowSpan+=l.rowSpan,a.deleteCell(s),r.cmd.range.selectNodeContents(n).collapse(!0),r.cmd.select(),r.addBookmark())}}},colmerge:function(){var e=(r.plugin.getSelectedTable()[0],r.plugin.getSelectedRow()[0]),t=r.plugin.getSelectedCell()[0],n=(e.rowIndex,t.cellIndex),i=n+1;if(!(e.cells.length<=i)){var o=e.cells[i];t.rowSpan===o.rowSpan&&(t.colSpan+=o.colSpan,e.deleteCell(i),r.cmd.range.selectNodeContents(t).collapse(!0),r.cmd.select(),r.addBookmark())}},rowsplit:function(){var t=r.plugin.getSelectedTable()[0],n=r.plugin.getSelectedRow()[0],o=r.plugin.getSelectedCell()[0],a=n.rowIndex;if(1!==o.rowSpan){for(var s=i(t,n,o),l=1,c=o.rowSpan;l<c;l++){var u=t.rows[a+l],d=u.insertCell(s);o.colSpan>1&&(d.colSpan=o.colSpan),d.innerHTML=e.IE?"":"<br />",s=i(t,u,d)}e(o).removeAttr("rowSpan"),r.cmd.range.selectNodeContents(o).collapse(!0),r.cmd.select(),r.addBookmark()}},colsplit:function(){var t=(r.plugin.getSelectedTable()[0],r.plugin.getSelectedRow()[0]),n=r.plugin.getSelectedCell()[0],i=n.cellIndex;if(1!==n.colSpan){for(var o=1,a=n.colSpan;o<a;o++){var s=t.insertCell(i+o);n.rowSpan>1&&(s.rowSpan=n.rowSpan),s.innerHTML=e.IE?"":"<br />"}e(n).removeAttr("colSpan"),r.cmd.range.selectNodeContents(n).collapse(!0),r.cmd.select(),r.addBookmark()}},coldelete:function(){for(var t=r.plugin.getSelectedTable()[0],n=r.plugin.getSelectedRow()[0],i=r.plugin.getSelectedCell()[0],o=i.cellIndex,a=0,s=t.rows.length;a<s;a++){var l=t.rows[a],c=l.cells[o];c.colSpan>1?(c.colSpan-=1,1===c.colSpan&&e(c).removeAttr("colSpan")):l.deleteCell(o),c.rowSpan>1&&(a+=c.rowSpan-1)}0===n.cells.length?(r.cmd.range.setStartBefore(t).collapse(!0),r.cmd.select(),e(t).remove()):r.cmd.selection(!0),r.addBookmark()},rowdelete:function(){for(var t=r.plugin.getSelectedTable()[0],n=r.plugin.getSelectedRow()[0],i=r.plugin.getSelectedCell()[0],o=n.rowIndex,a=i.rowSpan-1;a>=0;a--)t.deleteRow(o+a);0===t.rows.length?(r.cmd.range.setStartBefore(t).collapse(!0),r.cmd.select(),e(t).remove()):r.cmd.selection(!0),r.addBookmark()}},r.clickToolbar(o,r.plugin.table.prop)}),KindEditor.plugin("template",function(e){function t(t){return r+t+"?ver="+encodeURIComponent(e.DEBUG?e.TIME:e.VERSION)}var n=this,i="template",r=(n.lang(i+"."),n.pluginsPath+i+"/html/");n.clickToolbar(i,function(){var r=n.lang(i+"."),o=['<div style="padding:10px 20px;">','<div class="ke-header">','<div class="ke-left">',r.selectTemplate+" <select>"];e.each(r.fileList,function(e,t){o.push('<option value="'+e+'">'+t+"</option>")}),html=[o.join(""),"</select></div>",'<div class="ke-right">','<input type="checkbox" id="keReplaceFlag" name="replaceFlag" value="1" /> <label for="keReplaceFlag">'+r.replaceContent+"</label>","</div>",'<div class="ke-clearfix"></div>',"</div>",'<iframe class="ke-textarea" frameborder="0" style="width:458px;height:260px;background-color:#FFF;"></iframe>',"</div>"].join("");var a=n.createDialog({name:i,width:500,title:n.lang(i),body:html,yesBtn:{name:n.lang("yes"),click:function(t){var i=e.iframeDoc(c);n[l[0].checked?"html":"insertHtml"](i.body.innerHTML).hideDialog().focus()}}}),s=e("select",a.div),l=e('[name="replaceFlag"]',a.div),c=e("iframe",a.div);l[0].checked=!0,c.attr("src",t(s.val())),s.change(function(){c.attr("src",t(this.value))})})}),KindEditor.plugin("wordpaste",function(e){var t=this,n="wordpaste";t.clickToolbar(n,function(){var i=t.lang(n+"."),r='<div style="padding:10px 20px;"><div style="margin-bottom:10px;">'+i.comment+'</div><iframe class="ke-textarea" frameborder="0" style="width:408px;height:260px;"></iframe></div>',o=t.createDialog({name:n,width:450,title:t.lang(n),body:r,yesBtn:{name:t.lang("yes"),click:function(n){var i=l.body.innerHTML;i=e.clearMsWord(i,t.filterMode?t.htmlTags:e.options.htmlTags),t.insertHtml(i).hideDialog().focus()}}}),a=o.div,s=e("iframe",a),l=e.iframeDoc(s);e.IE||(l.designMode="on"),l.open(),l.write("<!doctype html><html><head><title>WordPaste</title></head>"),l.write('<body style="background-color:#FFF;font-size:12px;margin:2px;">'),e.IE||l.write("<br />"),l.write("</body></html>"),l.close(),e.IE&&(l.body.contentEditable="true"),s[0].contentWindow.focus()})}),KindEditor.plugin("fixtoolbar",function(e){function t(){var t=e(".ke-toolbar"),n=t.pos().y;e(window).bind("scroll",function(){"fixed"==t.css("position")?document.body.scrollTop-n<0&&(t.css("position","static"),t.css("top","auto")):t.pos().y-document.body.scrollTop<0&&(t.css("position","fixed"),t.css("top",0))})}var n=this;n.fixToolBar&&(n.isCreated?t():n.afterCreate(t))}),define("kindeditor",function(e){return function(){var t;return t||e.kindeditor}}(this)),define("directive/um",["app","kindeditor"],function(e){e.directive("um",["$window","$rootScope",function(e,t){var n=function(e,t,n,i){if(i){if("undefined"==typeof window.KindEditor)return void console.error("Please import the local resources of kindeditor!");var r,o=global_company.url_name,a={width:"100%",autoHeightMode:!0,items:["source","|","undo","redo","|","preview","template","code","cut","copy","paste","plainpaste","|","justifyleft","justifycenter","justifyright","justifyfull","insertorderedlist","insertunorderedlist","indent","outdent","subscript","superscript","clearhtml","quickformat","selectall","|","fullscreen","/","formatblock","fontname","fontsize","|","forecolor","hilitecolor","bold","italic","underline","strikethrough","lineheight","removeformat","|","table","hr","emoticons","baidumap","pagebreak","anchor","link","unlink","image"],allowFileManager:!0,uploadJson:"/"+o+"/admin/position/jd-image"},s=t[0],l=angular.extend(a,e.config);l.afterChange=function(){var e=this;e.html()&&i.$setViewValue(e.html())},r=KindEditor.create(s,l),i.$render=function(){i.$modelValue&&r.html(i.$modelValue)}}};return{restrict:"A",require:"?^ngModel",scope:{},link:n}}])}),define("directive/errorLabel",["app"],function(e){e.directive("errorLabel",function(){return{require:"?ngModel",link:function(e,t,n,i){i&&(i.errorLabel=n.errorLabel,n.errorLabelType&&(i.errorLabelType=n.errorLabelType))}}})}),define("directive/simUploader",["app"],function(e){e.directive("simUploader",["FileUploader","$timeout",function(e,t){return{restrict:"E",replace:!0,scope:{exports:"=",acceptFileType:"="},controller:["$rootScope","$scope",function(t,n){function i(e){var i,o=e.name.slice(e.name.lastIndexOf(".")+1);return(n.acceptFileType.indexOf(o)==-1||e.size>1024e3*n.uploadMaxSize)&&t.$broadcast("errorNotAccepted",{msg:"请上传正确的格式并小于"+n.uploadMaxSize+"M的文件"}),i=_.find(r.queue,function(t){if(t.file.name==e.name)return!0}),n.acceptFileType.indexOf(o)>-1&&!i&&e.size<1024e3*n.uploadMaxSize}var r=n.uploader=new e,o="",a={},s=angular.noop,l=angular.noop,c=n.exports={};r.errors=[],c.uploadAll=n.uploadAll=function(e,t){l=e,s=t,r.uploadAll()},c.setUrl=n.setFormData=function(e){o=e},c.setFormData=n.setFormData=function(e){a=e},c.getQueueLength=function(){return r.queue.length},r.onBeforeUploadItem=function(e){e.url=o,e.formData.push(a)},r.onErrorItem=function(e){r.errors.push(e._file)},r.onSuccessItem=function(e,t){r.errors.length?s&&s(t):l&&l(t),r.clearQueue(),o="",a=null,r.errors=[],r.destroy()},r.onAfterAddingAll=function(){r.queue.length>1&&r.queue.shift(),r.errors=[]},r.filters.push({name:"fileFilter",fn:function(e,t){return i(e)}})}],templateUrl:"views/com/sim-uploader.html",link:function(e,n,i){e.acceptFileType=e.acceptFileType||["png","jpg","jpeg","gif","txt","doc","dot","html","htm","mht","pdf","msg","eml","xls","xlsx","rtf","zip"],e.uploadMaxSize=e.$eval(i.maxSize)||20,e.label=i.label||"上传附件",e.fileNameShow=e.$eval(i.fileNameShow)||!0,t(function(){e.enable=!0})}}}])}),define("controller/posNew",["app","service/position","service/values","service/alert","service/general","service/dialog","service/department","service/category","service/positionProperty","service/dpt-icons","service/base64","service/redPacket","service/constant","directive/posPreview","directive/region","directive/categorySel","directive/department","directive/um","directive/errorLabel","directive/simUploader"],function(e){e.controller("positionNewCtrl",["$rootScope","$scope","$state","$sce","$timeout","$location","$modal","position","general","dialog","base64","alertService","edu","salary","exp","positionProperty","redPacket","APIHOST",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,m,g,v){function y(t){if(e.corp.custom.redpack_enable&&(0==t.interviewed_reward&&delete t.interviewed_reward,0==t.onboarding_reward&&delete t.onboarding_reward,0==t.pass_probation_reward&&delete t.pass_probation_reward),delete t.release_date,delete t.refresh_date,delete t.updated_time,t.deadline?t.deadline=new Date(1e3*t.deadline):t.deadline="",t.edu_level>=0&&(t.edu=_.findWhere(p,{code:t.edu_level})),t.exp_level>=0&&(t.exp=_.findWhere(f,{code:t.exp_level})),t.salary_level>=0&&(t.salary=_.findWhere(h,{code:t.salary_level})),t.city_list.length&&(x.city_list=t.city_list),t.tag.length){for(var n={},i=0;i<t.tag.length;i++)n[t.tag[i]]=!0;x.tag=n}return t}function b(e){return e.release_city=x.loc_select,e.department_id=x.pos.department&&x.pos.department.id,e.category_id=x.pos.category&&x.pos.category.id,e.tag=w(angular.copy(x.tag)),e.city_list=x.city_list,e}function w(e){var t=[];return _.forEach(e,function(e,n){e&&t.push(n)}),t}e.page="pos_new";var x=t.vm={},$=n.params.type;if(x.kindeditor=null,x.options={},x.typeNew="new"==$,x.typeEdit="edit"==$,x.pageTit=x.typeNew?"职位发布":"职位编辑",x.locShow=!1,x.pos={deadline:"",property:"",salary:{label:"面议",code:"0"},edu:{label:"不限",code:"0"},exp:{label:"不限",code:"0"},jd:""},x.posDefault={deadline:"",property:"",salary:{label:"面议",code:"0"},edu:{label:"不限",code:"0"},exp:{label:"不限",code:"0"},jd:""},x.tag={},m.query({},function(e){x.typeNew&&!x.pos.property&&(x.pos.property=e[0].name),x.options.position_properties=e}),g.getRule(function(e){var t=JSON.parse(e.rules);x.redPackRef=t}),x.errors={location:!0,category:!0},x.view={edu:p,salary:h,exp:f},x.showLoc=function(){return x.locShow=!0,!1},t.$watch("vm.city_list.length",function(e,t){x.errors.location=!e}),x.importJd=function(){a.open({animation:!0,templateUrl:"views/com/employee.html",controller:["$scope","$modalInstance",function(e,t){function n(n){e.uploaderExports.setUrl(n),e.uploadState=!0,e.uploaderExports.uploadAll(function(n){e.uploadState=!1,n?a.open({animation:!0,templateUrl:"views/com/errorItems.html",controller:["$scope","$modalInstance",function(e,t){e.errorItems=n,e.confirm=function(){t.close()}}]}):c.alert("职位上传完毕，请到职位列表中查看！").success(function(){t.close()})},function(){e.uploadState=!1,c.alert("附件上传失败请稍后再试..")})}e.title="导入职位",e.uploadState=!1,e.typeAccept=["xls","xlsx"],e.$on("errorNotAccepted",function(e,t){c.alert(t.msg)}),e.cancel=function(){t.dismiss("cancel")},e.upload=function(){e.uploaderExports.getQueueLength()&&n(v+"position/import-jd")}}]})},x.removeLocSelect=function(e){x.city_list.splice(x.city_list.indexOf(e),1)},x.openCalendar=function(e){r(function(){x.calendarOpened=!0},0)},x.preview=function(){x.previewData=b(x.pos),x.previewData.jd=i.trustAsHtml(x.kindeditor),x.previewReady=!0},t.$watch("vm.kindeditor",function(e,t){e&&" "!=e&&(x.descriptionError=!1)}),x.submit=function(){return x.submitted=!0,x.kindeditor&&" "!=x.kindeditor?(x.pos.jd=u.encode(x.kindeditor),x.pos=b(x.pos),void(t.formPos.$valid&&x.pos.city_list.length&&x.pos.department&&x.pos.category&&(x.typeNew?s.save({},x.pos,function(e){e&&(x.confirm_show=!0,x.posId=e.id),x.submitted=!1}):x.typeEdit&&s.update({id:x.pos.id},x.pos,function(e){c.alert("编辑成功！").success(function(){o.search().from&&"pos_list"==o.search().from?n.go("position.list"):history.go(-1)}),x.submitted=!1},function(e){c.alert(e.message)})))):void(x.descriptionError=!0)},x.back=function(){o.search().from&&"pos_list"==o.search().from?n.go("position.list"):history.back()},x.modalClose=function(){x.pos.name="",x.kindeditor=" ",x.confirm_show=!1},x.goToPos=function(){x.confirm_show=!1,n.go("position.detail",{id:x.posId})},x.emptyForm=function(){x.confirm_show=!1,x.clearDepartment(),x.clearCategory(),x.clearCityList(),x.kindeditor=" ",x.pos={},x.tag={}},x.typeEdit&&s.get({method:"view",id:n.params.id},function(e){x.pos=y(e),x.pos.jd&&(x.kindeditor=x.pos.jd)},function(){}),x.typeNew){x.city_list=[];var k=localStorage.getItem("_create_pos_");k&&(x.pos=JSON.parse(k),x.pos.city_list&&(x.city_list=x.pos.city_list))}x.test1=1}])}),define("service/resume",["app","service/constant"],function(e){e.service("resume",["$resource","APIHOST",function(e,t){return e(t+"resumes/:id",{id:"@id"},{update:{method:"PUT"},preview:{method:"GET",url:t+"resumes/preview"},recovery:{method:"GET",url:t+"resumes/recovery"}})}])}),define("controller/posDetail",["app","service/position","service/resume","service/alert","service/dialog","service/utils","service/redPacket"],function(e){e.controller("positionDetailCtrl",["$scope","$state","$location","position","resume","alertService","utils","dialog","redPacket",function(e,t,n,i,r,o,a,s,l){function c(e,t){if(e)return a.getHost()+a.getCorporation()+"/admin/resumes/"+t+"?position_id="+p.position_id;var n=_.pluck(_.filter(p.resumeList,function(e){return e.checked}),"id");return n.length?a.getHost()+a.getCorporation()+"/admin/resumes/"+t+"?id="+n.join(","):void 0}function u(){i.get({id:p.position_id},function(e){p.position=e})}function d(e,t){r.get(e,function(e){t(e)})}var p=e.vm={};p.position_id=t.params.id,p.checkedAll=!1,p.dlCheckedUrl=void 0,p.dlAllUrl=c(!0,"download"),l.getRule(function(e){p.redPackRef=e.rules?JSON.parse(e.rules):null}),u(),p.allCheck=function(){angular.forEach(p.resumeList,function(e){e.checked=p.checkedAll})},p.itemCheck=function(e){e.checked||(p.checkedAll=!1)},e.$watch("vm.resumeList",function(e){p.dlCheckedUrl=c(null,"download"),p.excelCheckedUrl=c(null,"excel")},!0),p.exportTotalExcelUrl=function(){return a.getHost()+a.getCorporation()+"/admin/resumes/exportall"},p.deleteTag=function(e){var t=_.clone(p.position.tag);t.splice(p.position.tag.indexOf(e),1),i.update({id:p.position.id},{tag:t},function(e){o.add("更新成功",3e3),p.position.tag=t})},p.addTag=function(e){var t=_.clone(p.position.tag);t.push(e),i.update({id:p.position.id},{tag:t},function(e){o.add("更新成功",3e3),p.position.tag=t})},p.setStatus=function(e){"CLOSED"==e?s.confirm("确定要关闭该职位？").success(function(){i.update({id:p.position.id},{status:e},function(e){u()})}):i.update({id:p.position.id},{status:e},function(t){o.add("更新成功",3e3),p.position.status=e})},d({position_id:p.position_id},function(e){p.resumeList=e.items,p.totalItems=e._meta.totalCount}),p.pageChanged=function(e){d({page:p.currentPage,position_id:p.position_id},function(e){p.resumeList=e.items,p.totalItems=e._meta.totalCount})},p.back=function(){n.search().from&&"pos_list"==n.search().from?t.go("position.list"):"resume_new"==n.search().from?t.go("resume.resumeNew"):history.back()},p.resumeDelete=function(){var e=[];angular.forEach(p.resumeList,function(t){t.checked&&e.push(t.id)}),s.confirm("是否删除选中的简历?").success(function(){r.delete({id:e.join(",")}).$promise.then(function(e){d({position_id:p.position_id},function(e){p.resumeList=e.items,p.totalItems=e._meta.totalCount})})})}}])}),define("directive/resumeList",["app","service/resume"],function(e){e.directive("resumeList",["resume","$location",function(e,t){return{restrict:"E",replace:"true",templateUrl:"views/resume/list.html",scope:{title:"@"},link:function(n,i,r){var o=n.vm={};o.totalItems=1e3,o.viewType=0,o.currentPage=parseInt(t.search().page)||1,o.pageChanged=function(){t.search("page",o.currentPage)},e.get(t.search(),function(e){o.resumeList=e.data.list,o.totalItems=e.data.total})}}}])}),define("directive/appModel",["app","angular"],function(e,t){e.directive("appParse",[function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i.$parsers.push(function(e){if(e)return e[n.appParse]})}}}]),e.directive("appFormat",[function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){var r=n.appFormat.split("|"),o=e.$eval(r[0],e),a=r[1];i.$formatters.push(function(e){if(void 0!=e){var t={},n={};return t[a]=e,n[a]=parseInt(e),_.findWhere(o,t)||_.findWhere(o,n)}})}}}])}),define("controller/resumeNewList",["app","service/position","service/alert","service/resume","service/utils","service/values","directive/resumeList","directive/appModel","service/dialog"],function(e){e.controller("resumeNewListCtrl",["$rootScope","$scope","$location","$state","resume","position","utils","edu","exp","APIHOST","dialog",function(e,t,n,i,r,o,a,s,l,c,u){function d(t,n){e.listParams.resume_new=t,r.get(t,function(e){f.resumeList=e.items,f.totalItems=e._meta.totalCount,f.checkedAll=!1,n&&n(e)})}function p(e,t){if(e)return a.getHost()+a.getCorporation()+"/admin/resumes/"+t+"?position_id="+f.position_id;var n=_.pluck(_.filter(f.resumeList,function(e){return e.checked}),"id");return n.length?a.getHost()+a.getCorporation()+"/admin/resumes/"+t+"?id="+n.join(","):void 0}function h(){var e=angular.copy(s),t=angular.copy(l);return e.shift(),t.shift(),{edu:e,exp:t}}e.page="resume_new";var f=t.vm={};n.search().from&&"nav"==n.search().from&&(e.listParams.resume_new=null);var m=e.listParams.resume_new?e.listParams.resume_new:{};f.cond={order_by:"created_at",order:"desc"},m=_.extend({page:1,refer:0,visible:1},m),m=_.extend(f.cond,m),e.departmentTip="请先选择部门";var g=h();f.edu=g.edu,f.exp=g.exp;var v=[{code:"all",label:"所有来源"},{code:"manual",label:"新建简历"},{code:"referral",label:"简历推荐"},{code:"51job",label:"前程无忧"},{code:"liepin",label:"猎聘"},{code:"zhaopin",label:"智联招聘"},{code:"dajie",label:"大街"},{code:"linkedin",label:"LinkedIn"},{code:"m91",label:"魅力91"},{code:"yjs",label:"应届生"},{code:"chinahr",label:"中华英才网"},{code:"58",label:"58同城"},{code:"highpin",label:"卓聘"}];f.view={gender:[{code:"MALE",label:"男"},{code:"FEMALE",label:"女"}],work_exp:f.exp,edu:f.edu,positions:[],cv_source:v},f.filter=_.extend({},m),f.state=f.filter.visible,o.get(function(e){f.view.departments=e._filters.departments,m.position_id&&o.get({department_id:m.department_id},function(e){f.view.positions=e.items,f.filter.position=_.findWhere(f.view.positions,{id:m.position_id})})}),f.filterPosition=function(){return f.filter.department_id?void o.get({department_id:f.filter.department_id},function(t){f.view.positions=t.items,e.departmentTip="选择岗位"}):(e.departmentTip="请先选择部门",f.view.positions=[],f.filter.position_id=void 0,f.filter.position=null,m=_.extend(m,f.filter),void d(m))},d(m),f.filterSbm=function(e){m=_.extend(m,f.filter,{page:1}),m.position?(m.position_id=m.position.id,m.position=null):m.position_id=void 0,d(m,function(t){0==e?f.state=0:1==e&&(f.state=1)})},f.posDetail=function(e){i.go("position.detail",_.extend({id:e,from:"resume_new"
},m))},f.checkedAll=!1,f.allCheck=function(){angular.forEach(f.resumeList,function(e){e.checked=f.checkedAll})},f.itemCheck=function(e){e.checked||(f.checkedAll=!1)},t.$watch("vm.resumeList",function(t){e.company&&e.company.custom&&e.company.custom.linde_download_resume?f.excelCheckedUrl=p(null,"down-linde"):f.excelCheckedUrl=p(null,"excel"),f.dlCheckedUrl=p(null,"download")},!0),f.exportTotalExcelUrl=function(){return e.company&&e.company.custom&&e.company.custom.linde_download_resume?a.getHost()+a.getCorporation()+"/admin/resumes/down-linde?id=all":a.getHost()+a.getCorporation()+"/admin/resumes/exportall"},f.currentPage=parseInt(m.page)||1,f.pageChanged=function(){m.page=f.currentPage,d(m)},f.setOrder=function(e){f.cond.order_by==e&&"asc"==f.cond.order?f.cond.order="desc":f.cond.order="asc",f.cond.order_by=e,m=_.extend(m,f.cond),d(m)},f.resumeDelete=function(){var e=[];angular.forEach(f.resumeList,function(t){t.checked&&e.push(t.id)}),u.confirm("是否删除选中简历？",{btnCancel:{label:"取消",style:"btn-default"}}).success(function(){r.delete({id:e.join(",")}).$promise.then(function(e){d(m)})}).error(function(){})},f.resumerecovery=function(){var e=[];angular.forEach(f.resumeList,function(t){t.checked&&e.push(t.id)}),u.confirm("是否恢复选中简历？",{btnCancel:{label:"取消",style:"btn-default"}}).success(function(){r.recovery({ids:e.join(",")},function(e){d(m)})}).error(function(){})}}])}),define("service/talentLevel",["app","service/constant"],function(e){e.service("talentLevel",["$resource","APIHOST",function(e,t){return e(t+"talent-level/:id",{id:"@id"},{update:{method:"PUT"}})}])}),define("service/talentFunc",["app","service/constant"],function(e){e.service("talentFunc",["$resource","APIHOST",function(e,t){return e(t+"talent-func/:id",{id:"@id"},{update:{method:"PUT"}})}])}),define("service/talent",["app","service/constant"],function(e){e.service("talent",["$resource","APIHOST",function(e,t){return e(t+"talent/:id",{id:"@id"},{update:{method:"PUT"}})}])}),define("directive/email",["app","angular"],function(e,t){e.directive("email",[function(){return{restrict:"E",replace:"true",templateUrl:"views/com/email.html",scope:{isShow:"=",data:"=",onSubmit:"&"},link:function(e,n,i){e.onSubmit=e.onSubmit||t.noop,e.hide=function(){e.isShow=!1},e.submit=function(t){return e.onSubmit({data:e.data}),e.hide(),!1}}}}])}),define("controller/resumeDetail",["app","service/resume","service/alert","service/utils","service/dialog","service/talentLevel","service/talentFunc","service/talent","directive/email"],function(e){e.controller("resumeDetailCtrl",["$rootScope","$scope","$sce","$location","$http","$modal","$state","resume","utils","dialog","talent",function(e,t,n,i,r,o,a,s,l,c,u){function d(){s.get({id:m.resume_id},function(e){p(e.operation_log),m.resume=e,angular.forEach(m.resume.file,function(e,t){var n=e.split(".").pop().toLowerCase(),i=!1,r=!0;g.indexOf(n)<0?(e="",r=!1):(e=l.getHost()+l.getCorporation()+"/admin/resumes/preview?id="+m.resume_id+"&index="+t,["jpg","jpeg","png","gif"].indexOf(n)>=0&&(i=!0),m.files.push({index:t,type:n,url:e,isAcceptType:r,isImg:i}))})})}function p(e){for(var t=0;t<e.length;t++)"delete"==e[t].action?e[t].acticon_label="删除":"recovery"==e[t].action&&(e[t].acticon_label="恢复");e.reverse()}function h(){u.get({resume_id:m.resume_id},function(e){m.talent=e,m.talentInfo=f(m.talent)})}function f(e){if(!e)return null;var t={},n={level:"能力层次",func:"职能类型",remark:"备注"};return _.forEach(e,function(e,i){_.isUndefined(n[i])||(t[i]=e)}),t}e.page="";var m=t.vm={},g=["pdf","jpg","jpeg","png","gif","html"];m.resume_id=a.params.id,m.files=[],m.getDlUrl=function(){return l.getHost()+l.getCorporation()+"/admin/resumes/download?id="+m.resume_id},m.getTrustedUrl=function(e){return n.trustAsUrl(e.toString())},d(),h(),m.deleteTalent=function(){c.confirm("确定移出人才库吗？").success(function(){u.delete({id:m.talent.id},function(e){delete m.talent,delete m.talentInfo})})},m.back=function(){i.search().from&&"resume_new"==i.search().from?a.go("resume.resumeNew"):i.search().from&&"talent"==i.search().from?a.go("talent.talentList"):history.back()},m.talentsPopup=function(){o.open({animation:t.animationsEnabled,templateUrl:"views/com/talents-label.html",resolve:{name:function(){return m.resume.name},resume_id:function(){return m.resume_id},talenter:function(){return m.talent}},controller:["$scope","$modalInstance","talentLevel","talentFunc","resume_id","talenter","name",function(e,t,n,i,r,o,a){function s(e){i.get(function(t){e(t)})}function l(e){n.get(function(t){e(t)})}var d=e.vm={};d.talenter={},d.name=a,void 0!=o?(d.talenter=o,d.typeNew=!1):(d.talenter.level_id=3,d.typeNew=!0),l(function(e){d.level=e.items}),s(function(e){d.func=e.items}),d.submitForm=function(e){if(e.$valid){var n={};n.func_id=d.talenter.func_id,n.level_id=d.talenter.level_id,n.remark=d.talenter.remark,0==d.typeNew?u.update({id:o.id},n,function(e){h(),c.alert("更新成功！").success(function(){t.close()})},function(){c.alert("更新失败，请稍后重试")}):(n.resume_id=r,u.save({},n,function(e){h(),c.alert("添加成功！").success(function(){t.close()})},function(){c.alert("失败，请稍后重试")}))}},d.cancel=function(){t.dismiss("cancel")}}]})}}])}),define("controller/talentList",["app","service/talent","service/talentLevel","service/talentFunc","service/values","service/utils","service/alert"],function(e){e.controller("talentListCtrl",["$rootScope","$scope","$location","talent","utils","edu","exp","talentLevel","talentFunc",function(e,t,n,i,r,o,a,s,l){function c(t,n){e.listParams.talent=t,i.get(t,function(e){f.talentList=e.items,f.totalItems=e._meta.totalCount,n&&n(e)})}function u(e){return s.get(e).$promise}function d(e){return l.get(e).$promise}function p(){var e=angular.copy(o),t=angular.copy(a);return e.shift(),t.shift(),{edu:e,exp:t}}function h(e,t){if(e)return r.getHost()+r.getCorporation()+"/admin/resumes/"+t+"?position_id="+f.position_id;var n=_.pluck(_.filter(f.talentList,function(e){return e.checked}),"resume_id");return n.length?r.getHost()+r.getCorporation()+"/admin/resumes/"+t+"?id="+n.join(","):void 0}e.page="talent",n.search().from&&"nav"==n.search().from&&(e.listParams.talent=null);var f=t.vm={},m=e.listParams.talent?e.listParams.talent:{};f.cond={order_by:m.order_by?m.order_by:"created_at",order:m.order?m.order:"desc"},u({_page:-1,fields:"id,name"}).then(function(e){f.view.level=e.items}),d({_page:-1,fields:"id,name"}).then(function(e){f.view.func=e.items});var g=p();f.edu=g.edu,f.exp=g.exp,f.view={gender:[{code:"MALE",label:"男"},{code:"FEMALE",label:"女"}],exp:f.exp,edu:f.edu,level:[],func:[]},m=_.extend(f.cond,m),f.filter=_.extend({},{refer:0},m),f.currentPage=parseInt(m._page)||1,c(m),f.allCheck=function(){angular.forEach(f.talentList,function(e){e.checked=f.checkedAll})},f.itemCheck=function(e){e.checked||(f.checkedAll=!1)},f.exportTotalExcelUrl=function(){return r.getHost()+r.getCorporation()+"/admin/resumes/exportall"},t.$watch("vm.talentList",function(e){f.dlCheckedUrl=h(null,"download"),f.excelCheckedUrl=h(null,"excel")},!0),f.pageChanged=function(){m._page=f.currentPage,c(m)},f.filterSbm=function(e){m=_.extend(m,f.filter,{_page:1}),c(m)},f.setOrder=function(e){f.cond.order_by==e&&"asc"==f.cond.order?f.cond.order="desc":f.cond.order="asc",f.cond.order_by=e,m=_.extend(m,f.cond),c(m)}}])}),define("service/ref",["app","service/constant"],function(e){e.service("ref",["$resource","APIHOST",function(e,t){return e(t+"references/:id",{id:"@id"},{getHistoryList:{method:"GET",url:t+"ref/history/:id"},update:{method:"PUT"}})}])}),define("controller/recList",["app","service/ref"],function(e){e.controller("recListCtrl",["$rootScope","$scope","$location","ref",function(e,t,n,i){e.page="rec";var r=t.vm={};r.totalItems=0,i.get(n.search(),function(e){r.list=e.items,r.totalItems=e._meta.totalCount}),r.currentPage=parseInt(n.search().page)||1,r.pageChanged=function(){n.search("page",r.currentPage)}}])}),define("controller/recDetail",["app","service/ref","service/resume","service/dialog"],function(e){e.controller("recDetailCtrl",["$rootScope","$scope","$state","$location","ref","resume","dialog",function(e,t,n,i,r,o,a){function s(e){o.get({ref_id:n.params.id,page:e},function(e){l.historyList=e.items,l.totalItems=e._meta.totalCount})}e.page="rec";var l=t.vm={};l.totalItems=0,r.get({id:n.params.id},function(e){l.refer=e}),l.viewRefResult=[{label:"新简历",code:"NEW"},{label:"简历筛选",code:"ACCEPT"},{label:"进入面试",code:"INTERVIEWED"},{label:"入职",code:"ONBOARDING"},{label:"通过试用期",code:"PASSPROBATION"},{label:"拒绝",code:"NOACCEPT"}],l.modelRefResult=l.viewRefResult[0],s(),l.currentPage=parseInt(i.search().page)||1,l.pageChanged=function(){s(l.currentPage)},l.opRef=function(e,t,n){var i=_.findWhere(l.viewRefResult,{code:t}).label;a.confirm("是否确认将<strong>"+n+"</strong>的申请状态修改为<strong>"+i+"</strong>？<br>申请状态一经改动，系统会向推荐人发送相应邮件提醒。",{size:"default",btnOk:{label:"确认修改",style:"btn-success"}}).success(function(){o.update({id:e,ref_status:t},function(){s(l.currentPage)})}).error(function(){s(l.currentPage)})}}])}),define("controller/setting",["app","service/dialog","service/company"],function(e){e.controller("settingCtrl",["$rootScope","$scope","$state","dialog","company",function(e,t,n,i,r){e.page="setting";var o=t.vm={},a=t.user[0].company_id;o.images={},a&&r.get({id:a},function(e){o.images.logo_data=".."+e.logo_1,o.images.logo2_data=".."+e.logo_2,o.images.banner_data=".."+e.banner,o.images.qrcode_data=".."+e.qrcode}),o.readerError=function(e){i.alert(e)},o.setLogo=function(e,t,n){if(!n)return void i.alert("请选择图片！");var o={id:a,field:e,data:t.match(/,(.*)$/)[1],type:n};r.update({},o,function(e){i.alert("上传成功！")})}}])}),define("service/userInfo",["app","service/constant"],function(e){e.service("userInfo",["$resource","APIHOST",function(e,t){return e(t+"user/modify",{},{submit:{method:"POST"}})}])}),define("controller/userInfo",["app","service/userInfo","service/dialog"],function(e){e.controller("userInfoCtrl",["$rootScope","$scope","$state","$modal","dialog","userInfo",function(e,t,n,i,r,o){e.page="user-info",t.animationsEnabled=!0;var a=t.vm={};n.params.id;o.get({},function(e){e.id&&(a.username=e.username,a.contact=e.contact,a.mobile=e.mobile,a.head_data=""==e.avatar?"":".."+e.avatar)}),a.readerError=function(e){r.alert(e)},a.changePwd=function(){i.open({animation:t.animationsEnabled,templateUrl:"views/com/changePwd.html",controller:["$scope",function(e){e.yes=function(){e.input==e.confirmInput?o.submit({},{password:e.input},function(t){r.alert("密码修改成功！",{}),e.$dismiss()}):r.alert("密码不一致，请您再次输入！",{})},e.no=function(){e.$dismiss()}}]})},a.submit=function(e){if(e.contact.$dirty||e.mobile.$dirty||a.head_type){if(e.contact.$dirty)var t={contact:a.contact};if(e.mobile.$dirty)var t={mobile:a.mobile};if(a.head_type)var t={avatar_data:{data:a.head_data.match(/,(.*)$/)[1],type:a.head_type}};console.log(t),o.submit({},t,function(e){r.alert("编辑成功！",{})})}}}])}),define("controller/about",["app","service/alert","service/dialog","service/corp","directive/um"],function(e){e.controller("aboutCtrl",["$rootScope","$scope","$timeout","alertService","dialog","corp",function(e,t,n,i,r,o){function a(e){var t={};return t.about_banner={data:".."+e.about_banner},t.location=e.location,t.description=e.description,t}function s(e){var t=angular.copy(e);if(t.about_banner.data&&t.about_banner.data)try{t.about_banner.data=t.about_banner.data.match(/,(.*)$/)[1]}catch(e){console.log(e),t.about_banner.data=null}return t.about_banner.data&&(t.type=t.about_banner.type,t.data=t.about_banner.data),t.field="about_banner",t.id=c,delete t.about_banner,t.description=l.model.description,t}e.page="about";var l=t.vm={},c=t.user[0].company_id;l.model={about_banner:{}},o.get({id:c},function(e){l.model=a(e)}),l.readerError=function(e){t.$apply(function(){i.add(e,3e3,"danger")}),l.model.about_banner.data=null},l.submit=function(e){var t=s(l.model);o.updateBrief({id:c},t,function(e){r.alert("发布成功！")})}}])}),define("service/indentify",["app","service/constant"],function(e){e.service("indentify",["$resource","APIHOST",function(e,t){return e(t,{},{delete:{method:"DELETE",url:t+"staff/:id"},getList:{method:"GET",url:t+"staff"},create:{method:"POST",url:t+"staff/create-staff"},unbinding:{method:"GET",url:t+"staff/unbinding"}})}])}),define("controller/identify",["app","service/values","service/dialog","service/constant","directive/simUploader","service/indentify"],function(e){e.controller("identifyCtrl",["$rootScope","$scope","$state","$modal","$http","$location","$timeout","dialog","staffCondition","APIHOST","indentify",function(e,t,n,i,r,o,a,s,l,c,u){function d(e){u.create(e,function(e){s.alert("提交成功！"),h.addIdentifyState=!1,p(f)})}function p(e){u.getList(e,function(e){h.list=e.items,h._meta=e._meta})}var h=t.vm={};e.page="identify",t.animationsEnabled=!0;var f=o.search();f.per_page=20,p(f),h.view={staffCondition:l},h.company=global_company.url_name,h.filter={type:f.type||0,authentication:f.authentication||"ALL"},t.$watch("vm.filter.keyword",function(e){!e&&t.form.keyword.$dirty&&o.search("keyword","")}),h.identify={},h.readerError=function(e){s.alert(e)},h.delete=function(e){s.confirm("确认删除吗？").success(function(){u.delete({id:e},function(e){p(f)})})},h.unbind=function(e){s.confirm("确认解绑吗？").success(function(){u.unbinding({id:e},function(e){p(f)})})},h.submit=function(t){h.submitted=!0,t.$invalid||(e.corp.custom&&e.corp.custom.mobile_verify?h.identifyInfo.empno||h.identifyInfo.mobile?d(h.identifyInfo):alert("工号和手机号至少填一项！"):h.identifyInfo.empno?d(h.identifyInfo):e.corp.custom&&e.corp.custom.child_member_ml?alert("请填写邮箱"):alert("请填写工号"))},h.cancel=function(){h.addIdentifyState=!1},h.addIdentifyState=!1,h.addIdentify=function(){h.addIdentifyState=!0},h.closeIdentify=function(){h.addIdentifyState=!1},h.filterSbm=function(){var e={};e=_.extend({},o.search(),{type:h.filter.type,keyword:h.filter.keyword,authentication:h.filter.authentication},{page:1}),t.form.$setPristine(),o.search(e)},h.currentPage=parseInt(o.search().page)||1,h.pageChanged=function(){o.search("page",h.currentPage)},h.identify.importEmployeeData=function(){i.open({animation:t.animationsEnabled,templateUrl:"views/com/employee.html",controller:["$scope","$modalInstance",function(e,t){function n(n){e.uploaderExports.setUrl(n),e.uploadState=!0,e.uploaderExports.uploadAll(function(){e.uploadState=!1,p(f),s.alert("文件上传完毕，交由后台程序处理数据，请稍后刷新页面查看").success(function(){t.close()})},function(){e.uploadState=!1,s.alert("附件上传失败请稍后再试..")})}e.title="导入员工数据",e.uploadState=!1,e.typeAccept=["xls","xlsx"],e.$on("errorNotAccepted",function(e,t){s.alert(t.msg)}),e.cancel=function(){t.dismiss("cancel")},e.upload=function(){e.uploaderExports.getQueueLength()&&n(c+"staff/import")}}]})}}])}),define("controller/redPacketRule",["app","service/redPacket","service/dialog"],function(e){e.controller("redPacketRuleCtrl",["$rootScope","$scope","$state","redPacket","dialog",function(e,t,n,i,r){function o(){i.getRule(function(e){var t=JSON.parse(e.rules);for(var n in t)t[n]=_.extend(t[n],{title:a(n),en:n}),""==a(n)&&delete t[n],/REF/g.test(n)?t[n].isRef=!0:t[n].isRef=!1;s.ruleShow=t,s.rule.forehead=e.prefix,s.rule.tail=e.suffix})}function a(e){var t="";return _.each(s.view,function(n){n.en==e&&(t=n.title)}),t}e.page="red_packet";var s=t.vm={};s.rule={},s.view=[{title:"个人转发量红包",en:"FORWARD"},{title:"转发职位被访问红包",en:"FORWARD_VIEW"},{title:"转发职位被申请红包",en:"FORWARD_APPLY"},{title:"进入面试红包",en:"REF_INTERVIEW"},{title:"入职红包",en:"REF_ONBOARD"},{title:"通过试用期红包",en:"REF_PASSPROBATION"}],o(),s.setFilterRule=function(e,t,n){0==t?(s.ruleShow[e].count=0,s.ruleShow[e].money=0):(s.ruleShow[e].count=1,s.ruleShow[e].money=0)},s.submit=function(e){console.log(e);var t={};angular.copy(s.ruleShow,t),angular.forEach(t,function(e,t){delete e.en,delete e.title});var n={rules:JSON.stringify(t),prefix:s.rule.forehead,suffix:s.rule.tail};e.$valid?i.setRule({},n).$promise.then(function(e){r.alert("修改成功！")}):r.alert("填写有误！请检查无误再提交！")},s.emptyMoney=function(e){var t=_.findWhere(s.view,{en:e}).title;r.confirm("确认清空"+t+"金额吗？").success(function(){i.emptyMoney({type:e},function(e){})})}}])}),define("controller/redPacketStat",["app","service/userInfo","service/dialog","service/redPacket"],function(e){e.controller("redPacketStatCtrl",["$rootScope","$scope","$state","redPacket",function(e,t,n,i){function r(e){return{title:_.findWhere(o.view,{en:e}).title}}e.page="red_packet";var o=t.vm={};o.view=[{title:"转发量红包统计",en:"FORWARD"},{title:"访问量红包统计",en:"FORWARD_VIEW"},{title:"申请量红包统计",en:"FORWARD_APPLY"},{title:"内推进入面试红包统计",en:"REF_INTERVIEW"},{title:"内推入职红包统计",en:"REF_ONBOARD"},{title:"内推通过试用期红包统计",en:"REF_PASSPROBATION"}],i.statistics(function(e){o.statistic=e,_.each(o.statistic,function(e,t){e=_.extend(e,r(e.reward_type))})})}])}),define("directive/sorter",["app"],function(e){e.directive("sorterContainer",["$rootScope","$location",function(e,t){return{scope:{sorterData:"=",sorterDisableSearch:"="},controller:["$scope",function(n){var i=this;n.sorterData||(n.sorterData={}),this.sortBy=n.sorterData._sort||"",this.order=n.sorterData._s||"desc",this.sorterData=n.sorterData,n.sorterDisableSearch||(this.sortBy=t.search()._sort,this.order=t.search()._order),this.sortList=function(r){var o={};if(r!=i.sortBy?i.order="desc":"asc"==i.order?i.order="desc":i.order="asc",i.sortBy=r,o={_sort:i.sortBy,_order:i.order},n.sorterData=o,e.$broadcast("change:sorter",o),!n.sorterDisableSearch){var a=_.extend(t.search(),o,{_page:1});t.search(a)}}}],restrict:"AE"}}]),e.directive("sorter",["$rootScope","$location",function(e,t){return{restrict:"A",require:"?^sorterContainer",transclude:!0,templateUrl:"views/com/sorter.html",scope:{},link:function(e,t,n,i){i&&(e.active=!1,e.itemSortBy=n.sorter,e.$watch(function(){return i.order},function(){e.order=i.order}),e.$watch(function(){return i.sortBy},function(t){e.active=e.itemSortBy==i.sortBy}),e.sortList=i.sortList)}}}])}),define("controller/redPacketStatDetail",["app","service/userInfo","service/redPacket","service/dialog","directive/sorter"],function(e){e.controller("redPacketStatDetailCtrl",["$rootScope","$scope","$state","$location","redPacket",function(e,t,n,i,r){function o(){r.statisticsDetail(s.params,function(e){s.statisticList=e.items,s._meta=e._meta})}function a(e){return{title:_.findWhere(s.view,{en:e}).title}}e.page="red_packet";var s=t.vm={};s.type=n.params.view,s.view=[{title:"转发量红包统计",en:"FORWARD"},{title:"访问量红包统计",en:"FORWARD_VIEW"},{title:"申请量红包统计",en:"FORWARD_APPLY"},{title:"内推进入面试红包统计",en:"REF_INTERVIEW"},{title:"内推入职红包统计",en:"REF_ONBOARD"},{title:"内推通过试用期红包统计",en:"REF_PASSPROBATION"}],s.title=a(s.type).title,s.params={type:s.type,order_by:"detail_time",order:"DESC"},o(),s.sort=function(e){s.params.order="DESC"==s.params.order?"ASC":"DESC",s.params.order_by=e,o()},s.currentPage=1,s.pageChanged=function(){s.params.page=s.currentPage,o()}}])}),define("service/interview",["app","service/constant","service/user","service/corp"],function(e){e.service("interview",["$resource","APIHOST","user","corp",function(e,t,n,i){return e(t+"sgs-interview-form/:id",{id:"@id"},{update:{method:"PUT"},pdfDownLoad:{method:"GET",url:t+"sgs-interview-form/download"}})}])}),define("service/filiale",["app","service/constant","service/user","service/corp"],function(e){e.service("filiale",["$resource","APIHOST","user","corp",function(e,t,n,i){return e(t+"filiale/:name",{name:"@name"},{create:{method:"post",url:t+"filiale"}})}])}),define("directive/filiale",["app","angular","service/filiale","service/dialog","../service/dpt-icons"],function(e,t){e.directive("filiale",["filiale","$modal","$rootScope","dialog","dpt-icons",function(e,t,n,i,r){return{restrict:"E",replace:"true",templateUrl:"views/com/filiale.html",transclude:!0,scope:{selectFiliale:"=",active:"=active"},link:function(n,r,o){var a=n.vm={};n.$watch("vm.selectFiliale",function(e){n.selectFiliale=e},!0),e.query({},function(e){n.filiales=e,n.filiales.splice(0,0,{filiale_name:"新增公司"}),n.active&&(a.selectFiliale=_.findWhere(n.filiales,{filiale_name:n.active}))}),n.newFiliale=function(){t.open({templateUrl:"views/com/filialeEdite.html",controller:["$scope",function(t){t.title="新增公司",t.modalLabel="公司名称:",t.save=function(r){var o=_.findWhere(n.filiales,{filiale_name:t.input});o&&(i.alert(t.input+"已存在"),a.selectFiliale=n.filiales[1]),t.input&&!o&&(e.save({},{filiale_name:t.input},function(i){e.query({},function(e){n.filiales=e,n.filiales.splice(0,0,{filiale_name:"新增公司"}),a.selectFiliale=_.findWhere(n.filiales,{filiale_name:t.input})})}),t.$close()),t.input||i.alert("请输入新公司的名称")},t.close=function(){t.$close()}}]})},n.removeFiliale=function(i){t.open({templateUrl:"views/com/deleteAlert.html",controller:["$scope",function(t){t.Name=i,t.yes=function(){e.delete({name:i},{},function(t){e.query({},function(e){n.filiales=e,n.filiales.splice(0,0,{filiale_name:"新增公司"}),a.selectFiliale=n.filiales[1]})}),t.$close(),a.selectFiliale=n.filiales[0]},t.no=function(){t.$close()}}]})},n.onSelect=function(e,t){"新增公司"==e.filiale_name&&(n.newFiliale(),a.selectFiliale=n.filiales[1])}}}}])}),define("controller/interviewList",["app","service/alert","service/dialog","service/interview","service/utils","service/filiale","directive/filiale"],function(e){e.controller("interviewListCtrl",["$rootScope","$scope","$location","$state","$timeout","$modal","position","dialog","interview","utils","filiale",function(e,t,n,i,r,o,a,s,l,c,u){function d(e){e.interview_date&&(e.interview_date=e.interview_date.getTime()/1e3),l.get(e,function(e){p.list=e.items,p.total=e._meta.totalCount,p.view.companies=e._filters.filiale_name})}e.page="interview_list";var p=t.vm={};p.view={},p.cond={order_by:"interview_date",order:"desc"};var h={page:1,read:"all"};p.currentPage=1,p.filter={},p.filter.read=h.read,h=_.extend(h,p.cond),d(h),p.filterSbm=function(){h=_.extend(h,p.filter,p.cond),h.page=1,d(h)},p.pageChanged=function(){h.page=p.currentPage,d(h)},p.setOrder=function(e){p.cond.order_by==e&&"asc"==p.cond.order?p.cond.order="desc":p.cond.order="asc",p.cond.order_by=e,h=_.extend(h,p.cond),d(h)},p.openCalendar=function(e){r(function(){p.calendarOpened=!0},0)},p.openCalendar_create=function(e){r(function(){p.createCalendarOpened=!0},0)},p.pdfLoad=function(){var e=_.pluck(_.filter(p.list,function(e){return e.checked}),"id");if(e.length)return c.getHost()+c.getCorporation()+"/admin/sgs-interview-form/download?ids="+e.join(",")},p.pdfAllLoad=function(){h.downAll="all",h=_.extend(h,p.filter),l.get(h,function(e){h.downAll=void 0;var t=_.pluck(e.items,"id");t.length&&(p.pdfUrlAll=c.getHost()+c.getCorporation()+"/admin/sgs-interview-form/download?ids="+t.join(","),r(function(){location.href=p.pdfUrlAll}))})},p.createFillale=function(){o.open({templateUrl:"views/com/filialeEdite.html",controller:["$scope",function(e){e.title="新增公司",e.modalLabel="公司名称:",u.query(function(t){e.filiales=t}),e.save=function(){return e.input?_.findWhere(e.filiales,{filiale_name:e.input})?void s.alert("您填写的信息已存在,无需重复添加！"):void u.save({},{filiale_name:e.input},function(t){s.alert("新增成功！"),e.input="",u.query(function(t){e.filiales=t})}):void s.alert("您还没填写任何信息！")},e.delete=function(t){s.confirm("确认删除"+t.filiale_name+"吗？").success(function(){u.delete({name:t.filiale_name},function(){u.query(function(t){e.filiales=t})})})},e.close=function(){e.$close()}}]})},p.closeCreate=function(){p.creating=!1},p.closeUrlAlert=function(){p.created=!1},p.createSubmit=function(e){if(e.$valid){var t={};t.interview_date=p.creatUrl.interview_date.getTime()/1e3,t.filiale_name=p.creatUrl.filiale_name.filiale_name,t.user_name=p.creatUrl.user_name,l.save(t,function(e){p.url=e.url,p.creatUrl.user_name="",p.created=!0})}},p.checkedAll=!1,p.allCheck=function(){angular.forEach(p.list,function(e){e.checked=p.checkedAll})},p.itemCheck=function(e){e.checked||(p.checkedAll=!1)}}])}),define("controller/interviewDetail",["app","service/interview","service/utils"],function(e){e.controller("interviewDetailCtrl",["$rootScope","$scope","$state","$sce","interview","utils",function(e,t,n,i,r,o){function a(){r.get({id:n.params.id},function(e){s.employee=e,s.previewUrl=o.getHost()+o.getCorporation()+"/admin/sgs-interview-form/preview?file_name="+s.employee.file_name})}var s=t.vm={};s.files=[],a(),s.loadFile=function(){location.href=o.getHost()+o.getCorporation()+"/admin/sgs-interview-form/download?ids="+s.employee.id},s.getTrustedUrl=function(e){return i.trustAsUrl(e.toString())}}])}),define("box",["controller/rankCtrl","controller/statisticCtrl","controller/posList","controller/posNew","controller/posDetail","controller/resumeNewList","controller/resumeDetail","controller/talentList","controller/recList","controller/recDetail","controller/setting","controller/userInfo","controller/about","controller/identify","controller/redPacketRule","controller/redPacketStat","controller/redPacketStatDetail","controller/interviewList","controller/interviewDetail"],function(){return null}),require.config({urlArgs:function(e,t){if(isDev)return(t.indexOf("?")===-1?"?":"&")+"v="+(new Date).getTime();var n="v_f=1.0.1";if(changeVersion&&changeVersion.hasOwnProperty(e)){var i="v_s="+changeVersion[e];return(t.indexOf("?")===-1?"?":"&")+n+"&"+i}return(t.indexOf("?")===-1?"?":"&")+n},paths:{angular:"../bower_components/angular/angular.min","ui-router":"../bower_components/ui-router/release/angular-ui-router.min","ui-bootstrap":"../bower_components/angular-bootstrap/ui-bootstrap-tpls.min",ngResource:"../bower_components/angular-resource/angular-resource.min",md5:"../bower_components/angular-md5/angular-md5.min",ngCookies:"../bower_components/angular-cookies/angular-cookies.min",_:"../bower_components/underscore/underscore-min",jquery:"../bower_components/jquery/dist/jquery.min",ngUnderScore:"../bower_components/angular-underscore/angular-underscore.min",i18n:"../bower_components/angular-i18n/angular-locale_zh-cn",sticky:"../bower_components/ngSticky/lib/sticky","ui-select":"../bower_components/ui-select/dist/select","angular-sanitize":"../bower_components/angular-sanitize/angular-sanitize.min",highcharts:"../bower_components/highcharts/js/highcharts","highcharts-ng":"../bower_components/highcharts-ng/dist/highcharts-ng.min",fileUpload:"../bower_components/angular-file-upload/dist/angular-file-upload.min",um:"../bower_components/um/umeditor",umConfig:"../bower_components/um/umeditor.config",kindeditor:"../bower_components/kindeditor/kindeditor-all"},shim:{angular:{deps:["jquery"],exports:"angular"},jquery:{exports:"jquery"},zh:{exports:"zh"},umConfig:{exports:"umConfig"},um:{deps:["jquery","umConfig"],exports:"um"},kindeditor:{exports:"kindeditor"},highcharts:["jquery"],"highcharts-ng":["angular","highcharts"],i18n:["angular"],"ui-bootstrap-tpl":["angular"],"ui-router":["angular"],"ui-bootstrap":["angular"],ngCookies:["angular"],ngUnderScore:["angular"],fileUpload:["angular"],"angular-sanitize":["angular"],ngResource:["angular"],md5:["angular"],"ui-select":["angular","angular-sanitize"],sticky:["angular"]},waitSeconds:0}),require(["angular","app","router","service/myInterceptor","service/user","box"],function(e,t,n){t.run(["$rootScope",function(e){e.listParams={},e.$on("$stateChangeSuccess",function(t,n){e.title=n.title})}]),t.config(["$httpProvider","$tooltipProvider","$stateProvider","$urlRouterProvider","$controllerProvider","$compileProvider","$filterProvider","$provide",function(e,i,r,o,a,s,l,c){e.defaults.useXDomain=!0,delete e.defaults.headers.common["X-Requested-With"],e.defaults.headers.get||(e.defaults.headers.get={}),e.defaults.headers.get["Cache-Control"]="no-cache",e.defaults.headers.get.Pragma="no-cache",e.interceptors.push("myInterceptor"),t.controller=a.register,t.directive=s.directive,t.filter=l.register,t.factory=c.factory,t.service=c.service,n(r,o,a)}]),e.bootstrap(document,["app"])}),define("main",function(){});